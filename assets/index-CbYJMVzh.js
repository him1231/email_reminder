const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StaffList-aqbZSy7I.js","assets/Add-MrdITCVp.js","assets/Delete-ClO8GDCN.js","assets/index.esm-Ubo6snQp.js","assets/Grid-Ci02xzul.js","assets/index.esm-DxwDVbjq.js","assets/TextField-BgZTWqKq.js","assets/Grow-DtVAx6xa.js","assets/resolveComponentProps-CivoGKXj.js","assets/IconButton-D2leuxha.js","assets/StaffEdit-DCXoojIz.js","assets/StaffGroups-BnsAYkGy.js","assets/Edit-BrHnZEaV.js","assets/Popper-DckpR7tz.js","assets/DialogTitle-DtfCdj8f.js","assets/MenuItem-Cnk0G5Od.js","assets/SwitchBase-C69rQmeF.js","assets/Alert-qlcSlbDY.js","assets/Close-DHQnEFsM.js","assets/TemplateEditor-BW1M517K.js","assets/mustache-lDDT9aR0.js","assets/EmailQueue-Cqr7G_8o.js","assets/ComposeEmail-P2zWJ-G1.js","assets/FormControlLabel-BQKSWLAp.js","assets/RulesList-CidTzlPG.js","assets/Switch-A0YHhoKr.js","assets/RuleEditor-TWEXSeZJ.js","assets/DevSetupBanner-BA67uire.js"])))=>i.map(i=>d[i]);
function Sk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Ak={BASE_URL:"/email_reminder/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};window.__VITE_ENV__=Ak;function KS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wr(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var HS={exports:{}},pf={},QS={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=Symbol.for("react.element"),Rk=Symbol.for("react.portal"),Pk=Symbol.for("react.fragment"),Ck=Symbol.for("react.strict_mode"),bk=Symbol.for("react.profiler"),xk=Symbol.for("react.provider"),kk=Symbol.for("react.context"),Vk=Symbol.for("react.forward_ref"),Nk=Symbol.for("react.suspense"),Dk=Symbol.for("react.memo"),Ok=Symbol.for("react.lazy"),Mw=Symbol.iterator;function Mk(t){return t===null||typeof t!="object"?null:(t=Mw&&t[Mw]||t["@@iterator"],typeof t=="function"?t:null)}var YS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JS=Object.assign,XS={};function Ma(t,e,n){this.props=t,this.context=e,this.refs=XS,this.updater=n||YS}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZS(){}ZS.prototype=Ma.prototype;function Xy(t,e,n){this.props=t,this.context=e,this.refs=XS,this.updater=n||YS}var Zy=Xy.prototype=new ZS;Zy.constructor=Xy;JS(Zy,Ma.prototype);Zy.isPureReactComponent=!0;var Lw=Array.isArray,e1=Object.prototype.hasOwnProperty,e_={current:null},t1={key:!0,ref:!0,__self:!0,__source:!0};function n1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)e1.call(e,r)&&!t1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lc,type:t,key:s,ref:o,props:i,_owner:e_.current}}function Lk(t,e){return{$$typeof:lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function t_(t){return typeof t=="object"&&t!==null&&t.$$typeof===lc}function Fk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fw=/\/+/g;function um(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fk(""+t.key):e.toString(36)}function Vh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lc:case Rk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+um(o,0):r,Lw(i)?(n="",t!=null&&(n=t.replace(Fw,"$&/")+"/"),Vh(i,e,n,"",function(c){return c})):i!=null&&(t_(i)&&(i=Lk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Lw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+um(s,a);o+=Vh(s,e,n,l,i)}else if(l=Mk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+um(s,a++),o+=Vh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nh(t,e,n){if(t==null)return t;var r=[],i=0;return Vh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Nh={transition:null},Uk={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Nh,ReactCurrentOwner:e_};function r1(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:nh,forEach:function(t,e,n){nh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nh(t,function(){e++}),e},toArray:function(t){return nh(t,function(e){return e})||[]},only:function(t){if(!t_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Ma;le.Fragment=Pk;le.Profiler=bk;le.PureComponent=Xy;le.StrictMode=Ck;le.Suspense=Nk;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uk;le.act=r1;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=e_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)e1.call(e,l)&&!t1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:lc,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:kk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xk,_context:t},t.Consumer=t};le.createElement=n1;le.createFactory=function(t){var e=n1.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:Vk,render:t}};le.isValidElement=t_;le.lazy=function(t){return{$$typeof:Ok,_payload:{_status:-1,_result:t},_init:$k}};le.memo=function(t,e){return{$$typeof:Dk,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Nh.transition;Nh.transition={};try{t()}finally{Nh.transition=e}};le.unstable_act=r1;le.useCallback=function(t,e){return Gt.current.useCallback(t,e)};le.useContext=function(t){return Gt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Gt.current.useEffect(t,e)};le.useId=function(){return Gt.current.useId()};le.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Gt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};le.useRef=function(t){return Gt.current.useRef(t)};le.useState=function(t){return Gt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Gt.current.useTransition()};le.version="18.3.1";QS.exports=le;var V=QS.exports;const Ts=KS(V),dd=Sk({__proto__:null,default:Ts},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=V,jk=Symbol.for("react.element"),zk=Symbol.for("react.fragment"),qk=Object.prototype.hasOwnProperty,Wk=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gk={key:!0,ref:!0,__self:!0,__source:!0};function i1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qk.call(e,r)&&!Gk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jk,type:t,key:s,ref:o,props:i,_owner:Wk.current}}pf.Fragment=zk;pf.jsx=i1;pf.jsxs=i1;HS.exports=pf;var j=HS.exports,s1={exports:{}},gn={},o1={exports:{}},a1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,Z){var te=K.length;K.push(Z);e:for(;0<te;){var Pe=te-1>>>1,Ue=K[Pe];if(0<i(Ue,Z))K[Pe]=Z,K[te]=Ue,te=Pe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],te=K.pop();if(te!==Z){K[0]=te;e:for(var Pe=0,Ue=K.length,Ar=Ue>>>1;Pe<Ar;){var rt=2*(Pe+1)-1,En=K[rt],jt=rt+1,nr=K[jt];if(0>i(En,te))jt<Ue&&0>i(nr,En)?(K[Pe]=nr,K[jt]=te,Pe=jt):(K[Pe]=En,K[rt]=te,Pe=rt);else if(jt<Ue&&0>i(nr,te))K[Pe]=nr,K[jt]=te,Pe=jt;else break e}}return Z}function i(K,Z){var te=K.sortIndex-Z.sortIndex;return te!==0?te:K.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,g=!1,T=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(K){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=K)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function k(K){if(_=!1,S(K),!T)if(n(l)!==null)T=!0,lt(F);else{var Z=n(c);Z!==null&&Bt(k,Z.startTime-K)}}function F(K,Z){T=!1,_&&(_=!1,v(w),w=-1),g=!0;var te=p;try{for(S(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||K&&!b());){var Pe=d.callback;if(typeof Pe=="function"){d.callback=null,p=d.priorityLevel;var Ue=Pe(d.expirationTime<=Z);Z=t.unstable_now(),typeof Ue=="function"?d.callback=Ue:d===n(l)&&r(l),S(Z)}else r(l);d=n(l)}if(d!==null)var Ar=!0;else{var rt=n(c);rt!==null&&Bt(k,rt.startTime-Z),Ar=!1}return Ar}finally{d=null,p=te,g=!1}}var M=!1,E=null,w=-1,R=5,C=-1;function b(){return!(t.unstable_now()-C<R)}function x(){if(E!==null){var K=t.unstable_now();C=K;var Z=!0;try{Z=E(!0,K)}finally{Z?A():(M=!1,E=null)}}else M=!1}var A;if(typeof y=="function")A=function(){y(x)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Ie=ie.port2;ie.port1.onmessage=x,A=function(){Ie.postMessage(null)}}else A=function(){P(x,0)};function lt(K){E=K,M||(M=!0,A())}function Bt(K,Z){w=P(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,lt(F))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var te=p;p=Z;try{return K()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=p;p=K;try{return Z()}finally{p=te}},t.unstable_scheduleCallback=function(K,Z,te){var Pe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Pe+te:Pe):te=Pe,K){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=te+Ue,K={id:h++,callback:Z,priorityLevel:K,startTime:te,expirationTime:Ue,sortIndex:-1},te>Pe?(K.sortIndex=te,e(c,K),n(l)===null&&K===n(c)&&(_?(v(w),w=-1):_=!0,Bt(k,te-Pe))):(K.sortIndex=Ue,e(l,K),T||g||(T=!0,lt(F))),K},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(K){var Z=p;return function(){var te=p;p=Z;try{return K.apply(this,arguments)}finally{p=te}}}})(a1);o1.exports=a1;var Kk=o1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=V,pn=Kk;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l1=new Set,Eu={};function to(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(Eu[t]=e,t=0;t<e.length;t++)l1.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cg=Object.prototype.hasOwnProperty,Qk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$w={},Uw={};function Yk(t){return cg.call(Uw,t)?!0:cg.call($w,t)?!1:Qk.test(t)?Uw[t]=!0:($w[t]=!0,!1)}function Jk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xk(t,e,n,r){if(e===null||typeof e>"u"||Jk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var n_=/[\-:]([a-z])/g;function r_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n_,r_);kt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n_,r_);kt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n_,r_);kt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function i_(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xk(e,n,i,r)&&(n=null),r||i===null?Yk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=Hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rh=Symbol.for("react.element"),No=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),s_=Symbol.for("react.strict_mode"),hg=Symbol.for("react.profiler"),u1=Symbol.for("react.provider"),c1=Symbol.for("react.context"),o_=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),a_=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),h1=Symbol.for("react.offscreen"),Bw=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=Bw&&t[Bw]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,cm;function ql(t){if(cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cm=e&&e[1]||""}return`
`+cm+t}var hm=!1;function dm(t,e){if(!t||hm)return"";hm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ql(t):""}function Zk(t){switch(t.tag){case 5:return ql(t.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return t=dm(t.type,!1),t;case 11:return t=dm(t.type.render,!1),t;case 1:return t=dm(t.type,!0),t;default:return""}}function pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Do:return"Fragment";case No:return"Portal";case hg:return"Profiler";case s_:return"StrictMode";case dg:return"Suspense";case fg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c1:return(t.displayName||"Context")+".Consumer";case u1:return(t._context.displayName||"Context")+".Provider";case o_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case a_:return e=t.displayName||null,e!==null?e:pg(t.type)||"Memo";case fi:e=t._payload,t=t._init;try{return pg(t(e))}catch{}}return null}function eV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pg(e);case 8:return e===s_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tV(t){var e=d1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ih(t){t._valueTracker||(t._valueTracker=tV(t))}function f1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mg(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p1(t,e){e=e.checked,e!=null&&i_(t,"checked",e,!1)}function gg(t,e){p1(t,e);var n=zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yg(t,e.type,n):e.hasOwnProperty("defaultValue")&&yg(t,e.type,zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yg(t,e,n){(e!=="number"||fd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wl=Array.isArray;function Wo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _g(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Wl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zi(n)}}function m1(t,e){var n=zi(e.value),r=zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ww(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function g1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?g1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sh,y1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sh=sh||document.createElement("div"),sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nV=["Webkit","ms","Moz","O"];Object.keys(Zl).forEach(function(t){nV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zl[e]=Zl[t]})});function _1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zl.hasOwnProperty(t)&&Zl[t]?(""+e).trim():e+"px"}function v1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rV=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eg(t,e){if(e){if(rV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ig=null;function l_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tg=null,Go=null,Ko=null;function Gw(t){if(t=hc(t)){if(typeof Tg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=vf(e),Tg(t.stateNode,t.type,e))}}function E1(t){Go?Ko?Ko.push(t):Ko=[t]:Go=t}function w1(){if(Go){var t=Go,e=Ko;if(Ko=Go=null,Gw(t),e)for(t=0;t<e.length;t++)Gw(e[t])}}function I1(t,e){return t(e)}function T1(){}var fm=!1;function S1(t,e,n){if(fm)return t(e,n);fm=!0;try{return I1(t,e,n)}finally{fm=!1,(Go!==null||Ko!==null)&&(T1(),w1())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=vf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Sg=!1;if(Mr)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){Sg=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{Sg=!1}function iV(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var eu=!1,pd=null,md=!1,Ag=null,sV={onError:function(t){eu=!0,pd=t}};function oV(t,e,n,r,i,s,o,a,l){eu=!1,pd=null,iV.apply(sV,arguments)}function aV(t,e,n,r,i,s,o,a,l){if(oV.apply(this,arguments),eu){if(eu){var c=pd;eu=!1,pd=null}else throw Error(z(198));md||(md=!0,Ag=c)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kw(t){if(no(t)!==t)throw Error(z(188))}function lV(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kw(i),t;if(s===r)return Kw(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function R1(t){return t=lV(t),t!==null?P1(t):null}function P1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P1(t);if(e!==null)return e;t=t.sibling}return null}var C1=pn.unstable_scheduleCallback,Hw=pn.unstable_cancelCallback,uV=pn.unstable_shouldYield,cV=pn.unstable_requestPaint,Je=pn.unstable_now,hV=pn.unstable_getCurrentPriorityLevel,u_=pn.unstable_ImmediatePriority,b1=pn.unstable_UserBlockingPriority,gd=pn.unstable_NormalPriority,dV=pn.unstable_LowPriority,x1=pn.unstable_IdlePriority,mf=null,mr=null;function fV(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(mf,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:gV,pV=Math.log,mV=Math.LN2;function gV(t){return t>>>=0,t===0?32:31-(pV(t)/mV|0)|0}var oh=64,ah=4194304;function Gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Gl(a):(s&=o,s!==0&&(r=Gl(s)))}else o=n&~i,o!==0?r=Gl(o):s!==0&&(r=Gl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),i=1<<n,r|=t[n],e&=~i;return r}function yV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _V(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Hn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yV(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Rg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k1(){var t=oh;return oh<<=1,!(oh&4194240)&&(oh=64),t}function pm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function vV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function c_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function V1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N1,h_,D1,O1,M1,Pg=!1,lh=[],bi=null,xi=null,ki=null,Tu=new Map,Su=new Map,gi=[],EV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qw(t,e){switch(t){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function xl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hc(e),e!==null&&h_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wV(t,e,n,r,i){switch(e){case"focusin":return bi=xl(bi,t,e,n,r,i),!0;case"dragenter":return xi=xl(xi,t,e,n,r,i),!0;case"mouseover":return ki=xl(ki,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tu.set(s,xl(Tu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Su.set(s,xl(Su.get(s)||null,t,e,n,r,i)),!0}return!1}function L1(t){var e=Ss(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=A1(n),e!==null){t.blockedOn=e,M1(t.priority,function(){D1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ig=r,n.target.dispatchEvent(r),Ig=null}else return e=hc(n),e!==null&&h_(e),t.blockedOn=n,!1;e.shift()}return!0}function Yw(t,e,n){Dh(t)&&n.delete(e)}function IV(){Pg=!1,bi!==null&&Dh(bi)&&(bi=null),xi!==null&&Dh(xi)&&(xi=null),ki!==null&&Dh(ki)&&(ki=null),Tu.forEach(Yw),Su.forEach(Yw)}function kl(t,e){t.blockedOn===e&&(t.blockedOn=null,Pg||(Pg=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,IV)))}function Au(t){function e(i){return kl(i,t)}if(0<lh.length){kl(lh[0],t);for(var n=1;n<lh.length;n++){var r=lh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bi!==null&&kl(bi,t),xi!==null&&kl(xi,t),ki!==null&&kl(ki,t),Tu.forEach(e),Su.forEach(e),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)L1(n),n.blockedOn===null&&gi.shift()}var Ho=Gr.ReactCurrentBatchConfig,_d=!0;function TV(t,e,n,r){var i=ye,s=Ho.transition;Ho.transition=null;try{ye=1,d_(t,e,n,r)}finally{ye=i,Ho.transition=s}}function SV(t,e,n,r){var i=ye,s=Ho.transition;Ho.transition=null;try{ye=4,d_(t,e,n,r)}finally{ye=i,Ho.transition=s}}function d_(t,e,n,r){if(_d){var i=Cg(t,e,n,r);if(i===null)Sm(t,e,r,vd,n),Qw(t,r);else if(wV(i,t,e,n,r))r.stopPropagation();else if(Qw(t,r),e&4&&-1<EV.indexOf(t)){for(;i!==null;){var s=hc(i);if(s!==null&&N1(s),s=Cg(t,e,n,r),s===null&&Sm(t,e,r,vd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sm(t,e,r,null,n)}}var vd=null;function Cg(t,e,n,r){if(vd=null,t=l_(r),t=Ss(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vd=t,null}function F1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hV()){case u_:return 1;case b1:return 4;case gd:case dV:return 16;case x1:return 536870912;default:return 16}default:return 16}}var Ti=null,f_=null,Oh=null;function $1(){if(Oh)return Oh;var t,e=f_,n=e.length,r,i="value"in Ti?Ti.value:Ti.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Oh=i.slice(t,1<r?1-r:void 0)}function Mh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uh(){return!0}function Jw(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uh:Jw,this.isPropagationStopped=Jw,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uh)},persist:function(){},isPersistent:uh}),e}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p_=yn(La),cc=ze({},La,{view:0,detail:0}),AV=yn(cc),mm,gm,Vl,gf=ze({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vl&&(Vl&&t.type==="mousemove"?(mm=t.screenX-Vl.screenX,gm=t.screenY-Vl.screenY):gm=mm=0,Vl=t),mm)},movementY:function(t){return"movementY"in t?t.movementY:gm}}),Xw=yn(gf),RV=ze({},gf,{dataTransfer:0}),PV=yn(RV),CV=ze({},cc,{relatedTarget:0}),ym=yn(CV),bV=ze({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),xV=yn(bV),kV=ze({},La,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VV=yn(kV),NV=ze({},La,{data:0}),Zw=yn(NV),DV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MV[t])?!!e[t]:!1}function m_(){return LV}var FV=ze({},cc,{key:function(t){if(t.key){var e=DV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m_,charCode:function(t){return t.type==="keypress"?Mh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$V=yn(FV),UV=ze({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e0=yn(UV),BV=ze({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m_}),jV=yn(BV),zV=ze({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),qV=yn(zV),WV=ze({},gf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GV=yn(WV),KV=[9,13,27,32],g_=Mr&&"CompositionEvent"in window,tu=null;Mr&&"documentMode"in document&&(tu=document.documentMode);var HV=Mr&&"TextEvent"in window&&!tu,U1=Mr&&(!g_||tu&&8<tu&&11>=tu),t0=" ",n0=!1;function B1(t,e){switch(t){case"keyup":return KV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function QV(t,e){switch(t){case"compositionend":return j1(e);case"keypress":return e.which!==32?null:(n0=!0,t0);case"textInput":return t=e.data,t===t0&&n0?null:t;default:return null}}function YV(t,e){if(Oo)return t==="compositionend"||!g_&&B1(t,e)?(t=$1(),Oh=f_=Ti=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U1&&e.locale!=="ko"?null:e.data;default:return null}}var JV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JV[t.type]:e==="textarea"}function z1(t,e,n,r){E1(r),e=Ed(e,"onChange"),0<e.length&&(n=new p_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nu=null,Ru=null;function XV(t){eA(t,0)}function yf(t){var e=Fo(t);if(f1(e))return t}function ZV(t,e){if(t==="change")return e}var q1=!1;if(Mr){var _m;if(Mr){var vm="oninput"in document;if(!vm){var i0=document.createElement("div");i0.setAttribute("oninput","return;"),vm=typeof i0.oninput=="function"}_m=vm}else _m=!1;q1=_m&&(!document.documentMode||9<document.documentMode)}function s0(){nu&&(nu.detachEvent("onpropertychange",W1),Ru=nu=null)}function W1(t){if(t.propertyName==="value"&&yf(Ru)){var e=[];z1(e,Ru,t,l_(t)),S1(XV,e)}}function e2(t,e,n){t==="focusin"?(s0(),nu=e,Ru=n,nu.attachEvent("onpropertychange",W1)):t==="focusout"&&s0()}function t2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yf(Ru)}function n2(t,e){if(t==="click")return yf(e)}function r2(t,e){if(t==="input"||t==="change")return yf(e)}function i2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:i2;function Pu(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cg.call(e,i)||!Jn(t[i],e[i]))return!1}return!0}function o0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a0(t,e){var n=o0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o0(n)}}function G1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K1(){for(var t=window,e=fd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fd(t.document)}return e}function y_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s2(t){var e=K1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G1(n.ownerDocument.documentElement,n)){if(r!==null&&y_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=a0(n,s);var o=a0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o2=Mr&&"documentMode"in document&&11>=document.documentMode,Mo=null,bg=null,ru=null,xg=!1;function l0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xg||Mo==null||Mo!==fd(r)||(r=Mo,"selectionStart"in r&&y_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ru&&Pu(ru,r)||(ru=r,r=Ed(bg,"onSelect"),0<r.length&&(e=new p_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mo)))}function ch(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lo={animationend:ch("Animation","AnimationEnd"),animationiteration:ch("Animation","AnimationIteration"),animationstart:ch("Animation","AnimationStart"),transitionend:ch("Transition","TransitionEnd")},Em={},H1={};Mr&&(H1=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function _f(t){if(Em[t])return Em[t];if(!Lo[t])return t;var e=Lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in H1)return Em[t]=e[n];return t}var Q1=_f("animationend"),Y1=_f("animationiteration"),J1=_f("animationstart"),X1=_f("transitionend"),Z1=new Map,u0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,e){Z1.set(t,e),to(e,[t])}for(var wm=0;wm<u0.length;wm++){var Im=u0[wm],a2=Im.toLowerCase(),l2=Im[0].toUpperCase()+Im.slice(1);Xi(a2,"on"+l2)}Xi(Q1,"onAnimationEnd");Xi(Y1,"onAnimationIteration");Xi(J1,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(X1,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function c0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aV(r,e,void 0,t),t.currentTarget=null}function eA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;c0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;c0(i,a,c),s=l}}}if(md)throw t=Ag,md=!1,Ag=null,t}function Ve(t,e){var n=e[Og];n===void 0&&(n=e[Og]=new Set);var r=t+"__bubble";n.has(r)||(tA(e,t,2,!1),n.add(r))}function Tm(t,e,n){var r=0;e&&(r|=4),tA(n,t,r,e)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Cu(t){if(!t[hh]){t[hh]=!0,l1.forEach(function(n){n!=="selectionchange"&&(u2.has(n)||Tm(n,!1,t),Tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hh]||(e[hh]=!0,Tm("selectionchange",!1,e))}}function tA(t,e,n,r){switch(F1(e)){case 1:var i=TV;break;case 4:i=SV;break;default:i=d_}n=i.bind(null,e,n,t),i=void 0,!Sg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ss(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}S1(function(){var c=s,h=l_(n),d=[];e:{var p=Z1.get(t);if(p!==void 0){var g=p_,T=t;switch(t){case"keypress":if(Mh(n)===0)break e;case"keydown":case"keyup":g=$V;break;case"focusin":T="focus",g=ym;break;case"focusout":T="blur",g=ym;break;case"beforeblur":case"afterblur":g=ym;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=PV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jV;break;case Q1:case Y1:case J1:g=xV;break;case X1:g=qV;break;case"scroll":g=AV;break;case"wheel":g=GV;break;case"copy":case"cut":case"paste":g=VV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=e0}var _=(e&4)!==0,P=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var y=c,S;y!==null;){S=y;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,v!==null&&(k=Iu(y,v),k!=null&&_.push(bu(y,k,S)))),P)break;y=y.return}0<_.length&&(p=new g(p,T,null,n,h),d.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ig&&(T=n.relatedTarget||n.fromElement)&&(Ss(T)||T[Lr]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=c,T=T?Ss(T):null,T!==null&&(P=no(T),T!==P||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=c),g!==T)){if(_=Xw,k="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=e0,k="onPointerLeave",v="onPointerEnter",y="pointer"),P=g==null?p:Fo(g),S=T==null?p:Fo(T),p=new _(k,y+"leave",g,n,h),p.target=P,p.relatedTarget=S,k=null,Ss(h)===c&&(_=new _(v,y+"enter",T,n,h),_.target=S,_.relatedTarget=P,k=_),P=k,g&&T)t:{for(_=g,v=T,y=0,S=_;S;S=go(S))y++;for(S=0,k=v;k;k=go(k))S++;for(;0<y-S;)_=go(_),y--;for(;0<S-y;)v=go(v),S--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=go(_),v=go(v)}_=null}else _=null;g!==null&&h0(d,p,g,_,!1),T!==null&&P!==null&&h0(d,P,T,_,!0)}}e:{if(p=c?Fo(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var F=ZV;else if(r0(p))if(q1)F=r2;else{F=t2;var M=e2}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=n2);if(F&&(F=F(t,c))){z1(d,F,n,h);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&yg(p,"number",p.value)}switch(M=c?Fo(c):window,t){case"focusin":(r0(M)||M.contentEditable==="true")&&(Mo=M,bg=c,ru=null);break;case"focusout":ru=bg=Mo=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,l0(d,n,h);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":l0(d,n,h)}var E;if(g_)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Oo?B1(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(U1&&n.locale!=="ko"&&(Oo||w!=="onCompositionStart"?w==="onCompositionEnd"&&Oo&&(E=$1()):(Ti=h,f_="value"in Ti?Ti.value:Ti.textContent,Oo=!0)),M=Ed(c,w),0<M.length&&(w=new Zw(w,t,null,n,h),d.push({event:w,listeners:M}),E?w.data=E:(E=j1(n),E!==null&&(w.data=E)))),(E=HV?QV(t,n):YV(t,n))&&(c=Ed(c,"onBeforeInput"),0<c.length&&(h=new Zw("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=E))}eA(d,e)})}function bu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Iu(t,n),s!=null&&r.unshift(bu(t,s,i)),s=Iu(t,e),s!=null&&r.push(bu(t,s,i))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Iu(n,s),l!=null&&o.unshift(bu(n,l,a))):i||(l=Iu(n,s),l!=null&&o.push(bu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var c2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function d0(t){return(typeof t=="string"?t:""+t).replace(c2,`
`).replace(h2,"")}function dh(t,e,n){if(e=d0(e),d0(t)!==e&&n)throw Error(z(425))}function wd(){}var kg=null,Vg=null;function Ng(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dg=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(t){return f0.resolve(null).then(t).catch(p2)}:Dg;function p2(t){setTimeout(function(){throw t})}function Am(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Au(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function p0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fa=Math.random().toString(36).slice(2),dr="__reactFiber$"+Fa,xu="__reactProps$"+Fa,Lr="__reactContainer$"+Fa,Og="__reactEvents$"+Fa,m2="__reactListeners$"+Fa,g2="__reactHandles$"+Fa;function Ss(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p0(t);t!==null;){if(n=t[dr])return n;t=p0(t)}return e}t=n,n=t.parentNode}return null}function hc(t){return t=t[dr]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function vf(t){return t[xu]||null}var Mg=[],$o=-1;function Zi(t){return{current:t}}function De(t){0>$o||(t.current=Mg[$o],Mg[$o]=null,$o--)}function Ce(t,e){$o++,Mg[$o]=t.current,t.current=e}var qi={},Ut=Zi(qi),Zt=Zi(!1),Ls=qi;function aa(t,e){var n=t.type.contextTypes;if(!n)return qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function en(t){return t=t.childContextTypes,t!=null}function Id(){De(Zt),De(Ut)}function m0(t,e,n){if(Ut.current!==qi)throw Error(z(168));Ce(Ut,e),Ce(Zt,n)}function nA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,eV(t)||"Unknown",i));return ze({},n,r)}function Td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,Ls=Ut.current,Ce(Ut,t),Ce(Zt,Zt.current),!0}function g0(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=nA(t,e,Ls),r.__reactInternalMemoizedMergedChildContext=t,De(Zt),De(Ut),Ce(Ut,t)):De(Zt),Ce(Zt,n)}var Pr=null,Ef=!1,Rm=!1;function rA(t){Pr===null?Pr=[t]:Pr.push(t)}function y2(t){Ef=!0,rA(t)}function es(){if(!Rm&&Pr!==null){Rm=!0;var t=0,e=ye;try{var n=Pr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,Ef=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),C1(u_,es),i}finally{ye=e,Rm=!1}}return null}var Uo=[],Bo=0,Sd=null,Ad=0,An=[],Rn=0,Fs=null,xr=1,kr="";function ps(t,e){Uo[Bo++]=Ad,Uo[Bo++]=Sd,Sd=t,Ad=e}function iA(t,e,n){An[Rn++]=xr,An[Rn++]=kr,An[Rn++]=Fs,Fs=t;var r=xr;t=kr;var i=32-Hn(r)-1;r&=~(1<<i),n+=1;var s=32-Hn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xr=1<<32-Hn(e)+i|n<<i|r,kr=s+t}else xr=1<<s|n<<i|r,kr=t}function __(t){t.return!==null&&(ps(t,1),iA(t,1,0))}function v_(t){for(;t===Sd;)Sd=Uo[--Bo],Uo[Bo]=null,Ad=Uo[--Bo],Uo[Bo]=null;for(;t===Fs;)Fs=An[--Rn],An[Rn]=null,kr=An[--Rn],An[Rn]=null,xr=An[--Rn],An[Rn]=null}var cn=null,un=null,Le=!1,Wn=null;function sA(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,un=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:xr,overflow:kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cn=t,un=null,!0):!1;default:return!1}}function Lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fg(t){if(Le){var e=un;if(e){var n=e;if(!y0(t,e)){if(Lg(t))throw Error(z(418));e=Vi(n.nextSibling);var r=cn;e&&y0(t,e)?sA(r,n):(t.flags=t.flags&-4097|2,Le=!1,cn=t)}}else{if(Lg(t))throw Error(z(418));t.flags=t.flags&-4097|2,Le=!1,cn=t}}}function _0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function fh(t){if(t!==cn)return!1;if(!Le)return _0(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ng(t.type,t.memoizedProps)),e&&(e=un)){if(Lg(t))throw oA(),Error(z(418));for(;e;)sA(t,e),e=Vi(e.nextSibling)}if(_0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=cn?Vi(t.stateNode.nextSibling):null;return!0}function oA(){for(var t=un;t;)t=Vi(t.nextSibling)}function la(){un=cn=null,Le=!1}function E_(t){Wn===null?Wn=[t]:Wn.push(t)}var _2=Gr.ReactCurrentBatchConfig;function Nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ph(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function v0(t){var e=t._init;return e(t._payload)}function aA(t){function e(v,y){if(t){var S=v.deletions;S===null?(v.deletions=[y],v.flags|=16):S.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Mi(v,y),v.index=0,v.sibling=null,v}function s(v,y,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<y?(v.flags|=2,y):S):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,S,k){return y===null||y.tag!==6?(y=Nm(S,v.mode,k),y.return=v,y):(y=i(y,S),y.return=v,y)}function l(v,y,S,k){var F=S.type;return F===Do?h(v,y,S.props.children,k,S.key):y!==null&&(y.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===fi&&v0(F)===y.type)?(k=i(y,S.props),k.ref=Nl(v,y,S),k.return=v,k):(k=zh(S.type,S.key,S.props,null,v.mode,k),k.ref=Nl(v,y,S),k.return=v,k)}function c(v,y,S,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Dm(S,v.mode,k),y.return=v,y):(y=i(y,S.children||[]),y.return=v,y)}function h(v,y,S,k,F){return y===null||y.tag!==7?(y=Vs(S,v.mode,k,F),y.return=v,y):(y=i(y,S),y.return=v,y)}function d(v,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Nm(""+y,v.mode,S),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rh:return S=zh(y.type,y.key,y.props,null,v.mode,S),S.ref=Nl(v,null,y),S.return=v,S;case No:return y=Dm(y,v.mode,S),y.return=v,y;case fi:var k=y._init;return d(v,k(y._payload),S)}if(Wl(y)||Cl(y))return y=Vs(y,v.mode,S,null),y.return=v,y;ph(v,y)}return null}function p(v,y,S,k){var F=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return F!==null?null:a(v,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rh:return S.key===F?l(v,y,S,k):null;case No:return S.key===F?c(v,y,S,k):null;case fi:return F=S._init,p(v,y,F(S._payload),k)}if(Wl(S)||Cl(S))return F!==null?null:h(v,y,S,k,null);ph(v,S)}return null}function g(v,y,S,k,F){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(S)||null,a(y,v,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case rh:return v=v.get(k.key===null?S:k.key)||null,l(y,v,k,F);case No:return v=v.get(k.key===null?S:k.key)||null,c(y,v,k,F);case fi:var M=k._init;return g(v,y,S,M(k._payload),F)}if(Wl(k)||Cl(k))return v=v.get(S)||null,h(y,v,k,F,null);ph(y,k)}return null}function T(v,y,S,k){for(var F=null,M=null,E=y,w=y=0,R=null;E!==null&&w<S.length;w++){E.index>w?(R=E,E=null):R=E.sibling;var C=p(v,E,S[w],k);if(C===null){E===null&&(E=R);break}t&&E&&C.alternate===null&&e(v,E),y=s(C,y,w),M===null?F=C:M.sibling=C,M=C,E=R}if(w===S.length)return n(v,E),Le&&ps(v,w),F;if(E===null){for(;w<S.length;w++)E=d(v,S[w],k),E!==null&&(y=s(E,y,w),M===null?F=E:M.sibling=E,M=E);return Le&&ps(v,w),F}for(E=r(v,E);w<S.length;w++)R=g(E,v,w,S[w],k),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?w:R.key),y=s(R,y,w),M===null?F=R:M.sibling=R,M=R);return t&&E.forEach(function(b){return e(v,b)}),Le&&ps(v,w),F}function _(v,y,S,k){var F=Cl(S);if(typeof F!="function")throw Error(z(150));if(S=F.call(S),S==null)throw Error(z(151));for(var M=F=null,E=y,w=y=0,R=null,C=S.next();E!==null&&!C.done;w++,C=S.next()){E.index>w?(R=E,E=null):R=E.sibling;var b=p(v,E,C.value,k);if(b===null){E===null&&(E=R);break}t&&E&&b.alternate===null&&e(v,E),y=s(b,y,w),M===null?F=b:M.sibling=b,M=b,E=R}if(C.done)return n(v,E),Le&&ps(v,w),F;if(E===null){for(;!C.done;w++,C=S.next())C=d(v,C.value,k),C!==null&&(y=s(C,y,w),M===null?F=C:M.sibling=C,M=C);return Le&&ps(v,w),F}for(E=r(v,E);!C.done;w++,C=S.next())C=g(E,v,w,C.value,k),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?w:C.key),y=s(C,y,w),M===null?F=C:M.sibling=C,M=C);return t&&E.forEach(function(x){return e(v,x)}),Le&&ps(v,w),F}function P(v,y,S,k){if(typeof S=="object"&&S!==null&&S.type===Do&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case rh:e:{for(var F=S.key,M=y;M!==null;){if(M.key===F){if(F=S.type,F===Do){if(M.tag===7){n(v,M.sibling),y=i(M,S.props.children),y.return=v,v=y;break e}}else if(M.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===fi&&v0(F)===M.type){n(v,M.sibling),y=i(M,S.props),y.ref=Nl(v,M,S),y.return=v,v=y;break e}n(v,M);break}else e(v,M);M=M.sibling}S.type===Do?(y=Vs(S.props.children,v.mode,k,S.key),y.return=v,v=y):(k=zh(S.type,S.key,S.props,null,v.mode,k),k.ref=Nl(v,y,S),k.return=v,v=k)}return o(v);case No:e:{for(M=S.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(v,y.sibling),y=i(y,S.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Dm(S,v.mode,k),y.return=v,v=y}return o(v);case fi:return M=S._init,P(v,y,M(S._payload),k)}if(Wl(S))return T(v,y,S,k);if(Cl(S))return _(v,y,S,k);ph(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,S),y.return=v,v=y):(n(v,y),y=Nm(S,v.mode,k),y.return=v,v=y),o(v)):n(v,y)}return P}var ua=aA(!0),lA=aA(!1),Rd=Zi(null),Pd=null,jo=null,w_=null;function I_(){w_=jo=Pd=null}function T_(t){var e=Rd.current;De(Rd),t._currentValue=e}function $g(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qo(t,e){Pd=t,w_=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(w_!==t)if(t={context:t,memoizedValue:e,next:null},jo===null){if(Pd===null)throw Error(z(308));jo=t,Pd.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return e}var As=null;function S_(t){As===null?As=[t]:As.push(t)}function uA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,S_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fr(t,r)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function A_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fr(t,n)}return i=r.interleaved,i===null?(e.next=e,S_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fr(t,n)}function Lh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,c_(t,n)}}function E0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cd(t,e,n,r){var i=t.updateQueue;pi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,_=a;switch(p=e,g=n,_.tag){case 1:if(T=_.payload,typeof T=="function"){d=T.call(g,d,p);break e}d=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=_.payload,p=typeof T=="function"?T.call(g,d,p):T,p==null)break e;d=ze({},d,p);break e;case 2:pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Us|=o,t.lanes=o,t.memoizedState=d}}function w0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var dc={},gr=Zi(dc),ku=Zi(dc),Vu=Zi(dc);function Rs(t){if(t===dc)throw Error(z(174));return t}function R_(t,e){switch(Ce(Vu,e),Ce(ku,t),Ce(gr,dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vg(e,t)}De(gr),Ce(gr,e)}function ca(){De(gr),De(ku),De(Vu)}function hA(t){Rs(Vu.current);var e=Rs(gr.current),n=vg(e,t.type);e!==n&&(Ce(ku,t),Ce(gr,n))}function P_(t){ku.current===t&&(De(gr),De(ku))}var Be=Zi(0);function bd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pm=[];function C_(){for(var t=0;t<Pm.length;t++)Pm[t]._workInProgressVersionPrimary=null;Pm.length=0}var Fh=Gr.ReactCurrentDispatcher,Cm=Gr.ReactCurrentBatchConfig,$s=0,je=null,ht=null,_t=null,xd=!1,iu=!1,Nu=0,v2=0;function Vt(){throw Error(z(321))}function b_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function x_(t,e,n,r,i,s){if($s=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=t===null||t.memoizedState===null?T2:S2,t=n(r,i),iu){s=0;do{if(iu=!1,Nu=0,25<=s)throw Error(z(301));s+=1,_t=ht=null,e.updateQueue=null,Fh.current=A2,t=n(r,i)}while(iu)}if(Fh.current=kd,e=ht!==null&&ht.next!==null,$s=0,_t=ht=je=null,xd=!1,e)throw Error(z(300));return t}function k_(){var t=Nu!==0;return Nu=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?je.memoizedState=_t=t:_t=_t.next=t,_t}function Dn(){if(ht===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=_t===null?je.memoizedState:_t.next;if(e!==null)_t=e,ht=t;else{if(t===null)throw Error(z(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?je.memoizedState=_t=t:_t=_t.next=t}return _t}function Du(t,e){return typeof e=="function"?e(t):e}function bm(t){var e=Dn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if(($s&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,je.lanes|=h,Us|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Jn(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,Us|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xm(t){var e=Dn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Jn(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dA(){}function fA(t,e){var n=je,r=Dn(),i=e(),s=!Jn(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,V_(gA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Ou(9,mA.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(z(349));$s&30||pA(n,e,i)}return i}function pA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mA(t,e,n,r){e.value=n,e.getSnapshot=r,yA(e)&&_A(t)}function gA(t,e,n){return n(function(){yA(e)&&_A(t)})}function yA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function _A(t){var e=Fr(t,1);e!==null&&Qn(e,t,1,-1)}function I0(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=I2.bind(null,je,t),[e.memoizedState,t]}function Ou(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vA(){return Dn().memoizedState}function $h(t,e,n,r){var i=ar();je.flags|=t,i.memoizedState=Ou(1|e,n,void 0,r===void 0?null:r)}function wf(t,e,n,r){var i=Dn();r=r===void 0?null:r;var s=void 0;if(ht!==null){var o=ht.memoizedState;if(s=o.destroy,r!==null&&b_(r,o.deps)){i.memoizedState=Ou(e,n,s,r);return}}je.flags|=t,i.memoizedState=Ou(1|e,n,s,r)}function T0(t,e){return $h(8390656,8,t,e)}function V_(t,e){return wf(2048,8,t,e)}function EA(t,e){return wf(4,2,t,e)}function wA(t,e){return wf(4,4,t,e)}function IA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TA(t,e,n){return n=n!=null?n.concat([t]):null,wf(4,4,IA.bind(null,e,t),n)}function N_(){}function SA(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AA(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RA(t,e,n){return $s&21?(Jn(n,e)||(n=k1(),je.lanes|=n,Us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function E2(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Cm.transition;Cm.transition={};try{t(!1),e()}finally{ye=n,Cm.transition=r}}function PA(){return Dn().memoizedState}function w2(t,e,n){var r=Oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CA(t))bA(e,n);else if(n=uA(t,e,n,r),n!==null){var i=Wt();Qn(n,t,r,i),xA(n,e,r)}}function I2(t,e,n){var r=Oi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CA(t))bA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o)){var l=e.interleaved;l===null?(i.next=i,S_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=uA(t,e,i,r),n!==null&&(i=Wt(),Qn(n,t,r,i),xA(n,e,r))}}function CA(t){var e=t.alternate;return t===je||e!==null&&e===je}function bA(t,e){iu=xd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,c_(t,n)}}var kd={readContext:Nn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},T2={readContext:Nn,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:T0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$h(4194308,4,IA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $h(4194308,4,t,e)},useInsertionEffect:function(t,e){return $h(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w2.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:I0,useDebugValue:N_,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=I0(!1),e=t[0];return t=E2.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=ar();if(Le){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),wt===null)throw Error(z(349));$s&30||pA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,T0(gA.bind(null,r,s,t),[t]),r.flags|=2048,Ou(9,mA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ar(),e=wt.identifierPrefix;if(Le){var n=kr,r=xr;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S2={readContext:Nn,useCallback:SA,useContext:Nn,useEffect:V_,useImperativeHandle:TA,useInsertionEffect:EA,useLayoutEffect:wA,useMemo:AA,useReducer:bm,useRef:vA,useState:function(){return bm(Du)},useDebugValue:N_,useDeferredValue:function(t){var e=Dn();return RA(e,ht.memoizedState,t)},useTransition:function(){var t=bm(Du)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:dA,useSyncExternalStore:fA,useId:PA,unstable_isNewReconciler:!1},A2={readContext:Nn,useCallback:SA,useContext:Nn,useEffect:V_,useImperativeHandle:TA,useInsertionEffect:EA,useLayoutEffect:wA,useMemo:AA,useReducer:xm,useRef:vA,useState:function(){return xm(Du)},useDebugValue:N_,useDeferredValue:function(t){var e=Dn();return ht===null?e.memoizedState=t:RA(e,ht.memoizedState,t)},useTransition:function(){var t=xm(Du)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:dA,useSyncExternalStore:fA,useId:PA,unstable_isNewReconciler:!1};function jn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var If={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Oi(t),s=Or(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(Qn(e,t,i,r),Lh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Oi(t),s=Or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(Qn(e,t,i,r),Lh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Oi(t),i=Or(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ni(t,i,r),e!==null&&(Qn(e,t,r,n),Lh(e,t,r))}};function S0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pu(n,r)||!Pu(i,s):!0}function kA(t,e,n){var r=!1,i=qi,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(i=en(e)?Ls:Ut.current,r=e.contextTypes,s=(r=r!=null)?aa(t,i):qi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=If,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function A0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&If.enqueueReplaceState(e,e.state,null)}function Bg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},A_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nn(s):(s=en(e)?Ls:Ut.current,i.context=aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ug(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&If.enqueueReplaceState(i,i.state,null),Cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ha(t,e){try{var n="",r=e;do n+=Zk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R2=typeof WeakMap=="function"?WeakMap:Map;function VA(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nd||(Nd=!0,Xg=r),jg(t,e)},n}function NA(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jg(t,e),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function R0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U2.bind(null,t,e,n),e.then(t,t))}function P0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function C0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,Ni(n,e,1))),n.lanes|=1),t)}var P2=Gr.ReactCurrentOwner,Qt=!1;function qt(t,e,n,r){e.child=t===null?lA(e,null,n,r):ua(e,t.child,n,r)}function b0(t,e,n,r,i){n=n.render;var s=e.ref;return Qo(e,i),r=x_(t,e,n,r,s,i),n=k_(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(Le&&n&&__(e),e.flags|=1,qt(t,e,r,i),e.child)}function x0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!B_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,DA(t,e,s,r,i)):(t=zh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pu,n(o,r)&&t.ref===e.ref)return $r(t,e,i)}return e.flags|=1,t=Mi(s,r),t.ref=e.ref,t.return=e,e.child=t}function DA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pu(s,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,$r(t,e,i)}return zg(t,e,n,r,i)}function OA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(qo,sn),sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(qo,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(qo,sn),sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(qo,sn),sn|=r;return qt(t,e,i,n),e.child}function MA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zg(t,e,n,r,i){var s=en(n)?Ls:Ut.current;return s=aa(e,s),Qo(e,i),n=x_(t,e,n,r,s,i),r=k_(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(Le&&r&&__(e),e.flags|=1,qt(t,e,n,i),e.child)}function k0(t,e,n,r,i){if(en(n)){var s=!0;Td(e)}else s=!1;if(Qo(e,i),e.stateNode===null)Uh(t,e),kA(e,n,r),Bg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=en(n)?Ls:Ut.current,c=aa(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&A0(e,o,r,c),pi=!1;var p=e.memoizedState;o.state=p,Cd(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Zt.current||pi?(typeof h=="function"&&(Ug(e,n,h,r),l=e.memoizedState),(a=pi||S0(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:jn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=en(n)?Ls:Ut.current,l=aa(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&A0(e,o,r,l),pi=!1,p=e.memoizedState,o.state=p,Cd(e,r,o,i);var T=e.memoizedState;a!==d||p!==T||Zt.current||pi?(typeof g=="function"&&(Ug(e,n,g,r),T=e.memoizedState),(c=pi||S0(e,n,c,r,p,T,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return qg(t,e,n,r,s,i)}function qg(t,e,n,r,i,s){MA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&g0(e,n,!1),$r(t,e,s);r=e.stateNode,P2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ua(e,t.child,null,s),e.child=ua(e,null,a,s)):qt(t,e,a,s),e.memoizedState=r.state,i&&g0(e,n,!0),e.child}function LA(t){var e=t.stateNode;e.pendingContext?m0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&m0(t,e.context,!1),R_(t,e.containerInfo)}function V0(t,e,n,r,i){return la(),E_(i),e.flags|=256,qt(t,e,n,r),e.child}var Wg={dehydrated:null,treeContext:null,retryLane:0};function Gg(t){return{baseLanes:t,cachePool:null,transitions:null}}function FA(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Be,i&1),t===null)return Fg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Af(o,r,0,null),t=Vs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gg(n),e.memoizedState=Wg,t):D_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return C2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Mi(a,s):(s=Vs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Gg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wg,r}return s=t.child,t=s.sibling,r=Mi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function D_(t,e){return e=Af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mh(t,e,n,r){return r!==null&&E_(r),ua(e,t.child,null,n),t=D_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=km(Error(z(422))),mh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Af({mode:"visible",children:r.children},i,0,null),s=Vs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ua(e,t.child,null,o),e.child.memoizedState=Gg(o),e.memoizedState=Wg,s);if(!(e.mode&1))return mh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=km(s,r,void 0),mh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fr(t,i),Qn(r,t,i,-1))}return U_(),r=km(Error(z(421))),mh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=B2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=Vi(i.nextSibling),cn=e,Le=!0,Wn=null,t!==null&&(An[Rn++]=xr,An[Rn++]=kr,An[Rn++]=Fs,xr=t.id,kr=t.overflow,Fs=e),e=D_(e,r.children),e.flags|=4096,e)}function N0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$g(t.return,e,n)}function Vm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $A(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N0(t,n,e);else if(t.tag===19)N0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vm(e,!0,n,null,s);break;case"together":Vm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function b2(t,e,n){switch(e.tag){case 3:LA(e),la();break;case 5:hA(e);break;case 1:en(e.type)&&Td(e);break;case 4:R_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Rd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?FA(t,e,n):(Ce(Be,Be.current&1),t=$r(t,e,n),t!==null?t.sibling:null);Ce(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $A(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,OA(t,e,n)}return $r(t,e,n)}var UA,Kg,BA,jA;UA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kg=function(){};BA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Rs(gr.current);var s=null;switch(n){case"input":i=mg(t,i),r=mg(t,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=_g(t,i),r=_g(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wd)}Eg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Eu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};jA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dl(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function x2(t,e,n){var r=e.pendingProps;switch(v_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return en(e.type)&&Id(),Nt(e),null;case 3:return r=e.stateNode,ca(),De(Zt),De(Ut),C_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wn!==null&&(ty(Wn),Wn=null))),Kg(t,e),Nt(e),null;case 5:P_(e);var i=Rs(Vu.current);if(n=e.type,t!==null&&e.stateNode!=null)BA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Nt(e),null}if(t=Rs(gr.current),fh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[dr]=e,r[xu]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Kl.length;i++)Ve(Kl[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":jw(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":qw(r,s),Ve("invalid",r)}Eg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dh(r.textContent,a,t),i=["children",""+a]):Eu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":ih(r),zw(r,s,!0);break;case"textarea":ih(r),Ww(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=g1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dr]=e,t[xu]=r,UA(t,e,!1,!1),e.stateNode=t;e:{switch(o=wg(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kl.length;i++)Ve(Kl[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":jw(t,r),i=mg(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":qw(t,r),i=_g(t,r),Ve("invalid",t);break;default:i=r}Eg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?v1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wu(t,l):typeof l=="number"&&wu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&i_(t,s,l,o))}switch(n){case"input":ih(t),zw(t,r,!1);break;case"textarea":ih(t),Ww(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)jA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Rs(Vu.current),Rs(gr.current),fh(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(s=r.nodeValue!==n)&&(t=cn,t!==null))switch(t.tag){case 3:dh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return Nt(e),null;case 13:if(De(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&un!==null&&e.mode&1&&!(e.flags&128))oA(),la(),e.flags|=98560,s=!1;else if(s=fh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[dr]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else Wn!==null&&(ty(Wn),Wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?dt===0&&(dt=3):U_())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return ca(),Kg(t,e),t===null&&Cu(e.stateNode.containerInfo),Nt(e),null;case 10:return T_(e.type._context),Nt(e),null;case 17:return en(e.type)&&Id(),Nt(e),null;case 19:if(De(Be),s=e.memoizedState,s===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Dl(s,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bd(t),o!==null){for(e.flags|=128,Dl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>da&&(e.flags|=128,r=!0,Dl(s,!1),e.lanes=4194304)}else{if(!r)if(t=bd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return Nt(e),null}else 2*Je()-s.renderingStartTime>da&&n!==1073741824&&(e.flags|=128,r=!0,Dl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Be.current,Ce(Be,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return $_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function k2(t,e){switch(v_(e),e.tag){case 1:return en(e.type)&&Id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),De(Zt),De(Ut),C_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return P_(e),null;case 13:if(De(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Be),null;case 4:return ca(),null;case 10:return T_(e.type._context),null;case 22:case 23:return $_(),null;case 24:return null;default:return null}}var gh=!1,Lt=!1,V2=typeof WeakSet=="function"?WeakSet:Set,Q=null;function zo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Hg(t,e,n){try{n()}catch(r){He(t,e,r)}}var D0=!1;function N2(t,e){if(kg=_d,t=K1(),y_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vg={focusedElem:t,selectionRange:n},_d=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var _=T.memoizedProps,P=T.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:jn(e.type,_),P);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){He(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return T=D0,D0=!1,T}function su(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Hg(e,n,s)}i=i.next}while(i!==r)}}function Tf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zA(t){var e=t.alternate;e!==null&&(t.alternate=null,zA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[xu],delete e[Og],delete e[m2],delete e[g2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qA(t){return t.tag===5||t.tag===3||t.tag===4}function O0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wd));else if(r!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}function Jg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jg(t,e,n),t=t.sibling;t!==null;)Jg(t,e,n),t=t.sibling}var Pt=null,zn=!1;function ai(t,e,n){for(n=n.child;n!==null;)WA(t,e,n),n=n.sibling}function WA(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(mf,n)}catch{}switch(n.tag){case 5:Lt||zo(n,e);case 6:var r=Pt,i=zn;Pt=null,ai(t,e,n),Pt=r,zn=i,Pt!==null&&(zn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(zn?(t=Pt,n=n.stateNode,t.nodeType===8?Am(t.parentNode,n):t.nodeType===1&&Am(t,n),Au(t)):Am(Pt,n.stateNode));break;case 4:r=Pt,i=zn,Pt=n.stateNode.containerInfo,zn=!0,ai(t,e,n),Pt=r,zn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Hg(n,e,o),i=i.next}while(i!==r)}ai(t,e,n);break;case 1:if(!Lt&&(zo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,ai(t,e,n),Lt=r):ai(t,e,n);break;default:ai(t,e,n)}}function M0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new V2),e.forEach(function(r){var i=j2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,zn=!1;break e;case 3:Pt=a.stateNode.containerInfo,zn=!0;break e;case 4:Pt=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(Pt===null)throw Error(z(160));WA(s,o,i),Pt=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){He(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GA(e,t),e=e.sibling}function GA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),sr(t),r&4){try{su(3,t,t.return),Tf(3,t)}catch(_){He(t,t.return,_)}try{su(5,t,t.return)}catch(_){He(t,t.return,_)}}break;case 1:Bn(e,t),sr(t),r&512&&n!==null&&zo(n,n.return);break;case 5:if(Bn(e,t),sr(t),r&512&&n!==null&&zo(n,n.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(_){He(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&p1(i,s),wg(a,o);var c=wg(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?v1(i,d):h==="dangerouslySetInnerHTML"?y1(i,d):h==="children"?wu(i,d):i_(i,h,d,c)}switch(a){case"input":gg(i,s);break;case"textarea":m1(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Wo(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Wo(i,!!s.multiple,s.defaultValue,!0):Wo(i,!!s.multiple,s.multiple?[]:"",!1))}i[xu]=s}catch(_){He(t,t.return,_)}}break;case 6:if(Bn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){He(t,t.return,_)}}break;case 3:if(Bn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(_){He(t,t.return,_)}break;case 4:Bn(e,t),sr(t);break;case 13:Bn(e,t),sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(L_=Je())),r&4&&M0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(c=Lt)||h,Bn(e,t),Lt=c):Bn(e,t),sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(d=Q=h;Q!==null;){switch(p=Q,g=p.child,p.tag){case 0:case 11:case 14:case 15:su(4,p,p.return);break;case 1:zo(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(_){He(r,n,_)}}break;case 5:zo(p,p.return);break;case 22:if(p.memoizedState!==null){F0(d);continue}}g!==null?(g.return=p,Q=g):F0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_1("display",o))}catch(_){He(t,t.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){He(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bn(e,t),sr(t),r&4&&M0(t);break;case 21:break;default:Bn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qA(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wu(i,""),r.flags&=-33);var s=O0(t);Jg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=O0(t);Yg(t,a,o);break;default:throw Error(z(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function D2(t,e,n){Q=t,KA(t)}function KA(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=gh;var c=Lt;if(gh=o,(Lt=l)&&!c)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?$0(i):l!==null?(l.return=o,Q=l):$0(i);for(;s!==null;)Q=s,KA(s),s=s.sibling;Q=i,gh=a,Lt=c}L0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):L0(t)}}function L0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Tf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&w0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Au(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Lt||e.flags&512&&Qg(e)}catch(p){He(e,e.return,p)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function F0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function $0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tf(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{Qg(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{Qg(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var O2=Math.ceil,Vd=Gr.ReactCurrentDispatcher,O_=Gr.ReactCurrentOwner,xn=Gr.ReactCurrentBatchConfig,de=0,wt=null,ot=null,xt=0,sn=0,qo=Zi(0),dt=0,Mu=null,Us=0,Sf=0,M_=0,ou=null,Ht=null,L_=0,da=1/0,Rr=null,Nd=!1,Xg=null,Di=null,yh=!1,Si=null,Dd=0,au=0,Zg=null,Bh=-1,jh=0;function Wt(){return de&6?Je():Bh!==-1?Bh:Bh=Je()}function Oi(t){return t.mode&1?de&2&&xt!==0?xt&-xt:_2.transition!==null?(jh===0&&(jh=k1()),jh):(t=ye,t!==0||(t=window.event,t=t===void 0?16:F1(t.type)),t):1}function Qn(t,e,n,r){if(50<au)throw au=0,Zg=null,Error(z(185));uc(t,n,r),(!(de&2)||t!==wt)&&(t===wt&&(!(de&2)&&(Sf|=n),dt===4&&yi(t,xt)),tn(t,r),n===1&&de===0&&!(e.mode&1)&&(da=Je()+500,Ef&&es()))}function tn(t,e){var n=t.callbackNode;_V(t,e);var r=yd(t,t===wt?xt:0);if(r===0)n!==null&&Hw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hw(n),e===1)t.tag===0?y2(U0.bind(null,t)):rA(U0.bind(null,t)),f2(function(){!(de&6)&&es()}),n=null;else{switch(V1(r)){case 1:n=u_;break;case 4:n=b1;break;case 16:n=gd;break;case 536870912:n=x1;break;default:n=gd}n=tR(n,HA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HA(t,e){if(Bh=-1,jh=0,de&6)throw Error(z(327));var n=t.callbackNode;if(Yo()&&t.callbackNode!==n)return null;var r=yd(t,t===wt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Od(t,r);else{e=r;var i=de;de|=2;var s=YA();(wt!==t||xt!==e)&&(Rr=null,da=Je()+500,ks(t,e));do try{F2();break}catch(a){QA(t,a)}while(!0);I_(),Vd.current=s,de=i,ot!==null?e=0:(wt=null,xt=0,e=dt)}if(e!==0){if(e===2&&(i=Rg(t),i!==0&&(r=i,e=ey(t,i))),e===1)throw n=Mu,ks(t,0),yi(t,r),tn(t,Je()),n;if(e===6)yi(t,r);else{if(i=t.current.alternate,!(r&30)&&!M2(i)&&(e=Od(t,r),e===2&&(s=Rg(t),s!==0&&(r=s,e=ey(t,s))),e===1))throw n=Mu,ks(t,0),yi(t,r),tn(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ms(t,Ht,Rr);break;case 3:if(yi(t,r),(r&130023424)===r&&(e=L_+500-Je(),10<e)){if(yd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dg(ms.bind(null,t,Ht,Rr),e);break}ms(t,Ht,Rr);break;case 4:if(yi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Hn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O2(r/1960))-r,10<r){t.timeoutHandle=Dg(ms.bind(null,t,Ht,Rr),r);break}ms(t,Ht,Rr);break;case 5:ms(t,Ht,Rr);break;default:throw Error(z(329))}}}return tn(t,Je()),t.callbackNode===n?HA.bind(null,t):null}function ey(t,e){var n=ou;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=Od(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&ty(e)),t}function ty(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function M2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e){for(e&=~M_,e&=~Sf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function U0(t){if(de&6)throw Error(z(327));Yo();var e=yd(t,0);if(!(e&1))return tn(t,Je()),null;var n=Od(t,e);if(t.tag!==0&&n===2){var r=Rg(t);r!==0&&(e=r,n=ey(t,r))}if(n===1)throw n=Mu,ks(t,0),yi(t,e),tn(t,Je()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,Ht,Rr),tn(t,Je()),null}function F_(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(da=Je()+500,Ef&&es())}}function Bs(t){Si!==null&&Si.tag===0&&!(de&6)&&Yo();var e=de;de|=1;var n=xn.transition,r=ye;try{if(xn.transition=null,ye=1,t)return t()}finally{ye=r,xn.transition=n,de=e,!(de&6)&&es()}}function $_(){sn=qo.current,De(qo)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,d2(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(v_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Id();break;case 3:ca(),De(Zt),De(Ut),C_();break;case 5:P_(r);break;case 4:ca();break;case 13:De(Be);break;case 19:De(Be);break;case 10:T_(r.type._context);break;case 22:case 23:$_()}n=n.return}if(wt=t,ot=t=Mi(t.current,null),xt=sn=e,dt=0,Mu=null,M_=Sf=Us=0,Ht=ou=null,As!==null){for(e=0;e<As.length;e++)if(n=As[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}As=null}return t}function QA(t,e){do{var n=ot;try{if(I_(),Fh.current=kd,xd){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xd=!1}if($s=0,_t=ht=je=null,iu=!1,Nu=0,O_.current=null,n===null||n.return===null){dt=1,Mu=e,ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=P0(o);if(g!==null){g.flags&=-257,C0(g,o,a,s,e),g.mode&1&&R0(s,c,e),e=g,l=c;var T=e.updateQueue;if(T===null){var _=new Set;_.add(l),e.updateQueue=_}else T.add(l);break e}else{if(!(e&1)){R0(s,c,e),U_();break e}l=Error(z(426))}}else if(Le&&a.mode&1){var P=P0(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),C0(P,o,a,s,e),E_(ha(l,a));break e}}s=l=ha(l,a),dt!==4&&(dt=2),ou===null?ou=[s]:ou.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=VA(s,l,e);E0(s,v);break e;case 1:a=l;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Di===null||!Di.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=NA(s,a,e);E0(s,k);break e}}s=s.return}while(s!==null)}XA(n)}catch(F){e=F,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function YA(){var t=Vd.current;return Vd.current=kd,t===null?kd:t}function U_(){(dt===0||dt===3||dt===2)&&(dt=4),wt===null||!(Us&268435455)&&!(Sf&268435455)||yi(wt,xt)}function Od(t,e){var n=de;de|=2;var r=YA();(wt!==t||xt!==e)&&(Rr=null,ks(t,e));do try{L2();break}catch(i){QA(t,i)}while(!0);if(I_(),de=n,Vd.current=r,ot!==null)throw Error(z(261));return wt=null,xt=0,dt}function L2(){for(;ot!==null;)JA(ot)}function F2(){for(;ot!==null&&!uV();)JA(ot)}function JA(t){var e=eR(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?XA(t):ot=e,O_.current=null}function XA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k2(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(n=x2(n,e,sn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);dt===0&&(dt=5)}function ms(t,e,n){var r=ye,i=xn.transition;try{xn.transition=null,ye=1,$2(t,e,n,r)}finally{xn.transition=i,ye=r}return null}function $2(t,e,n,r){do Yo();while(Si!==null);if(de&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vV(t,s),t===wt&&(ot=wt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yh||(yh=!0,tR(gd,function(){return Yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=ye;ye=1;var a=de;de|=4,O_.current=null,N2(t,n),GA(n,t),s2(Vg),_d=!!kg,Vg=kg=null,t.current=n,D2(n),cV(),de=a,ye=o,xn.transition=s}else t.current=n;if(yh&&(yh=!1,Si=t,Dd=i),s=t.pendingLanes,s===0&&(Di=null),fV(n.stateNode),tn(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nd)throw Nd=!1,t=Xg,Xg=null,t;return Dd&1&&t.tag!==0&&Yo(),s=t.pendingLanes,s&1?t===Zg?au++:(au=0,Zg=t):au=0,es(),null}function Yo(){if(Si!==null){var t=V1(Dd),e=xn.transition,n=ye;try{if(xn.transition=null,ye=16>t?16:t,Si===null)var r=!1;else{if(t=Si,Si=null,Dd=0,de&6)throw Error(z(331));var i=de;for(de|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:su(8,h,s)}var d=h.child;if(d!==null)d.return=h,Q=d;else for(;Q!==null;){h=Q;var p=h.sibling,g=h.return;if(zA(h),h===c){Q=null;break}if(p!==null){p.return=g,Q=p;break}Q=g}}}var T=s.alternate;if(T!==null){var _=T.child;if(_!==null){T.child=null;do{var P=_.sibling;_.sibling=null,_=P}while(_!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:su(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Q=v;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Q=S;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tf(9,a)}}catch(F){He(a,a.return,F)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(de=i,es(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(mf,t)}catch{}r=!0}return r}finally{ye=n,xn.transition=e}}return!1}function B0(t,e,n){e=ha(n,e),e=VA(t,e,1),t=Ni(t,e,1),e=Wt(),t!==null&&(uc(t,1,e),tn(t,e))}function He(t,e,n){if(t.tag===3)B0(t,t,n);else for(;e!==null;){if(e.tag===3){B0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){t=ha(n,t),t=NA(e,t,1),e=Ni(e,t,1),t=Wt(),e!==null&&(uc(e,1,t),tn(e,t));break}}e=e.return}}function U2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(xt&n)===n&&(dt===4||dt===3&&(xt&130023424)===xt&&500>Je()-L_?ks(t,0):M_|=n),tn(t,e)}function ZA(t,e){e===0&&(t.mode&1?(e=ah,ah<<=1,!(ah&130023424)&&(ah=4194304)):e=1);var n=Wt();t=Fr(t,e),t!==null&&(uc(t,e,n),tn(t,n))}function B2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZA(t,n)}function j2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),ZA(t,n)}var eR;eR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,b2(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,Le&&e.flags&1048576&&iA(e,Ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uh(t,e),t=e.pendingProps;var i=aa(e,Ut.current);Qo(e,n),i=x_(null,e,r,t,i,n);var s=k_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(s=!0,Td(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A_(e),i.updater=If,e.stateNode=i,i._reactInternals=e,Bg(e,r,t,n),e=qg(null,e,r,!0,s,n)):(e.tag=0,Le&&s&&__(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=q2(r),t=jn(r,t),i){case 0:e=zg(null,e,r,t,n);break e;case 1:e=k0(null,e,r,t,n);break e;case 11:e=b0(null,e,r,t,n);break e;case 14:e=x0(null,e,r,jn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),zg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),k0(t,e,r,i,n);case 3:e:{if(LA(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,cA(t,e),Cd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ha(Error(z(423)),e),e=V0(t,e,r,n,i);break e}else if(r!==i){i=ha(Error(z(424)),e),e=V0(t,e,r,n,i);break e}else for(un=Vi(e.stateNode.containerInfo.firstChild),cn=e,Le=!0,Wn=null,n=lA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===i){e=$r(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return hA(e),t===null&&Fg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ng(r,i)?o=null:s!==null&&Ng(r,s)&&(e.flags|=32),MA(t,e),qt(t,e,o,n),e.child;case 6:return t===null&&Fg(e),null;case 13:return FA(t,e,n);case 4:return R_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ua(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),b0(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(Rd,r._currentValue),r._currentValue=o,s!==null)if(Jn(s.value,o)){if(s.children===i.children&&!Zt.current){e=$r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Or(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$g(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$g(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qo(e,n),i=Nn(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=jn(r,e.pendingProps),i=jn(r.type,i),x0(t,e,r,i,n);case 15:return DA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Uh(t,e),e.tag=1,en(r)?(t=!0,Td(e)):t=!1,Qo(e,n),kA(e,r,i),Bg(e,r,i,n),qg(null,e,r,!0,t,n);case 19:return $A(t,e,n);case 22:return OA(t,e,n)}throw Error(z(156,e.tag))};function tR(t,e){return C1(t,e)}function z2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new z2(t,e,n,r)}function B_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q2(t){if(typeof t=="function")return B_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===o_)return 11;if(t===a_)return 14}return 2}function Mi(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")B_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Do:return Vs(n.children,i,s,e);case s_:o=8,i|=8;break;case hg:return t=bn(12,n,e,i|2),t.elementType=hg,t.lanes=s,t;case dg:return t=bn(13,n,e,i),t.elementType=dg,t.lanes=s,t;case fg:return t=bn(19,n,e,i),t.elementType=fg,t.lanes=s,t;case h1:return Af(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u1:o=10;break e;case c1:o=9;break e;case o_:o=11;break e;case a_:o=14;break e;case fi:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vs(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function Af(t,e,n,r){return t=bn(22,t,r,e),t.elementType=h1,t.lanes=n,t.stateNode={isHidden:!1},t}function Nm(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function Dm(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pm(0),this.expirationTimes=pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function j_(t,e,n,r,i,s,o,a,l){return t=new W2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A_(s),t}function G2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nR(t){if(!t)return qi;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(en(n))return nA(t,n,e)}return e}function rR(t,e,n,r,i,s,o,a,l){return t=j_(n,r,!0,t,i,s,o,a,l),t.context=nR(null),n=t.current,r=Wt(),i=Oi(n),s=Or(r,i),s.callback=e??null,Ni(n,s,i),t.current.lanes=i,uc(t,i,r),tn(t,r),t}function Rf(t,e,n,r){var i=e.current,s=Wt(),o=Oi(i);return n=nR(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ni(i,e,o),t!==null&&(Qn(t,i,o,s),Lh(t,i,o)),o}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function j0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function z_(t,e){j0(t,e),(t=t.alternate)&&j0(t,e)}function K2(){return null}var iR=typeof reportError=="function"?reportError:function(t){console.error(t)};function q_(t){this._internalRoot=t}Pf.prototype.render=q_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Rf(t,e,null,null)};Pf.prototype.unmount=q_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){Rf(null,t,null,null)}),e[Lr]=null}};function Pf(t){this._internalRoot=t}Pf.prototype.unstable_scheduleHydration=function(t){if(t){var e=O1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gi.length&&e!==0&&e<gi[n].priority;n++);gi.splice(n,0,t),n===0&&L1(t)}};function W_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function z0(){}function H2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Md(o);s.call(c)}}var o=rR(e,r,t,0,null,!1,!1,"",z0);return t._reactRootContainer=o,t[Lr]=o.current,Cu(t.nodeType===8?t.parentNode:t),Bs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Md(l);a.call(c)}}var l=j_(t,0,!1,null,null,!1,!1,"",z0);return t._reactRootContainer=l,t[Lr]=l.current,Cu(t.nodeType===8?t.parentNode:t),Bs(function(){Rf(e,l,n,r)}),l}function bf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Md(o);a.call(l)}}Rf(e,o,t,i)}else o=H2(n,e,t,i,r);return Md(o)}N1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gl(e.pendingLanes);n!==0&&(c_(e,n|1),tn(e,Je()),!(de&6)&&(da=Je()+500,es()))}break;case 13:Bs(function(){var r=Fr(t,1);if(r!==null){var i=Wt();Qn(r,t,1,i)}}),z_(t,1)}};h_=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var n=Wt();Qn(e,t,134217728,n)}z_(t,134217728)}};D1=function(t){if(t.tag===13){var e=Oi(t),n=Fr(t,e);if(n!==null){var r=Wt();Qn(n,t,e,r)}z_(t,e)}};O1=function(){return ye};M1=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Tg=function(t,e,n){switch(e){case"input":if(gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vf(r);if(!i)throw Error(z(90));f1(r),gg(r,i)}}}break;case"textarea":m1(t,n);break;case"select":e=n.value,e!=null&&Wo(t,!!n.multiple,e,!1)}};I1=F_;T1=Bs;var Q2={usingClientEntryPoint:!1,Events:[hc,Fo,vf,E1,w1,F_]},Ol={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y2={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||K2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{mf=_h.inject(Y2),mr=_h}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W_(e))throw Error(z(200));return G2(t,e,null,n)};gn.createRoot=function(t,e){if(!W_(t))throw Error(z(299));var n=!1,r="",i=iR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=j_(t,1,!1,null,null,n,!1,r,i),t[Lr]=e.current,Cu(t.nodeType===8?t.parentNode:t),new q_(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=R1(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return Bs(t)};gn.hydrate=function(t,e,n){if(!Cf(e))throw Error(z(200));return bf(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!W_(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=iR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rR(e,null,t,1,n??null,i,!1,s,o),t[Lr]=e.current,Cu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pf(e)};gn.render=function(t,e,n){if(!Cf(e))throw Error(z(200));return bf(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!Cf(t))throw Error(z(40));return t._reactRootContainer?(Bs(function(){bf(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};gn.unstable_batchedUpdates=F_;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cf(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return bf(t,e,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function sR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sR)}catch(t){console.error(t)}}sR(),s1.exports=gn;var oR=s1.exports;const az=KS(oR);var aR,q0=oR;aR=q0.createRoot,q0.hydrateRoot;const Lu={black:"#000",white:"#fff"},yo={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},_o={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},vo={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Eo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},wo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ml={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},J2={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Fu(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const X2=Object.freeze(Object.defineProperty({__proto__:null,default:Fu},Symbol.toStringTag,{value:"Module"})),$u="$$material";function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B.apply(null,arguments)}function be(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Z2(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function eN(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var tN=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(eN(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Z2(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ot="-ms-",Ld="-moz-",fe="-webkit-",lR="comm",G_="rule",K_="decl",nN="@import",uR="@keyframes",rN="@layer",iN=Math.abs,xf=String.fromCharCode,sN=Object.assign;function oN(t,e){return bt(t,0)^45?(((e<<2^bt(t,0))<<2^bt(t,1))<<2^bt(t,2))<<2^bt(t,3):0}function cR(t){return t.trim()}function aN(t,e){return(t=e.exec(t))?t[0]:t}function pe(t,e,n){return t.replace(e,n)}function ny(t,e){return t.indexOf(e)}function bt(t,e){return t.charCodeAt(e)|0}function Uu(t,e,n){return t.slice(e,n)}function ur(t){return t.length}function H_(t){return t.length}function vh(t,e){return e.push(t),t}function lN(t,e){return t.map(e).join("")}var kf=1,fa=1,hR=0,nn=0,st=0,$a="";function Vf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:kf,column:fa,length:o,return:""}}function Ll(t,e){return sN(Vf("",null,null,"",null,null,0),t,{length:-t.length},e)}function uN(){return st}function cN(){return st=nn>0?bt($a,--nn):0,fa--,st===10&&(fa=1,kf--),st}function hn(){return st=nn<hR?bt($a,nn++):0,fa++,st===10&&(fa=1,kf++),st}function yr(){return bt($a,nn)}function qh(){return nn}function fc(t,e){return Uu($a,t,e)}function Bu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dR(t){return kf=fa=1,hR=ur($a=t),nn=0,[]}function fR(t){return $a="",t}function Wh(t){return cR(fc(nn-1,ry(t===91?t+2:t===40?t+1:t)))}function hN(t){for(;(st=yr())&&st<33;)hn();return Bu(t)>2||Bu(st)>3?"":" "}function dN(t,e){for(;--e&&hn()&&!(st<48||st>102||st>57&&st<65||st>70&&st<97););return fc(t,qh()+(e<6&&yr()==32&&hn()==32))}function ry(t){for(;hn();)switch(st){case t:return nn;case 34:case 39:t!==34&&t!==39&&ry(st);break;case 40:t===41&&ry(t);break;case 92:hn();break}return nn}function fN(t,e){for(;hn()&&t+st!==57;)if(t+st===84&&yr()===47)break;return"/*"+fc(e,nn-1)+"*"+xf(t===47?t:hn())}function pN(t){for(;!Bu(yr());)hn();return fc(t,nn)}function mN(t){return fR(Gh("",null,null,null,[""],t=dR(t),0,[0],t))}function Gh(t,e,n,r,i,s,o,a,l){for(var c=0,h=0,d=o,p=0,g=0,T=0,_=1,P=1,v=1,y=0,S="",k=i,F=s,M=r,E=S;P;)switch(T=y,y=hn()){case 40:if(T!=108&&bt(E,d-1)==58){ny(E+=pe(Wh(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=Wh(y);break;case 9:case 10:case 13:case 32:E+=hN(T);break;case 92:E+=dN(qh()-1,7);continue;case 47:switch(yr()){case 42:case 47:vh(gN(fN(hn(),qh()),e,n),l);break;default:E+="/"}break;case 123*_:a[c++]=ur(E)*v;case 125*_:case 59:case 0:switch(y){case 0:case 125:P=0;case 59+h:v==-1&&(E=pe(E,/\f/g,"")),g>0&&ur(E)-d&&vh(g>32?G0(E+";",r,n,d-1):G0(pe(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(vh(M=W0(E,e,n,c,h,i,a,S,k=[],F=[],d),s),y===123)if(h===0)Gh(E,e,M,M,k,s,d,a,F);else switch(p===99&&bt(E,3)===110?100:p){case 100:case 108:case 109:case 115:Gh(t,M,M,r&&vh(W0(t,M,M,0,0,i,a,S,i,k=[],d),F),i,F,d,a,r?k:F);break;default:Gh(E,M,M,M,[""],F,0,a,F)}}c=h=g=0,_=v=1,S=E="",d=o;break;case 58:d=1+ur(E),g=T;default:if(_<1){if(y==123)--_;else if(y==125&&_++==0&&cN()==125)continue}switch(E+=xf(y),y*_){case 38:v=h>0?1:(E+="\f",-1);break;case 44:a[c++]=(ur(E)-1)*v,v=1;break;case 64:yr()===45&&(E+=Wh(hn())),p=yr(),h=d=ur(S=E+=pN(qh())),y++;break;case 45:T===45&&ur(E)==2&&(_=0)}}return s}function W0(t,e,n,r,i,s,o,a,l,c,h){for(var d=i-1,p=i===0?s:[""],g=H_(p),T=0,_=0,P=0;T<r;++T)for(var v=0,y=Uu(t,d+1,d=iN(_=o[T])),S=t;v<g;++v)(S=cR(_>0?p[v]+" "+y:pe(y,/&\f/g,p[v])))&&(l[P++]=S);return Vf(t,e,n,i===0?G_:a,l,c,h)}function gN(t,e,n){return Vf(t,e,n,lR,xf(uN()),Uu(t,2,-2),0)}function G0(t,e,n,r){return Vf(t,e,n,K_,Uu(t,0,r),Uu(t,r+1,-1),r)}function Jo(t,e){for(var n="",r=H_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function yN(t,e,n,r){switch(t.type){case rN:if(t.children.length)break;case nN:case K_:return t.return=t.return||t.value;case lR:return"";case uR:return t.return=t.value+"{"+Jo(t.children,r)+"}";case G_:t.value=t.props.join(",")}return ur(n=Jo(t.children,r))?t.return=t.value+"{"+n+"}":""}function _N(t){var e=H_(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function vN(t){return function(e){e.root||(e=e.return)&&t(e)}}function pR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var EN=function(e,n,r){for(var i=0,s=0;i=s,s=yr(),i===38&&s===12&&(n[r]=1),!Bu(s);)hn();return fc(e,nn)},wN=function(e,n){var r=-1,i=44;do switch(Bu(i)){case 0:i===38&&yr()===12&&(n[r]=1),e[r]+=EN(nn-1,n,r);break;case 2:e[r]+=Wh(i);break;case 4:if(i===44){e[++r]=yr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xf(i)}while(i=hn());return e},IN=function(e,n){return fR(wN(dR(e),n))},K0=new WeakMap,TN=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!K0.get(r))&&!i){K0.set(e,!0);for(var s=[],o=IN(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var h=0;h<a.length;h++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},SN=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function mR(t,e){switch(oN(t,e)){case 5103:return fe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return fe+t+Ld+t+Ot+t+t;case 6828:case 4268:return fe+t+Ot+t+t;case 6165:return fe+t+Ot+"flex-"+t+t;case 5187:return fe+t+pe(t,/(\w+).+(:[^]+)/,fe+"box-$1$2"+Ot+"flex-$1$2")+t;case 5443:return fe+t+Ot+"flex-item-"+pe(t,/flex-|-self/,"")+t;case 4675:return fe+t+Ot+"flex-line-pack"+pe(t,/align-content|flex-|-self/,"")+t;case 5548:return fe+t+Ot+pe(t,"shrink","negative")+t;case 5292:return fe+t+Ot+pe(t,"basis","preferred-size")+t;case 6060:return fe+"box-"+pe(t,"-grow","")+fe+t+Ot+pe(t,"grow","positive")+t;case 4554:return fe+pe(t,/([^-])(transform)/g,"$1"+fe+"$2")+t;case 6187:return pe(pe(pe(t,/(zoom-|grab)/,fe+"$1"),/(image-set)/,fe+"$1"),t,"")+t;case 5495:case 3959:return pe(t,/(image-set\([^]*)/,fe+"$1$`$1");case 4968:return pe(pe(t,/(.+:)(flex-)?(.*)/,fe+"box-pack:$3"+Ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fe+t+t;case 4095:case 3583:case 4068:case 2532:return pe(t,/(.+)-inline(.+)/,fe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ur(t)-1-e>6)switch(bt(t,e+1)){case 109:if(bt(t,e+4)!==45)break;case 102:return pe(t,/(.+:)(.+)-([^]+)/,"$1"+fe+"$2-$3$1"+Ld+(bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ny(t,"stretch")?mR(pe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(bt(t,e+1)!==115)break;case 6444:switch(bt(t,ur(t)-3-(~ny(t,"!important")&&10))){case 107:return pe(t,":",":"+fe)+t;case 101:return pe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+fe+(bt(t,14)===45?"inline-":"")+"box$3$1"+fe+"$2$3$1"+Ot+"$2box$3")+t}break;case 5936:switch(bt(t,e+11)){case 114:return fe+t+Ot+pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return fe+t+Ot+pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return fe+t+Ot+pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return fe+t+Ot+t+t}return t}var AN=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case K_:e.return=mR(e.value,e.length);break;case uR:return Jo([Ll(e,{value:pe(e.value,"@","@"+fe)})],i);case G_:if(e.length)return lN(e.props,function(s){switch(aN(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jo([Ll(e,{props:[pe(s,/:(read-\w+)/,":"+Ld+"$1")]})],i);case"::placeholder":return Jo([Ll(e,{props:[pe(s,/:(plac\w+)/,":"+fe+"input-$1")]}),Ll(e,{props:[pe(s,/:(plac\w+)/,":"+Ld+"$1")]}),Ll(e,{props:[pe(s,/:(plac\w+)/,Ot+"input-$1")]})],i)}return""})}},RN=[AN],gR=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var P=_.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||RN,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var P=_.getAttribute("data-emotion").split(" "),v=1;v<P.length;v++)s[P[v]]=!0;a.push(_)});var l,c=[TN,SN];{var h,d=[yN,vN(function(_){h.insert(_)})],p=_N(c.concat(i,d)),g=function(P){return Jo(mN(P),p)};l=function(P,v,y,S){h=y,g(P?P+"{"+v.styles+"}":v.styles),S&&(T.inserted[v.name]=!0)}}var T={key:n,sheet:new tN({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return T.sheet.hydrate(a),T},yR={exports:{}},ve={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var St=typeof Symbol=="function"&&Symbol.for,Q_=St?Symbol.for("react.element"):60103,Y_=St?Symbol.for("react.portal"):60106,Nf=St?Symbol.for("react.fragment"):60107,Df=St?Symbol.for("react.strict_mode"):60108,Of=St?Symbol.for("react.profiler"):60114,Mf=St?Symbol.for("react.provider"):60109,Lf=St?Symbol.for("react.context"):60110,J_=St?Symbol.for("react.async_mode"):60111,Ff=St?Symbol.for("react.concurrent_mode"):60111,$f=St?Symbol.for("react.forward_ref"):60112,Uf=St?Symbol.for("react.suspense"):60113,PN=St?Symbol.for("react.suspense_list"):60120,Bf=St?Symbol.for("react.memo"):60115,jf=St?Symbol.for("react.lazy"):60116,CN=St?Symbol.for("react.block"):60121,bN=St?Symbol.for("react.fundamental"):60117,xN=St?Symbol.for("react.responder"):60118,kN=St?Symbol.for("react.scope"):60119;function _n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Q_:switch(t=t.type,t){case J_:case Ff:case Nf:case Of:case Df:case Uf:return t;default:switch(t=t&&t.$$typeof,t){case Lf:case $f:case jf:case Bf:case Mf:return t;default:return e}}case Y_:return e}}}function _R(t){return _n(t)===Ff}ve.AsyncMode=J_;ve.ConcurrentMode=Ff;ve.ContextConsumer=Lf;ve.ContextProvider=Mf;ve.Element=Q_;ve.ForwardRef=$f;ve.Fragment=Nf;ve.Lazy=jf;ve.Memo=Bf;ve.Portal=Y_;ve.Profiler=Of;ve.StrictMode=Df;ve.Suspense=Uf;ve.isAsyncMode=function(t){return _R(t)||_n(t)===J_};ve.isConcurrentMode=_R;ve.isContextConsumer=function(t){return _n(t)===Lf};ve.isContextProvider=function(t){return _n(t)===Mf};ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Q_};ve.isForwardRef=function(t){return _n(t)===$f};ve.isFragment=function(t){return _n(t)===Nf};ve.isLazy=function(t){return _n(t)===jf};ve.isMemo=function(t){return _n(t)===Bf};ve.isPortal=function(t){return _n(t)===Y_};ve.isProfiler=function(t){return _n(t)===Of};ve.isStrictMode=function(t){return _n(t)===Df};ve.isSuspense=function(t){return _n(t)===Uf};ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nf||t===Ff||t===Of||t===Df||t===Uf||t===PN||typeof t=="object"&&t!==null&&(t.$$typeof===jf||t.$$typeof===Bf||t.$$typeof===Mf||t.$$typeof===Lf||t.$$typeof===$f||t.$$typeof===bN||t.$$typeof===xN||t.$$typeof===kN||t.$$typeof===CN)};ve.typeOf=_n;yR.exports=ve;var VN=yR.exports,vR=VN,NN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ER={};ER[vR.ForwardRef]=NN;ER[vR.Memo]=DN;var ON=!0;function wR(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var X_=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||ON===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Z_=function(e,n,r){X_(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function MN(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var LN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},FN=/[A-Z]|^ms/g,$N=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IR=function(e){return e.charCodeAt(1)===45},H0=function(e){return e!=null&&typeof e!="boolean"},Om=pR(function(t){return IR(t)?t:t.replace(FN,"-$&").toLowerCase()}),Q0=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace($N,function(r,i,s){return cr={name:i,styles:s,next:cr},i})}return LN[e]!==1&&!IR(e)&&typeof n=="number"&&n!==0?n+"px":n};function ju(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return cr={name:i.name,styles:i.styles,next:cr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)cr={name:o.name,styles:o.styles,next:cr},o=o.next;var a=s.styles+";";return a}return UN(t,e,n)}case"function":{if(t!==void 0){var l=cr,c=n(t);return cr=l,ju(t,e,c)}break}}var h=n;if(e==null)return h;var d=e[h];return d!==void 0?d:h}function UN(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ju(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":H0(a)&&(r+=Om(s)+":"+Q0(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)H0(o[l])&&(r+=Om(s)+":"+Q0(s,o[l])+";");else{var c=ju(t,e,o);switch(s){case"animation":case"animationName":{r+=Om(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var Y0=/label:\s*([^\s;{]+)\s*(;|$)/g,cr;function pc(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";cr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=ju(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=ju(n,e,t[a]),r){var l=s;i+=l[a]}Y0.lastIndex=0;for(var c="",h;(h=Y0.exec(i))!==null;)c+="-"+h[1];var d=MN(i)+c;return{name:d,styles:i,next:cr}}var BN=function(e){return e()},TR=dd.useInsertionEffect?dd.useInsertionEffect:!1,SR=TR||BN,J0=TR||V.useLayoutEffect,AR=V.createContext(typeof HTMLElement<"u"?gR({key:"css"}):null),jN=AR.Provider,ev=function(e){return V.forwardRef(function(n,r){var i=V.useContext(AR);return e(n,i,r)})},Ua=V.createContext({}),tv={}.hasOwnProperty,iy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",zN=function(e,n){var r={};for(var i in n)tv.call(n,i)&&(r[i]=n[i]);return r[iy]=e,r},qN=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return X_(n,r,i),SR(function(){return Z_(n,r,i)}),null},WN=ev(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[iy],s=[r],o="";typeof t.className=="string"?o=wR(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=pc(s,void 0,V.useContext(Ua));o+=e.key+"-"+a.name;var l={};for(var c in t)tv.call(t,c)&&c!=="css"&&c!==iy&&(l[c]=t[c]);return l.className=o,n&&(l.ref=n),V.createElement(V.Fragment,null,V.createElement(qN,{cache:e,serialized:a,isStringTag:typeof i=="string"}),V.createElement(i,l))}),GN=WN,Mm={exports:{}},X0;function RR(){return X0||(X0=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Mm)),Mm.exports}RR();var Z0=function(e,n){var r=arguments;if(n==null||!tv.call(n,"css"))return V.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=GN,s[1]=zN(e,n);for(var o=2;o<i;o++)s[o]=r[o];return V.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Z0||(Z0={}));var KN=ev(function(t,e){var n=t.styles,r=pc([n],void 0,V.useContext(Ua)),i=V.useRef();return J0(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),J0(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Z_(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function zf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return pc(e)}function Ba(){var t=zf.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var HN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,QN=pR(function(t){return HN.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),YN=QN,JN=function(e){return e!=="theme"},eI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?YN:JN},tI=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},XN=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return X_(n,r,i),SR(function(){return Z_(n,r,i)}),null},ZN=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=tI(e,n,r),l=a||eI(i),c=!l("as");return function(){var h=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)d.push.apply(d,h);else{var p=h[0];d.push(p[0]);for(var g=h.length,T=1;T<g;T++)d.push(h[T],p[T])}var _=ev(function(P,v,y){var S=c&&P.as||i,k="",F=[],M=P;if(P.theme==null){M={};for(var E in P)M[E]=P[E];M.theme=V.useContext(Ua)}typeof P.className=="string"?k=wR(v.registered,F,P.className):P.className!=null&&(k=P.className+" ");var w=pc(d.concat(F),v.registered,M);k+=v.key+"-"+w.name,o!==void 0&&(k+=" "+o);var R=c&&a===void 0?eI(S):l,C={};for(var b in P)c&&b==="as"||R(b)&&(C[b]=P[b]);return C.className=k,y&&(C.ref=y),V.createElement(V.Fragment,null,V.createElement(XN,{cache:v,serialized:w,isStringTag:typeof S=="string"}),V.createElement(S,C))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=d,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return"."+o}}),_.withComponent=function(P,v){var y=t(P,B({},n,v,{shouldForwardProp:tI(_,v,!0)}));return y.apply(void 0,d)},_}},eD=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],sy=ZN.bind(null);eD.forEach(function(t){sy[t]=sy(t)});function tD(t,e){const n=gR({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const Lm=new Map;function nD(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=V.useMemo(()=>{const s=`${e}-${n}`;if(typeof document=="object"&&Lm.has(s))return Lm.get(s);const o=tD(e,n);return Lm.set(s,o),o},[e,n]);return e||n?j.jsx(jN,{value:i,children:r}):r}function rD(t){return t==null||Object.keys(t).length===0}function PR(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(rD(i)?n:i):e;return j.jsx(KN,{styles:r})}function nv(t,e){return sy(t,e)}const CR=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},nI=[];function Fd(t){return nI[0]=t,pc(nI)}const iD=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:PR,StyledEngineProvider:nD,ThemeContext:Ua,css:zf,default:nv,internal_processStyles:CR,internal_serializeStyles:Fd,keyframes:Ba},Symbol.toStringTag,{value:"Module"}));function Cr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function bR(t){if(V.isValidElement(t)||!Cr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=bR(t[n])}),e}function kn(t,e,n={clone:!0}){const r=n.clone?B({},t):t;return Cr(t)&&Cr(e)&&Object.keys(e).forEach(i=>{V.isValidElement(e[i])?r[i]=e[i]:Cr(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Cr(t[i])?r[i]=kn(t[i],e[i],n):n.clone?r[i]=Cr(e[i])?bR(e[i]):e[i]:r[i]=e[i]}),r}const sD=Object.freeze(Object.defineProperty({__proto__:null,default:kn,isPlainObject:Cr},Symbol.toStringTag,{value:"Module"})),oD=["values","unit","step"],aD=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>B({},n,{[r.key]:r.val}),{})};function xR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=be(t,oD),s=aD(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,g){const T=o.indexOf(g);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(T!==-1&&typeof e[o[T]]=="number"?e[o[T]]:g)-r/100}${n})`}function h(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function d(p){const g=o.indexOf(p);return g===0?a(o[1]):g===o.length-1?l(o[g]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return B({keys:o,values:s,up:a,down:l,between:c,only:h,not:d,unit:n},i)}const lD={borderRadius:4};function lu(t,e){return e?kn(t,e,{clone:!1}):t}const rv={xs:0,sm:600,md:900,lg:1200,xl:1536},rI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${rv[t]}px)`};function Xn(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||rI;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||rI;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||rv).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function kR(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function oy(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function uD(t,...e){const n=kR(t),r=[n,...e].reduce((i,s)=>kn(i,s),{});return oy(Object.keys(n),r)}function cD(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Fm({values:t,breakpoints:e,base:n}){const r=n||cD(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Ee(t){if(typeof t!="string")throw new Error(Fu(7));return t.charAt(0).toUpperCase()+t.slice(1)}const hD=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));function qf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function $d(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=qf(t,n)||r,e&&(i=e(i,r,t)),i}function tt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=qf(l,r)||{};return Xn(o,a,d=>{let p=$d(c,i,d);return d===p&&typeof d=="string"&&(p=$d(c,i,`${e}${d==="default"?"":Ee(d)}`,d)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function dD(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const fD={m:"margin",p:"padding"},pD={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},iI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mD=dD(t=>{if(t.length>2)if(iI[t])t=iI[t];else return[t];const[e,n]=t.split(""),r=fD[e],i=pD[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),iv=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sv=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...iv,...sv];function mc(t,e,n,r){var i;const s=(i=qf(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function ov(t){return mc(t,"spacing",8)}function js(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function gD(t,e){return n=>t.reduce((r,i)=>(r[i]=js(e,n),r),{})}function yD(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=mD(n),s=gD(i,r),o=t[n];return Xn(t,o,s)}function VR(t,e){const n=ov(t.theme);return Object.keys(t).map(r=>yD(t,e,r,n)).reduce(lu,{})}function Ge(t){return VR(t,iv)}Ge.propTypes={};Ge.filterProps=iv;function Ke(t){return VR(t,sv)}Ke.propTypes={};Ke.filterProps=sv;function _D(t=8){if(t.mui)return t;const e=ov({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Wf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?lu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Pn(t){return typeof t!="number"?t:`${t}px solid`}function Ln(t,e){return tt({prop:t,themeKey:"borders",transform:e})}const vD=Ln("border",Pn),ED=Ln("borderTop",Pn),wD=Ln("borderRight",Pn),ID=Ln("borderBottom",Pn),TD=Ln("borderLeft",Pn),SD=Ln("borderColor"),AD=Ln("borderTopColor"),RD=Ln("borderRightColor"),PD=Ln("borderBottomColor"),CD=Ln("borderLeftColor"),bD=Ln("outline",Pn),xD=Ln("outlineColor"),Gf=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=mc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:js(e,r)});return Xn(t,t.borderRadius,n)}return null};Gf.propTypes={};Gf.filterProps=["borderRadius"];Wf(vD,ED,wD,ID,TD,SD,AD,RD,PD,CD,Gf,bD,xD);const Kf=t=>{if(t.gap!==void 0&&t.gap!==null){const e=mc(t.theme,"spacing",8),n=r=>({gap:js(e,r)});return Xn(t,t.gap,n)}return null};Kf.propTypes={};Kf.filterProps=["gap"];const Hf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=mc(t.theme,"spacing",8),n=r=>({columnGap:js(e,r)});return Xn(t,t.columnGap,n)}return null};Hf.propTypes={};Hf.filterProps=["columnGap"];const Qf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=mc(t.theme,"spacing",8),n=r=>({rowGap:js(e,r)});return Xn(t,t.rowGap,n)}return null};Qf.propTypes={};Qf.filterProps=["rowGap"];const kD=tt({prop:"gridColumn"}),VD=tt({prop:"gridRow"}),ND=tt({prop:"gridAutoFlow"}),DD=tt({prop:"gridAutoColumns"}),OD=tt({prop:"gridAutoRows"}),MD=tt({prop:"gridTemplateColumns"}),LD=tt({prop:"gridTemplateRows"}),FD=tt({prop:"gridTemplateAreas"}),$D=tt({prop:"gridArea"});Wf(Kf,Hf,Qf,kD,VD,ND,DD,OD,MD,LD,FD,$D);function Xo(t,e){return e==="grey"?e:t}const UD=tt({prop:"color",themeKey:"palette",transform:Xo}),BD=tt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Xo}),jD=tt({prop:"backgroundColor",themeKey:"palette",transform:Xo});Wf(UD,BD,jD);function an(t){return t<=1&&t!==0?`${t*100}%`:t}const zD=tt({prop:"width",transform:an}),av=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||rv[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:an(n)}};return Xn(t,t.maxWidth,e)}return null};av.filterProps=["maxWidth"];const qD=tt({prop:"minWidth",transform:an}),WD=tt({prop:"height",transform:an}),GD=tt({prop:"maxHeight",transform:an}),KD=tt({prop:"minHeight",transform:an});tt({prop:"size",cssProperty:"width",transform:an});tt({prop:"size",cssProperty:"height",transform:an});const HD=tt({prop:"boxSizing"});Wf(zD,av,qD,WD,GD,KD,HD);const gc={border:{themeKey:"borders",transform:Pn},borderTop:{themeKey:"borders",transform:Pn},borderRight:{themeKey:"borders",transform:Pn},borderBottom:{themeKey:"borders",transform:Pn},borderLeft:{themeKey:"borders",transform:Pn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Pn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Gf},color:{themeKey:"palette",transform:Xo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Xo},backgroundColor:{themeKey:"palette",transform:Xo},p:{style:Ke},pt:{style:Ke},pr:{style:Ke},pb:{style:Ke},pl:{style:Ke},px:{style:Ke},py:{style:Ke},padding:{style:Ke},paddingTop:{style:Ke},paddingRight:{style:Ke},paddingBottom:{style:Ke},paddingLeft:{style:Ke},paddingX:{style:Ke},paddingY:{style:Ke},paddingInline:{style:Ke},paddingInlineStart:{style:Ke},paddingInlineEnd:{style:Ke},paddingBlock:{style:Ke},paddingBlockStart:{style:Ke},paddingBlockEnd:{style:Ke},m:{style:Ge},mt:{style:Ge},mr:{style:Ge},mb:{style:Ge},ml:{style:Ge},mx:{style:Ge},my:{style:Ge},margin:{style:Ge},marginTop:{style:Ge},marginRight:{style:Ge},marginBottom:{style:Ge},marginLeft:{style:Ge},marginX:{style:Ge},marginY:{style:Ge},marginInline:{style:Ge},marginInlineStart:{style:Ge},marginInlineEnd:{style:Ge},marginBlock:{style:Ge},marginBlockStart:{style:Ge},marginBlockEnd:{style:Ge},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Kf},rowGap:{style:Qf},columnGap:{style:Hf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:an},maxWidth:{style:av},minWidth:{transform:an},height:{transform:an},maxHeight:{transform:an},minHeight:{transform:an},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function QD(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function YD(t,e){return typeof t=="function"?t(e):t}function NR(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:h,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const p=qf(i,c)||{};return d?d(o):Xn(o,r,T=>{let _=$d(p,h,T);return T===_&&typeof T=="string"&&(_=$d(p,h,`${n}${T==="default"?"":Ee(T)}`,T)),l===!1?_:{[l]:_}})}function e(n){var r;const{sx:i,theme:s={},nested:o}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:gc;function l(c){let h=c;if(typeof c=="function")h=c(s);else if(typeof c!="object")return c;if(!h)return null;const d=kR(s.breakpoints),p=Object.keys(d);let g=d;return Object.keys(h).forEach(T=>{const _=YD(h[T],s);if(_!=null)if(typeof _=="object")if(a[T])g=lu(g,t(T,_,s,a));else{const P=Xn({theme:s},_,v=>({[T]:v}));QD(P,_)?g[T]=e({sx:_,theme:s,nested:!0}):g=lu(g,P)}else g=lu(g,t(T,_,s,a))}),!o&&s.modularCssLayers?{"@layer sx":oy(p,g)}:oy(p,g)}return Array.isArray(i)?i.map(l):l(i)}return e}const ja=NR();ja.filterProps=["sx"];function DR(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const JD=["breakpoints","palette","spacing","shape"];function za(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=be(t,JD),a=xR(n),l=_D(i);let c=kn({breakpoints:a,direction:"ltr",components:{},palette:B({mode:"light"},r),spacing:l,shape:B({},lD,s)},o);return c.applyStyles=DR,c=e.reduce((h,d)=>kn(h,d),c),c.unstable_sxConfig=B({},gc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return ja({sx:d,theme:this})},c}const XD=Object.freeze(Object.defineProperty({__proto__:null,default:za,private_createBreakpoints:xR,unstable_applyStyles:DR},Symbol.toStringTag,{value:"Module"}));function ZD(t){return Object.keys(t).length===0}function lv(t=null){const e=V.useContext(Ua);return!e||ZD(e)?t:e}const eO=za();function uv(t=eO){return lv(t)}function $m(t){const e=Fd(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function OR({styles:t,themeId:e,defaultTheme:n={}}){const r=uv(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>$m(typeof o=="function"?o(i):o)):s=$m(s)),j.jsx(PR,{styles:s})}const tO=["sx"],nO=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:gc;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Yf(t){const{sx:e}=t,n=be(t,tO),{systemProps:r,otherProps:i}=nO(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Cr(a)?B({},r,a):r}:s=B({},r,e),B({},i,{sx:s})}const rO=Object.freeze(Object.defineProperty({__proto__:null,default:ja,extendSxProp:Yf,unstable_createStyleFunctionSx:NR,unstable_defaultSxConfig:gc},Symbol.toStringTag,{value:"Module"})),sI=t=>t,iO=()=>{let t=sI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=sI}}},cv=iO();function MR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=MR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Qe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=MR(t))&&(r&&(r+=" "),r+=e);return r}const sO=["className","component"];function oO(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=nv("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ja);return V.forwardRef(function(l,c){const h=uv(n),d=Yf(l),{className:p,component:g="div"}=d,T=be(d,sO);return j.jsx(s,B({as:g,ref:c,className:Qe(p,i?i(r):r),theme:e&&h[e]||h},T))})}const aO={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Fn(t,e,n="Mui"){const r=aO[e];return r?`${n}-${r}`:`${cv.generate(t)}-${e}`}function er(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Fn(t,i,n)}),r}var LR={exports:{}},Re={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=Symbol.for("react.transitional.element"),dv=Symbol.for("react.portal"),Jf=Symbol.for("react.fragment"),Xf=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),ep=Symbol.for("react.consumer"),tp=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),sp=Symbol.for("react.memo"),op=Symbol.for("react.lazy"),lO=Symbol.for("react.view_transition"),uO=Symbol.for("react.client.reference");function $n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hv:switch(t=t.type,t){case Jf:case Zf:case Xf:case rp:case ip:case lO:return t;default:switch(t=t&&t.$$typeof,t){case tp:case np:case op:case sp:return t;case ep:return t;default:return e}}case dv:return e}}}Re.ContextConsumer=ep;Re.ContextProvider=tp;Re.Element=hv;Re.ForwardRef=np;Re.Fragment=Jf;Re.Lazy=op;Re.Memo=sp;Re.Portal=dv;Re.Profiler=Zf;Re.StrictMode=Xf;Re.Suspense=rp;Re.SuspenseList=ip;Re.isContextConsumer=function(t){return $n(t)===ep};Re.isContextProvider=function(t){return $n(t)===tp};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hv};Re.isForwardRef=function(t){return $n(t)===np};Re.isFragment=function(t){return $n(t)===Jf};Re.isLazy=function(t){return $n(t)===op};Re.isMemo=function(t){return $n(t)===sp};Re.isPortal=function(t){return $n(t)===dv};Re.isProfiler=function(t){return $n(t)===Zf};Re.isStrictMode=function(t){return $n(t)===Xf};Re.isSuspense=function(t){return $n(t)===rp};Re.isSuspenseList=function(t){return $n(t)===ip};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jf||t===Zf||t===Xf||t===rp||t===ip||typeof t=="object"&&t!==null&&(t.$$typeof===op||t.$$typeof===sp||t.$$typeof===tp||t.$$typeof===ep||t.$$typeof===np||t.$$typeof===uO||t.getModuleId!==void 0)};Re.typeOf=$n;LR.exports=Re;var oI=LR.exports;const cO=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function FR(t){const e=`${t}`.match(cO);return e&&e[1]||""}function $R(t,e=""){return t.displayName||t.name||FR(t)||e}function aI(t,e,n){const r=$R(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function hO(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return $R(t,"Component");if(typeof t=="object")switch(t.$$typeof){case oI.ForwardRef:return aI(t,t.render,"ForwardRef");case oI.Memo:return aI(t,t.type,"memo");default:return}}}const dO=Object.freeze(Object.defineProperty({__proto__:null,default:hO,getFunctionName:FR},Symbol.toStringTag,{value:"Module"})),fO=["ownerState"],pO=["variants"],mO=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function gO(t){return Object.keys(t).length===0}function yO(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Um(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function lI(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const _O=za(),vO=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Eh({defaultTheme:t,theme:e,themeId:n}){return gO(e)?t:e[n]||e}function EO(t){return t?(e,n)=>n[t]:null}function Kh(t,e,n){let{ownerState:r}=e,i=be(e,fO);const s=typeof t=="function"?t(B({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Kh(o,B({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let l=be(s,pO);return o.forEach(c=>{let h=!0;if(typeof c.props=="function"?h=c.props(B({ownerState:r},i,r)):Object.keys(c.props).forEach(d=>{(r==null?void 0:r[d])!==c.props[d]&&i[d]!==c.props[d]&&(h=!1)}),h){Array.isArray(l)||(l=[l]);const d=typeof c.style=="function"?c.style(B({ownerState:r},i,r)):c.style;l.push(n?lI(Fd(d),n):d)}}),l}return n?lI(Fd(s),n):s}function wO(t={}){const{themeId:e,defaultTheme:n=_O,rootShouldForwardProp:r=Um,slotShouldForwardProp:i=Um}=t,s=o=>ja(B({},o,{theme:Eh(B({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{CR(o,M=>M.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:h,skipSx:d,overridesResolver:p=EO(vO(c))}=a,g=be(a,mO),T=l&&l.startsWith("Mui")||c?"components":"custom",_=h!==void 0?h:c&&c!=="Root"&&c!=="root"||!1,P=d||!1;let v,y=Um;c==="Root"||c==="root"?y=r:c?y=i:yO(o)&&(y=void 0);const S=nv(o,B({shouldForwardProp:y,label:v},g)),k=M=>typeof M=="function"&&M.__emotion_real!==M||Cr(M)?E=>{const w=Eh({theme:E.theme,defaultTheme:n,themeId:e});return Kh(M,B({},E,{theme:w}),w.modularCssLayers?T:void 0)}:M,F=(M,...E)=>{let w=k(M);const R=E?E.map(k):[];l&&p&&R.push(x=>{const A=Eh(B({},x,{defaultTheme:n,themeId:e}));if(!A.components||!A.components[l]||!A.components[l].styleOverrides)return null;const ie=A.components[l].styleOverrides,Ie={};return Object.entries(ie).forEach(([lt,Bt])=>{Ie[lt]=Kh(Bt,B({},x,{theme:A}),A.modularCssLayers?"theme":void 0)}),p(x,Ie)}),l&&!_&&R.push(x=>{var A;const ie=Eh(B({},x,{defaultTheme:n,themeId:e})),Ie=ie==null||(A=ie.components)==null||(A=A[l])==null?void 0:A.variants;return Kh({variants:Ie},B({},x,{theme:ie}),ie.modularCssLayers?"theme":void 0)}),P||R.push(s);const C=R.length-E.length;if(Array.isArray(M)&&C>0){const x=new Array(C).fill("");w=[...M,...x],w.raw=[...M.raw,...x]}const b=S(w,...R);return o.muiName&&(b.muiName=o.muiName),b};return S.withConfig&&(F.withConfig=S.withConfig),F}}const UR=wO();function zu(t,e){const n=B({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=B({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=B({},s),Object.keys(i).forEach(o=>{n[r][o]=zu(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function IO(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:zu(e.components[n].defaultProps,r)}function BR({props:t,name:e,defaultTheme:n,themeId:r}){let i=uv(n);return r&&(i=i[r]||i),IO({theme:i,name:e,props:t})}const fv=typeof window<"u"?V.useLayoutEffect:V.useEffect;function TO(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const SO=Object.freeze(Object.defineProperty({__proto__:null,default:TO},Symbol.toStringTag,{value:"Module"}));function AO(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function RO(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function PO(t,e){return()=>null}function CO(t,e){var n,r;return V.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function jR(t){return t&&t.ownerDocument||document}function bO(t){return jR(t).defaultView||window}function xO(t,e){return()=>null}function zR(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let uI=0;function kO(t){const[e,n]=V.useState(t),r=t||e;return V.useEffect(()=>{e==null&&(uI+=1,n(`mui-${uI}`))},[e]),r}const cI=dd.useId;function qR(t){if(cI!==void 0){const e=cI();return t??e}return kO(t)}function VO(t,e,n,r,i){return null}function NO({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=V.useRef(t!==void 0),[s,o]=V.useState(e),a=i?t:s,l=V.useCallback(c=>{i||o(c)},[]);return[a,l]}function Hl(t){const e=V.useRef(t);return fv(()=>{e.current=t}),V.useRef((...n)=>(0,e.current)(...n)).current}function ay(...t){return V.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{zR(n,e)})},t)}const hI={};function DO(t,e){const n=V.useRef(hI);return n.current===hI&&(n.current=t(e)),n}const OO=[];function MO(t){V.useEffect(t,OO)}class ap{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ap}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function LO(){const t=DO(ap.create).current;return MO(t.disposeEffect),t}let lp=!0,ly=!1;const FO=new ap,$O={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function UO(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&$O[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function BO(t){t.metaKey||t.altKey||t.ctrlKey||(lp=!0)}function Bm(){lp=!1}function jO(){this.visibilityState==="hidden"&&ly&&(lp=!0)}function zO(t){t.addEventListener("keydown",BO,!0),t.addEventListener("mousedown",Bm,!0),t.addEventListener("pointerdown",Bm,!0),t.addEventListener("touchstart",Bm,!0),t.addEventListener("visibilitychange",jO,!0)}function qO(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return lp||UO(e)}function WR(){const t=V.useCallback(i=>{i!=null&&zO(i.ownerDocument)},[]),e=V.useRef(!1);function n(){return e.current?(ly=!0,FO.start(100,()=>{ly=!1}),e.current=!1,!0):!1}function r(i){return qO(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function tr(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const GR=V.createContext(null);function KR(){return V.useContext(GR)}const WO=typeof Symbol=="function"&&Symbol.for,GO=WO?Symbol.for("mui.nested"):"__THEME_NESTED__";function KO(t,e){return typeof e=="function"?e(t):B({},t,e)}function HO(t){const{children:e,theme:n}=t,r=KR(),i=V.useMemo(()=>{const s=r===null?n:KO(r,n);return s!=null&&(s[GO]=r!==null),s},[n,r]);return j.jsx(GR.Provider,{value:i,children:e})}const QO=["value"],HR=V.createContext();function YO(t){let{value:e}=t,n=be(t,QO);return j.jsx(HR.Provider,B({value:e??!0},n))}const lz=()=>{const t=V.useContext(HR);return t??!1},QR=V.createContext(void 0);function JO({value:t,children:e}){return j.jsx(QR.Provider,{value:t,children:e})}function XO(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?zu(i.defaultProps,r):!i.styleOverrides&&!i.variants?zu(i,r):r}function ZO({props:t,name:e}){const n=V.useContext(QR);return XO({props:t,name:e,theme:{components:n}})}function eM(t){const e=lv(),n=qR()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,fv(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){var a;if(o&&(a=o.hasAttribute)!=null&&a.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=i,s.prepend(c)}else{var l;(l=s.querySelector(`style[data-mui-layer-order="${n}"]`))==null||l.remove()}},[i,n]),i?j.jsx(OR,{styles:i}):null}const dI={};function fI(t,e,n,r=!1){return V.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?B({},e,{[t]:s}):s;return r?()=>o:o}return t?B({},e,{[t]:n}):B({},e,n)},[t,e,n,r])}function tM(t){const{children:e,theme:n,themeId:r}=t,i=lv(dI),s=KR()||dI,o=fI(r,i,n),a=fI(r,s,n,!0),l=o.direction==="rtl",c=eM(o);return j.jsx(HO,{theme:a,children:j.jsx(Ua.Provider,{value:o,children:j.jsx(YO,{value:l,children:j.jsxs(JO,{value:o==null?void 0:o.components,children:[c,e]})})})})}const nM=["className","component","disableGutters","fixed","maxWidth","classes"],rM=za(),iM=UR("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ee(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),sM=t=>BR({props:t,name:"MuiContainer",defaultTheme:rM}),oM=(t,e)=>{const n=l=>Fn(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${Ee(String(o))}`,i&&"fixed",s&&"disableGutters"]};return tr(a,n,r)};function aM(t={}){const{createStyledComponent:e=iM,useThemeProps:n=sM,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>B({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,c)=>{const h=c,d=o.breakpoints.values[h];return d!==0&&(l[o.breakpoints.up(h)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>B({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return V.forwardRef(function(a,l){const c=n(a),{className:h,component:d="div",disableGutters:p=!1,fixed:g=!1,maxWidth:T="lg"}=c,_=be(c,nM),P=B({},c,{component:d,disableGutters:p,fixed:g,maxWidth:T}),v=oM(P,r);return j.jsx(i,B({as:d,ownerState:P,className:Qe(v.root,h),ref:l},_))})}const lM=["component","direction","spacing","divider","children","className","useFlexGap"],uM=za(),cM=UR("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function hM(t){return BR({props:t,name:"MuiStack",defaultTheme:uM})}function dM(t,e){const n=V.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(V.cloneElement(e,{key:`separator-${s}`})),r),[])}const fM=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],pM=({ownerState:t,theme:e})=>{let n=B({display:"flex",flexDirection:"column"},Xn({theme:e},Fm({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=ov(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=Fm({values:t.direction,base:i}),o=Fm({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,h)=>{if(!s[l]){const p=c>0?s[h[c-1]]:"column";s[l]=p}}),n=kn(n,Xn({theme:e},o,(l,c)=>t.useFlexGap?{gap:js(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${fM(c?s[c]:t.direction)}`]:js(r,l)}}))}return n=uD(e.breakpoints,n),n};function mM(t={}){const{createStyledComponent:e=cM,useThemeProps:n=hM,componentName:r="MuiStack"}=t,i=()=>tr({root:["root"]},l=>Fn(r,l),{}),s=e(pM);return V.forwardRef(function(l,c){const h=n(l),d=Yf(h),{component:p="div",direction:g="column",spacing:T=0,divider:_,children:P,className:v,useFlexGap:y=!1}=d,S=be(d,lM),k={direction:g,spacing:T,useFlexGap:y},F=i();return j.jsx(s,B({as:p,ownerState:k,ref:c,className:Qe(F.root,v)},S,{children:_?dM(P,_):P}))})}function gM(t,e){return B({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var nt={},YR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(YR);var pv=YR.exports;const yM=Wr(X2),_M=Wr(SO);var JR=pv;Object.defineProperty(nt,"__esModule",{value:!0});var Ps=nt.alpha=tP;nt.blend=kM;nt.colorChannel=void 0;var vM=nt.darken=gv;nt.decomposeColor=On;var uz=nt.emphasize=nP,EM=nt.getContrastRatio=RM;nt.getLuminance=Ud;nt.hexToRgb=XR;nt.hslToRgb=eP;var wM=nt.lighten=yv;nt.private_safeAlpha=PM;nt.private_safeColorChannel=void 0;nt.private_safeDarken=CM;nt.private_safeEmphasize=xM;nt.private_safeLighten=bM;nt.recomposeColor=qa;nt.rgbToHex=AM;var pI=JR(yM),IM=JR(_M);function mv(t,e=0,n=1){return(0,IM.default)(t,e,n)}function XR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function TM(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function On(t){if(t.type)return t;if(t.charAt(0)==="#")return On(XR(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,pI.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,pI.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const ZR=t=>{const e=On(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};nt.colorChannel=ZR;const SM=(t,e)=>{try{return ZR(t)}catch{return t}};nt.private_safeColorChannel=SM;function qa(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function AM(t){if(t.indexOf("#")===0)return t;const{values:e}=On(t);return`#${e.map((n,r)=>TM(r===3?Math.round(255*n):n)).join("")}`}function eP(t){t=On(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,h=(c+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),qa({type:a,values:l})}function Ud(t){t=On(t);let e=t.type==="hsl"||t.type==="hsla"?On(eP(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function RM(t,e){const n=Ud(t),r=Ud(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function tP(t,e){return t=On(t),e=mv(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,qa(t)}function PM(t,e,n){try{return tP(t,e)}catch{return t}}function gv(t,e){if(t=On(t),e=mv(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return qa(t)}function CM(t,e,n){try{return gv(t,e)}catch{return t}}function yv(t,e){if(t=On(t),e=mv(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return qa(t)}function bM(t,e,n){try{return yv(t,e)}catch{return t}}function nP(t,e=.15){return Ud(t)>.5?gv(t,e):yv(t,e)}function xM(t,e,n){try{return nP(t,e)}catch{return t}}function kM(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=On(t),o=On(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return qa({type:"rgb",values:a})}const VM=["mode","contrastThreshold","tonalOffset"],mI={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Lu.white,default:Lu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},jm={text:{primary:Lu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Lu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function gI(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=wM(t.main,i):e==="dark"&&(t.dark=vM(t.main,s)))}function NM(t="light"){return t==="dark"?{main:vo[200],light:vo[50],dark:vo[400]}:{main:vo[700],light:vo[400],dark:vo[800]}}function DM(t="light"){return t==="dark"?{main:_o[200],light:_o[50],dark:_o[400]}:{main:_o[500],light:_o[300],dark:_o[700]}}function OM(t="light"){return t==="dark"?{main:yo[500],light:yo[300],dark:yo[700]}:{main:yo[700],light:yo[400],dark:yo[800]}}function MM(t="light"){return t==="dark"?{main:Eo[400],light:Eo[300],dark:Eo[700]}:{main:Eo[700],light:Eo[500],dark:Eo[900]}}function LM(t="light"){return t==="dark"?{main:wo[400],light:wo[300],dark:wo[700]}:{main:wo[800],light:wo[500],dark:wo[900]}}function FM(t="light"){return t==="dark"?{main:Ml[400],light:Ml[300],dark:Ml[700]}:{main:"#ed6c02",light:Ml[500],dark:Ml[900]}}function $M(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=be(t,VM),s=t.primary||NM(e),o=t.secondary||DM(e),a=t.error||OM(e),l=t.info||MM(e),c=t.success||LM(e),h=t.warning||FM(e);function d(_){return EM(_,jm.text.primary)>=n?jm.text.primary:mI.text.primary}const p=({color:_,name:P,mainShade:v=500,lightShade:y=300,darkShade:S=700})=>{if(_=B({},_),!_.main&&_[v]&&(_.main=_[v]),!_.hasOwnProperty("main"))throw new Error(Fu(11,P?` (${P})`:"",v));if(typeof _.main!="string")throw new Error(Fu(12,P?` (${P})`:"",JSON.stringify(_.main)));return gI(_,"light",y,r),gI(_,"dark",S,r),_.contrastText||(_.contrastText=d(_.main)),_},g={dark:jm,light:mI};return kn(B({common:B({},Lu),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:J2,contrastThreshold:n,getContrastText:d,augmentColor:p,tonalOffset:r},g[e]),i)}const UM=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function BM(t){return Math.round(t*1e5)/1e5}const yI={textTransform:"uppercase"},_I='"Roboto", "Helvetica", "Arial", sans-serif';function jM(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=_I,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:d}=n,p=be(n,UM),g=i/14,T=d||(v=>`${v/c*g}rem`),_=(v,y,S,k,F)=>B({fontFamily:r,fontWeight:v,fontSize:T(y),lineHeight:S},r===_I?{letterSpacing:`${BM(k/y)}em`}:{},F,h),P={h1:_(s,96,1.167,-1.5),h2:_(s,60,1.2,-.5),h3:_(o,48,1.167,0),h4:_(o,34,1.235,.25),h5:_(o,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(o,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(o,16,1.5,.15),body2:_(o,14,1.43,.15),button:_(a,14,1.75,.4,yI),caption:_(o,12,1.66,.4),overline:_(o,12,2.66,1,yI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return kn(B({htmlFontSize:c,pxToRem:T,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},P),p,{clone:!1})}const zM=.2,qM=.14,WM=.12;function Oe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${zM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${qM})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${WM})`].join(",")}const GM=["none",Oe(0,2,1,-1,0,1,1,0,0,1,3,0),Oe(0,3,1,-2,0,2,2,0,0,1,5,0),Oe(0,3,3,-2,0,3,4,0,0,1,8,0),Oe(0,2,4,-1,0,4,5,0,0,1,10,0),Oe(0,3,5,-1,0,5,8,0,0,1,14,0),Oe(0,3,5,-1,0,6,10,0,0,1,18,0),Oe(0,4,5,-2,0,7,10,1,0,2,16,1),Oe(0,5,5,-3,0,8,10,1,0,3,14,2),Oe(0,5,6,-3,0,9,12,1,0,3,16,2),Oe(0,6,6,-3,0,10,14,1,0,4,18,3),Oe(0,6,7,-4,0,11,15,1,0,4,20,3),Oe(0,7,8,-4,0,12,17,2,0,5,22,4),Oe(0,7,8,-4,0,13,19,2,0,5,24,4),Oe(0,7,9,-4,0,14,21,2,0,5,26,4),Oe(0,8,9,-5,0,15,22,2,0,6,28,5),Oe(0,8,10,-5,0,16,24,2,0,6,30,5),Oe(0,8,11,-5,0,17,26,2,0,6,32,5),Oe(0,9,11,-5,0,18,28,2,0,7,34,6),Oe(0,9,12,-6,0,19,29,2,0,7,36,6),Oe(0,10,13,-6,0,20,31,3,0,8,38,7),Oe(0,10,13,-6,0,21,33,3,0,8,40,7),Oe(0,10,14,-6,0,22,35,3,0,8,42,7),Oe(0,11,14,-7,0,23,36,3,0,9,44,8),Oe(0,11,15,-7,0,24,38,3,0,9,46,8)],KM=["duration","easing","delay"],HM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},QM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vI(t){return`${Math.round(t)}ms`}function YM(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function JM(t){const e=B({},HM,t.easing),n=B({},QM,t.duration);return B({getAutoHeightDuration:YM,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return be(s,KM),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:vI(o)} ${a} ${typeof l=="string"?l:vI(l)}`).join(",")}},t,{easing:e,duration:n})}const XM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ZM=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function _v(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=be(t,ZM);if(t.vars&&t.generateCssVars===void 0)throw new Error(Fu(18));const a=$M(r),l=za(t);let c=kn(l,{mixins:gM(l.breakpoints,n),palette:a,shadows:GM.slice(),typography:jM(a,s),transitions:JM(i),zIndex:B({},XM)});return c=kn(c,o),c=e.reduce((h,d)=>kn(h,d),c),c.unstable_sxConfig=B({},gc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return ja({sx:d,theme:this})},c}const rP=_v();var yc={},zm={exports:{}},EI;function eL(){return EI||(EI=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(zm)),zm.exports}const tL=Wr(iD),nL=Wr(sD),rL=Wr(hD),iL=Wr(dO),sL=Wr(XD),oL=Wr(rO);var Wa=pv;Object.defineProperty(yc,"__esModule",{value:!0});var aL=yc.default=EL,cz=yc.shouldForwardProp=Hh;yc.systemDefaultTheme=void 0;var Tn=Wa(RR()),uy=Wa(eL()),Bd=pL(tL),lL=nL;Wa(rL);Wa(iL);var uL=Wa(sL),cL=Wa(oL);const hL=["ownerState"],dL=["variants"],fL=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function iP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(iP=function(r){return r?n:e})(t)}function pL(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=iP(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function mL(t){return Object.keys(t).length===0}function gL(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Hh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function wI(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const yL=yc.systemDefaultTheme=(0,uL.default)(),_L=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function wh({defaultTheme:t,theme:e,themeId:n}){return mL(e)?t:e[n]||e}function vL(t){return t?(e,n)=>n[t]:null}function Qh(t,e,n){let{ownerState:r}=e,i=(0,uy.default)(e,hL);const s=typeof t=="function"?t((0,Tn.default)({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Qh(o,(0,Tn.default)({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let l=(0,uy.default)(s,dL);return o.forEach(c=>{let h=!0;if(typeof c.props=="function"?h=c.props((0,Tn.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(d=>{(r==null?void 0:r[d])!==c.props[d]&&i[d]!==c.props[d]&&(h=!1)}),h){Array.isArray(l)||(l=[l]);const d=typeof c.style=="function"?c.style((0,Tn.default)({ownerState:r},i,r)):c.style;l.push(n?wI((0,Bd.internal_serializeStyles)(d),n):d)}}),l}return n?wI((0,Bd.internal_serializeStyles)(s),n):s}function EL(t={}){const{themeId:e,defaultTheme:n=yL,rootShouldForwardProp:r=Hh,slotShouldForwardProp:i=Hh}=t,s=o=>(0,cL.default)((0,Tn.default)({},o,{theme:wh((0,Tn.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,Bd.internal_processStyles)(o,M=>M.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:h,skipSx:d,overridesResolver:p=vL(_L(c))}=a,g=(0,uy.default)(a,fL),T=l&&l.startsWith("Mui")||c?"components":"custom",_=h!==void 0?h:c&&c!=="Root"&&c!=="root"||!1,P=d||!1;let v,y=Hh;c==="Root"||c==="root"?y=r:c?y=i:gL(o)&&(y=void 0);const S=(0,Bd.default)(o,(0,Tn.default)({shouldForwardProp:y,label:v},g)),k=M=>typeof M=="function"&&M.__emotion_real!==M||(0,lL.isPlainObject)(M)?E=>{const w=wh({theme:E.theme,defaultTheme:n,themeId:e});return Qh(M,(0,Tn.default)({},E,{theme:w}),w.modularCssLayers?T:void 0)}:M,F=(M,...E)=>{let w=k(M);const R=E?E.map(k):[];l&&p&&R.push(x=>{const A=wh((0,Tn.default)({},x,{defaultTheme:n,themeId:e}));if(!A.components||!A.components[l]||!A.components[l].styleOverrides)return null;const ie=A.components[l].styleOverrides,Ie={};return Object.entries(ie).forEach(([lt,Bt])=>{Ie[lt]=Qh(Bt,(0,Tn.default)({},x,{theme:A}),A.modularCssLayers?"theme":void 0)}),p(x,Ie)}),l&&!_&&R.push(x=>{var A;const ie=wh((0,Tn.default)({},x,{defaultTheme:n,themeId:e})),Ie=ie==null||(A=ie.components)==null||(A=A[l])==null?void 0:A.variants;return Qh({variants:Ie},(0,Tn.default)({},x,{theme:ie}),ie.modularCssLayers?"theme":void 0)}),P||R.push(s);const C=R.length-E.length;if(Array.isArray(M)&&C>0){const x=new Array(C).fill("");w=[...M,...x],w.raw=[...M.raw,...x]}const b=S(w,...R);return o.muiName&&(b.muiName=o.muiName),b};return S.withConfig&&(F.withConfig=S.withConfig),F}}function wL(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const sP=t=>wL(t)&&t!=="classes",At=aL({themeId:$u,defaultTheme:rP,rootShouldForwardProp:sP}),IL=["theme"];function TL(t){let{theme:e}=t,n=be(t,IL);const r=e[$u];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=B({},r,{vars:null}):e&&!e.vars&&(i=B({},e,{vars:null}))),j.jsx(tM,B({},n,{themeId:r?$u:void 0,theme:i}))}const II=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function vn(t){return ZO(t)}function SL(t){return Fn("MuiSvgIcon",t)}er("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const AL=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],RL=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ee(e)}`,`fontSize${Ee(n)}`]};return tr(i,SL,r)},PL=At("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ee(n.color)}`],e[`fontSize${Ee(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,h,d,p,g,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(h=c.pxToRem)==null?void 0:h.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(p=(t.vars||t).palette)==null||(p=p[e.color])==null?void 0:p.main)!=null?d:{action:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(T=(t.vars||t).palette)==null||(T=T.action)==null?void 0:T.disabled,inherit:void 0}[e.color]}}),cy=V.forwardRef(function(e,n){const r=vn({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:h=!1,titleAccess:d,viewBox:p="0 0 24 24"}=r,g=be(r,AL),T=V.isValidElement(i)&&i.type==="svg",_=B({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:p,hasSvgAsChild:T}),P={};h||(P.viewBox=p);const v=RL(_);return j.jsxs(PL,B({as:a,className:Qe(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},P,g,T&&i.props,{ownerState:_,children:[T?i.props.children:i,d?j.jsx("title",{children:d}):null]}))});cy.muiName="SvgIcon";function CL(t,e){function n(r,i){return j.jsx(cy,B({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=cy.muiName,V.memo(V.forwardRef(n))}const bL={configure:t=>{cv.configure(t)}},xL=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ee,createChainedFunction:AO,createSvgIcon:CL,debounce:RO,deprecatedPropType:PO,isMuiElement:CO,ownerDocument:jR,ownerWindow:bO,requirePropFactory:xO,setRef:zR,unstable_ClassNameGenerator:bL,unstable_useEnhancedEffect:fv,unstable_useId:qR,unsupportedProp:VO,useControlled:NO,useEventCallback:Hl,useForkRef:ay,useIsFocusVisible:WR},Symbol.toStringTag,{value:"Module"}));function hy(t,e){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hy(t,e)}function kL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hy(t,e)}const TI=Ts.createContext(null);function VL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vv(t,e){var n=function(s){return e&&V.isValidElement(s)?e(s):s},r=Object.create(null);return t&&V.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function NL(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Cs(t,e,n){return n[e]!=null?n[e]:t.props[e]}function DL(t,e){return vv(t.children,function(n){return V.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Cs(n,"appear",t),enter:Cs(n,"enter",t),exit:Cs(n,"exit",t)})})}function OL(t,e,n){var r=vv(t.children),i=NL(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(V.isValidElement(o)){var a=s in e,l=s in r,c=e[s],h=V.isValidElement(c)&&!c.props.in;l&&(!a||h)?i[s]=V.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Cs(o,"exit",t),enter:Cs(o,"enter",t)}):!l&&a&&!h?i[s]=V.cloneElement(o,{in:!1}):l&&a&&V.isValidElement(c)&&(i[s]=V.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Cs(o,"exit",t),enter:Cs(o,"enter",t)}))}}),i}var ML=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},LL={component:"div",childFactory:function(e){return e}},Ev=function(t){kL(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(VL(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?DL(i,a):OL(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=vv(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=B({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=be(i,["component","childFactory"]),l=this.state.contextValue,c=ML(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Ts.createElement(TI.Provider,{value:l},c):Ts.createElement(TI.Provider,{value:l},Ts.createElement(s,a,c))},e}(Ts.Component);Ev.propTypes={};Ev.defaultProps=LL;function FL(t){return Fn("MuiPaper",t)}er("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const $L=["className","component","elevation","square","variant"],UL=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return tr(s,FL,i)},BL=At("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return B({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&B({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ps("#fff",II(e.elevation))}, ${Ps("#fff",II(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),jL=V.forwardRef(function(e,n){const r=vn({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=be(r,$L),h=B({},r,{component:s,elevation:o,square:a,variant:l}),d=UL(h);return j.jsx(BL,B({as:s,ownerState:h,className:Qe(d.root,i),ref:n},c))});function zL(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[h,d]=V.useState(!1),p=Qe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},T=Qe(n.child,h&&n.childLeaving,r&&n.childPulsate);return!a&&!h&&d(!0),V.useEffect(()=>{if(!a&&l!=null){const _=setTimeout(l,c);return()=>{clearTimeout(_)}}},[l,a,c]),j.jsx("span",{className:p,style:g,children:j.jsx("span",{className:T})})}const Sn=er("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),qL=["center","classes","className"];let up=t=>t,SI,AI,RI,PI;const dy=550,WL=80,GL=Ba(SI||(SI=up`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),KL=Ba(AI||(AI=up`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),HL=Ba(RI||(RI=up`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),QL=At("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),YL=At(zL,{name:"MuiTouchRipple",slot:"Ripple"})(PI||(PI=up`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Sn.rippleVisible,GL,dy,({theme:t})=>t.transitions.easing.easeInOut,Sn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Sn.child,Sn.childLeaving,KL,dy,({theme:t})=>t.transitions.easing.easeInOut,Sn.childPulsate,HL,({theme:t})=>t.transitions.easing.easeInOut),JL=V.forwardRef(function(e,n){const r=vn({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=be(r,qL),[l,c]=V.useState([]),h=V.useRef(0),d=V.useRef(null);V.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const p=V.useRef(!1),g=LO(),T=V.useRef(null),_=V.useRef(null),P=V.useCallback(k=>{const{pulsate:F,rippleX:M,rippleY:E,rippleSize:w,cb:R}=k;c(C=>[...C,j.jsx(YL,{classes:{ripple:Qe(s.ripple,Sn.ripple),rippleVisible:Qe(s.rippleVisible,Sn.rippleVisible),ripplePulsate:Qe(s.ripplePulsate,Sn.ripplePulsate),child:Qe(s.child,Sn.child),childLeaving:Qe(s.childLeaving,Sn.childLeaving),childPulsate:Qe(s.childPulsate,Sn.childPulsate)},timeout:dy,pulsate:F,rippleX:M,rippleY:E,rippleSize:w},h.current)]),h.current+=1,d.current=R},[s]),v=V.useCallback((k={},F={},M=()=>{})=>{const{pulsate:E=!1,center:w=i||F.pulsate,fakeElement:R=!1}=F;if((k==null?void 0:k.type)==="mousedown"&&p.current){p.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(p.current=!0);const C=R?null:_.current,b=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let x,A,ie;if(w||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)x=Math.round(b.width/2),A=Math.round(b.height/2);else{const{clientX:Ie,clientY:lt}=k.touches&&k.touches.length>0?k.touches[0]:k;x=Math.round(Ie-b.left),A=Math.round(lt-b.top)}if(w)ie=Math.sqrt((2*b.width**2+b.height**2)/3),ie%2===0&&(ie+=1);else{const Ie=Math.max(Math.abs((C?C.clientWidth:0)-x),x)*2+2,lt=Math.max(Math.abs((C?C.clientHeight:0)-A),A)*2+2;ie=Math.sqrt(Ie**2+lt**2)}k!=null&&k.touches?T.current===null&&(T.current=()=>{P({pulsate:E,rippleX:x,rippleY:A,rippleSize:ie,cb:M})},g.start(WL,()=>{T.current&&(T.current(),T.current=null)})):P({pulsate:E,rippleX:x,rippleY:A,rippleSize:ie,cb:M})},[i,P,g]),y=V.useCallback(()=>{v({},{pulsate:!0})},[v]),S=V.useCallback((k,F)=>{if(g.clear(),(k==null?void 0:k.type)==="touchend"&&T.current){T.current(),T.current=null,g.start(0,()=>{S(k,F)});return}T.current=null,c(M=>M.length>0?M.slice(1):M),d.current=F},[g]);return V.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:S}),[y,v,S]),j.jsx(QL,B({className:Qe(Sn.root,s.root,o),ref:_},a,{children:j.jsx(Ev,{component:null,exit:!0,children:l})}))});function XL(t){return Fn("MuiButtonBase",t)}const ZL=er("MuiButtonBase",["root","disabled","focusVisible"]),e4=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],t4=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=tr({root:["root",e&&"disabled",n&&"focusVisible"]},XL,i);return n&&r&&(o.root+=` ${r}`),o},n4=At("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ZL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),r4=V.forwardRef(function(e,n){const r=vn({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:h=!1,disableTouchRipple:d=!1,focusRipple:p=!1,LinkComponent:g="a",onBlur:T,onClick:_,onContextMenu:P,onDragLeave:v,onFocus:y,onFocusVisible:S,onKeyDown:k,onKeyUp:F,onMouseDown:M,onMouseLeave:E,onMouseUp:w,onTouchEnd:R,onTouchMove:C,onTouchStart:b,tabIndex:x=0,TouchRippleProps:A,touchRippleRef:ie,type:Ie}=r,lt=be(r,e4),Bt=V.useRef(null),K=V.useRef(null),Z=ay(K,ie),{isFocusVisibleRef:te,onFocus:Pe,onBlur:Ue,ref:Ar}=WR(),[rt,En]=V.useState(!1);c&&rt&&En(!1),V.useImperativeHandle(i,()=>({focusVisible:()=>{En(!0),Bt.current.focus()}}),[]);const[jt,nr]=V.useState(!1);V.useEffect(()=>{nr(!0)},[]);const al=jt&&!h&&!c;V.useEffect(()=>{rt&&p&&!h&&jt&&K.current.pulsate()},[h,p,rt,jt]);function wn(re,zc,qc=d){return Hl(fl=>(zc&&zc(fl),!qc&&K.current&&K.current[re](fl),!0))}const zp=wn("start",M),qp=wn("stop",P),Fc=wn("stop",v),ll=wn("stop",w),$c=wn("stop",re=>{rt&&re.preventDefault(),E&&E(re)}),Wp=wn("start",b),ul=wn("stop",R),cl=wn("stop",C),Uc=wn("stop",re=>{Ue(re),te.current===!1&&En(!1),T&&T(re)},!1),mt=Hl(re=>{Bt.current||(Bt.current=re.currentTarget),Pe(re),te.current===!0&&(En(!0),S&&S(re)),y&&y(re)}),ut=()=>{const re=Bt.current;return l&&l!=="button"&&!(re.tagName==="A"&&re.href)},ei=V.useRef(!1),Gp=Hl(re=>{p&&!ei.current&&rt&&K.current&&re.key===" "&&(ei.current=!0,K.current.stop(re,()=>{K.current.start(re)})),re.target===re.currentTarget&&ut()&&re.key===" "&&re.preventDefault(),k&&k(re),re.target===re.currentTarget&&ut()&&re.key==="Enter"&&!c&&(re.preventDefault(),_&&_(re))}),Bc=Hl(re=>{p&&re.key===" "&&K.current&&rt&&!re.defaultPrevented&&(ei.current=!1,K.current.stop(re,()=>{K.current.pulsate(re)})),F&&F(re),_&&re.target===re.currentTarget&&ut()&&re.key===" "&&!re.defaultPrevented&&_(re)});let co=l;co==="button"&&(lt.href||lt.to)&&(co=g);const Un={};co==="button"?(Un.type=Ie===void 0?"button":Ie,Un.disabled=c):(!lt.href&&!lt.to&&(Un.role="button"),c&&(Un["aria-disabled"]=c));const jc=ay(n,Ar,Bt),hl=B({},r,{centerRipple:s,component:l,disabled:c,disableRipple:h,disableTouchRipple:d,focusRipple:p,tabIndex:x,focusVisible:rt}),dl=t4(hl);return j.jsxs(n4,B({as:co,className:Qe(dl.root,a),ownerState:hl,onBlur:Uc,onClick:_,onContextMenu:qp,onFocus:mt,onKeyDown:Gp,onKeyUp:Bc,onMouseDown:zp,onMouseLeave:$c,onMouseUp:ll,onDragLeave:Fc,onTouchEnd:ul,onTouchMove:cl,onTouchStart:Wp,ref:jc,tabIndex:c?-1:x,type:Ie},Un,lt,{children:[o,al?j.jsx(JL,B({ref:Z,center:s},A)):null]}))});function i4(t){return Fn("MuiTypography",t)}er("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const s4=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],o4=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Ee(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return tr(a,i4,o)},a4=At("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ee(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>B({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),CI={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},l4={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},u4=t=>l4[t]||t,jd=V.forwardRef(function(e,n){const r=vn({props:e,name:"MuiTypography"}),i=u4(r.color),s=Yf(B({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:h=!1,paragraph:d=!1,variant:p="body1",variantMapping:g=CI}=s,T=be(s,s4),_=B({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:h,paragraph:d,variant:p,variantMapping:g}),P=l||(d?"p":g[p]||CI[p])||"span",v=o4(_);return j.jsx(a4,B({as:P,ref:n,ownerState:_,className:Qe(v.root,a)},T))});function c4(t){return j.jsx(OR,B({},t,{defaultTheme:rP,themeId:$u}))}const h4=er("MuiBox",["root"]),d4=_v(),fy=oO({themeId:$u,defaultTheme:d4,defaultClassName:h4.root,generateClassName:cv.generate});function f4(t){return Fn("MuiButton",t)}const Ih=er("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),p4=V.createContext({}),m4=V.createContext(void 0),g4=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],y4=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Ee(e)}`,`size${Ee(i)}`,`${s}Size${Ee(i)}`,`color${Ee(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ee(i)}`],endIcon:["icon","endIcon",`iconSize${Ee(i)}`]},l=tr(a,f4,o);return B({},o,l)},oP=t=>B({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),_4=At(r4,{shouldForwardProp:t=>sP(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ee(n.color)}`],e[`size${Ee(n.size)}`],e[`${n.variant}Size${Ee(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return B({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":B({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ps(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ps(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ps(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":B({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Ih.focusVisible}`]:B({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Ih.disabled}`]:B({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Ps(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ih.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ih.disabled}`]:{boxShadow:"none"}}),v4=At("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ee(n.size)}`]]}})(({ownerState:t})=>B({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},oP(t))),E4=At("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ee(n.size)}`]]}})(({ownerState:t})=>B({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},oP(t))),mi=V.forwardRef(function(e,n){const r=V.useContext(p4),i=V.useContext(m4),s=zu(r,e),o=vn({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:h,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:g=!1,endIcon:T,focusVisibleClassName:_,fullWidth:P=!1,size:v="medium",startIcon:y,type:S,variant:k="text"}=o,F=be(o,g4),M=B({},o,{color:l,component:c,disabled:d,disableElevation:p,disableFocusRipple:g,fullWidth:P,size:v,type:S,variant:k}),E=y4(M),w=y&&j.jsx(v4,{className:E.startIcon,ownerState:M,children:y}),R=T&&j.jsx(E4,{className:E.endIcon,ownerState:M,children:T}),C=i||"";return j.jsxs(_4,B({ownerState:M,className:Qe(r.className,E.root,h,C),component:c,disabled:d,focusRipple:!g,focusVisibleClassName:Qe(E.focusVisible,_),ref:n,type:S},F,{classes:E,children:[w,a,R]}))});function w4(t){return Fn("MuiCard",t)}er("MuiCard",["root"]);const I4=["className","raised"],T4=t=>{const{classes:e}=t;return tr({root:["root"]},w4,e)},S4=At(jL,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),A4=V.forwardRef(function(e,n){const r=vn({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=be(r,I4),a=B({},r,{raised:s}),l=T4(a);return j.jsx(S4,B({className:Qe(l.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});function R4(t){return Fn("MuiCardContent",t)}er("MuiCardContent",["root"]);const P4=["className","component"],C4=t=>{const{classes:e}=t;return tr({root:["root"]},R4,e)},b4=At("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x4=V.forwardRef(function(e,n){const r=vn({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=be(r,P4),a=B({},r,{component:s}),l=C4(a);return j.jsx(b4,B({as:s,className:Qe(l.root,i),ownerState:a,ref:n},o))});function k4(t){return Fn("MuiCircularProgress",t)}er("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const V4=["className","color","disableShrink","size","style","thickness","value","variant"];let cp=t=>t,bI,xI,kI,VI;const li=44,N4=Ba(bI||(bI=cp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),D4=Ba(xI||(xI=cp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),O4=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${Ee(r)}`],svg:["svg"],circle:["circle",`circle${Ee(n)}`,i&&"circleDisableShrink"]};return tr(s,k4,e)},M4=At("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ee(n.color)}`]]}})(({ownerState:t,theme:e})=>B({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&zf(kI||(kI=cp`
      animation: ${0} 1.4s linear infinite;
    `),N4)),L4=At("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),F4=At("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ee(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>B({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&zf(VI||(VI=cp`
      animation: ${0} 1.4s ease-in-out infinite;
    `),D4)),$4=V.forwardRef(function(e,n){const r=vn({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:h=0,variant:d="indeterminate"}=r,p=be(r,V4),g=B({},r,{color:s,disableShrink:o,size:a,thickness:c,value:h,variant:d}),T=O4(g),_={},P={},v={};if(d==="determinate"){const y=2*Math.PI*((li-c)/2);_.strokeDasharray=y.toFixed(3),v["aria-valuenow"]=Math.round(h),_.strokeDashoffset=`${((100-h)/100*y).toFixed(3)}px`,P.transform="rotate(-90deg)"}return j.jsx(M4,B({className:Qe(T.root,i),style:B({width:a,height:a},P,l),ownerState:g,ref:n,role:"progressbar"},v,p,{children:j.jsx(L4,{className:T.svg,ownerState:g,viewBox:`${li/2} ${li/2} ${li} ${li}`,children:j.jsx(F4,{className:T.circle,style:_,ownerState:g,cx:li,cy:li,r:(li-c)/2,fill:"none",strokeWidth:c})})}))}),U4=aM({createStyledComponent:At("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ee(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>vn({props:t,name:"MuiContainer"})}),B4=(t,e)=>B({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),j4=t=>B({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),z4=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var l;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=a.palette)==null?void 0:l.mode}});let i=B({html:B4(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:B({margin:0},j4(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function q4(t){const e=vn({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return j.jsxs(V.Fragment,{children:[j.jsx(c4,{styles:i=>z4(i,r)}),n]})}function W4(t){return Fn("MuiDivider",t)}const hz=er("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),G4=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],K4=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return tr({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},W4,r)},H4=At("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>B({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Ps(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>B({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>B({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>B({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>B({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Q4=At("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>B({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),aP=V.forwardRef(function(e,n){const r=vn({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:l=!1,light:c=!1,orientation:h="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:p="center",variant:g="fullWidth"}=r,T=be(r,G4),_=B({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:h,role:d,textAlign:p,variant:g}),P=K4(_);return j.jsx(H4,B({as:a,className:Qe(P.root,o),role:d,ref:n,ownerState:_},T,{children:s?j.jsx(Q4,{className:P.wrapper,ownerState:_,children:s}):null}))});aP.muiSkipListHighlight=!0;const py=mM({createStyledComponent:At("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>vn({props:t,name:"MuiStack"})}),Y4="modulepreload",J4=function(t){return"/email_reminder/"+t},NI={},Kr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=J4(l),l in NI)return;NI[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Y4,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}var Ai;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ai||(Ai={}));const DI="popstate";function X4(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=ro(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),my("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:zd(s))}function r(i,s){hp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return eF(e,n,r,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z4(){return Math.random().toString(36).substr(2,8)}function OI(t,e){return{usr:t.state,key:t.key,idx:e}}function my(t,e,n,r){return n===void 0&&(n=null),qu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ro(e):e,{state:n,key:e&&e.key||r||Z4()})}function zd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ai.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(qu({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Ai.Pop;let P=h(),v=P==null?null:P-c;c=P,l&&l({action:a,location:_.location,delta:v})}function p(P,v){a=Ai.Push;let y=my(_.location,P,v);n&&n(y,P),c=h()+1;let S=OI(y,c),k=_.createHref(y);try{o.pushState(S,"",k)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(k)}s&&l&&l({action:a,location:_.location,delta:1})}function g(P,v){a=Ai.Replace;let y=my(_.location,P,v);n&&n(y,P),c=h();let S=OI(y,c),k=_.createHref(y);o.replaceState(S,"",k),s&&l&&l({action:a,location:_.location,delta:0})}function T(P){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof P=="string"?P:zd(P);return y=y.replace(/ $/,"%20"),Ze(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let _={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(DI,d),l=P,()=>{i.removeEventListener(DI,d),l=null}},createHref(P){return e(i,P)},createURL:T,encodeLocation(P){let v=T(P);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(P){return o.go(P)}};return _}var MI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(MI||(MI={}));function tF(t,e,n){return n===void 0&&(n="/"),nF(t,e,n)}function nF(t,e,n,r){let i=typeof e=="string"?ro(e):e,s=wv(i.pathname||"/",n);if(s==null)return null;let o=lP(t);rF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=mF(s);a=dF(o[l],c)}return a}function lP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Li([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lP(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:cF(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of uP(s.path))i(s,o,l)}),e}function uP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=uP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function rF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iF=/^:[\w-]+$/,sF=3,oF=2,aF=1,lF=10,uF=-2,LI=t=>t==="*";function cF(t,e){let n=t.split("/"),r=n.length;return n.some(LI)&&(r+=uF),e&&(r+=oF),n.filter(i=>!LI(i)).reduce((i,s)=>i+(iF.test(s)?sF:s===""?aF:lF),r)}function hF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dF(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=fF({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Li([s,d.pathname]),pathnameBase:EF(Li([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Li([s,d.pathnameBase]))}return o}function fF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const T=a[d];return g&&!T?c[p]=void 0:c[p]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function pF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),hp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const gF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yF=t=>gF.test(t);function _F(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ro(t):t,s;if(n)if(yF(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),hp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=FI(n.substring(1),"/"):s=FI(n,e)}else s=e;return{pathname:s,search:wF(r),hash:IF(i)}}function FI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Iv(t,e){let n=vF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ro(t):(i=qu({},t),Ze(!i.pathname||!i.pathname.includes("?"),qm("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),qm("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),qm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=_F(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Li=t=>t.join("/").replace(/\/\/+/g,"/"),EF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cP=["post","put","patch","delete"];new Set(cP);const SF=["get",...cP];new Set(SF);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}const Sv=V.createContext(null),AF=V.createContext(null),ts=V.createContext(null),dp=V.createContext(null),Hr=V.createContext({outlet:null,matches:[],isDataRoute:!1}),hP=V.createContext(null);function RF(t,e){let{relative:n}=e===void 0?{}:e;Ga()||Ze(!1);let{basename:r,navigator:i}=V.useContext(ts),{hash:s,pathname:o,search:a}=pP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Li([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ga(){return V.useContext(dp)!=null}function Ka(){return Ga()||Ze(!1),V.useContext(dp).location}function dP(t){V.useContext(ts).static||V.useLayoutEffect(t)}function fP(){let{isDataRoute:t}=V.useContext(Hr);return t?$F():PF()}function PF(){Ga()||Ze(!1);let t=V.useContext(Sv),{basename:e,future:n,navigator:r}=V.useContext(ts),{matches:i}=V.useContext(Hr),{pathname:s}=Ka(),o=JSON.stringify(Iv(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return dP(()=>{a.current=!0}),V.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Tv(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Li([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function dz(){let{matches:t}=V.useContext(Hr),e=t[t.length-1];return e?e.params:{}}function pP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(ts),{matches:i}=V.useContext(Hr),{pathname:s}=Ka(),o=JSON.stringify(Iv(i,r.v7_relativeSplatPath));return V.useMemo(()=>Tv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function CF(t,e){return bF(t,e)}function bF(t,e,n,r){Ga()||Ze(!1);let{navigator:i}=V.useContext(ts),{matches:s}=V.useContext(Hr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ka(),h;if(e){var d;let P=typeof e=="string"?ro(e):e;l==="/"||(d=P.pathname)!=null&&d.startsWith(l)||Ze(!1),h=P}else h=c;let p=h.pathname||"/",g=p;if(l!=="/"){let P=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=tF(t,{pathname:g}),_=DF(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Li([l,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?l:Li([l,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&_?V.createElement(dp.Provider,{value:{location:Wu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ai.Pop}},_):_}function xF(){let t=FF(),e=TF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const kF=V.createElement(xF,null);class VF extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(Hr.Provider,{value:this.props.routeContext},V.createElement(hP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NF(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Sv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Hr.Provider,{value:e},r)}function DF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Ze(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:g}=n,T=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||T){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,p)=>{let g,T=!1,_=null,P=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||kF,l&&(c<0&&p===0?(UF("route-fallback"),T=!0,P=null):c===p&&(T=!0,P=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),y=()=>{let S;return g?S=_:T?S=P:d.route.Component?S=V.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=h,V.createElement(NF,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?V.createElement(VF,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var mP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mP||{}),gP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gP||{});function OF(t){let e=V.useContext(Sv);return e||Ze(!1),e}function MF(t){let e=V.useContext(AF);return e||Ze(!1),e}function LF(t){let e=V.useContext(Hr);return e||Ze(!1),e}function yP(t){let e=LF(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function FF(){var t;let e=V.useContext(hP),n=MF(),r=yP();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $F(){let{router:t}=OF(mP.UseNavigateStable),e=yP(gP.UseNavigateStable),n=V.useRef(!1);return dP(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wu({fromRouteId:e},s)))},[t,e])}const $I={};function UF(t,e,n){$I[t]||($I[t]=!0)}function BF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function UI(t){let{to:e,replace:n,state:r,relative:i}=t;Ga()||Ze(!1);let{future:s,static:o}=V.useContext(ts),{matches:a}=V.useContext(Hr),{pathname:l}=Ka(),c=fP(),h=Tv(e,Iv(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return V.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function In(t){Ze(!1)}function jF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ai.Pop,navigator:s,static:o=!1,future:a}=t;Ga()&&Ze(!1);let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:o,future:Wu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ro(r));let{pathname:h="/",search:d="",hash:p="",state:g=null,key:T="default"}=r,_=V.useMemo(()=>{let P=wv(h,l);return P==null?null:{location:{pathname:P,search:d,hash:p,state:g,key:T},navigationType:i}},[l,h,d,p,g,T,i]);return _==null?null:V.createElement(ts.Provider,{value:c},V.createElement(dp.Provider,{children:n,value:_}))}function zF(t){let{children:e,location:n}=t;return CF(gy(e),n)}new Promise(()=>{});function gy(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,gy(r.props.children,s));return}r.type!==In&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function qF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GF(t,e){return t.button===0&&(!e||e==="_self")&&!WF(t)}const KF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HF="6";try{window.__reactRouterVersion=HF}catch{}const QF="startTransition",BI=dd[QF];function YF(t){let{basename:e,children:n,future:r,window:i}=t,s=V.useRef();s.current==null&&(s.current=X4({window:i,v5Compat:!0}));let o=s.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=V.useCallback(d=>{c&&BI?BI(()=>l(d)):l(d)},[l,c]);return V.useLayoutEffect(()=>o.listen(h),[o,h]),V.useEffect(()=>BF(r),[r]),V.createElement(jF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const JF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Io=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,p=qF(e,KF),{basename:g}=V.useContext(ts),T,_=!1;if(typeof c=="string"&&XF.test(c)&&(T=c,JF))try{let S=new URL(window.location.href),k=c.startsWith("//")?new URL(S.protocol+c):new URL(c),F=wv(k.pathname,g);k.origin===S.origin&&F!=null?c=F+k.search+k.hash:_=!0}catch{}let P=RF(c,{relative:i}),v=ZF(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function y(S){r&&r(S),S.defaultPrevented||v(S)}return V.createElement("a",yy({},p,{href:T||P,onClick:_||s?r:y,ref:n,target:l}))});var jI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jI||(jI={}));var zI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zI||(zI={}));function ZF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=fP(),c=Ka(),h=pP(t,{relative:o});return V.useCallback(d=>{if(GF(d,n)){d.preventDefault();let p=r!==void 0?r:zd(c)===zd(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}const e3=()=>{};var qI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[h],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_P(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new n3;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const T=c<<6&192|d;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r3=function(t){const e=_P(t);return vP.encodeByteArray(e,!0)},qd=function(t){return r3(t).replace(/\./g,"")},EP=function(t){try{return vP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=()=>wP().__FIREBASE_DEFAULTS__,s3=()=>{if(typeof process>"u"||typeof qI>"u")return;const t=qI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EP(t[1]);return e&&JSON.parse(e)},fp=()=>{try{return e3()||i3()||s3()||o3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IP=t=>{var e,n;return(n=(e=fp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},a3=t=>{const e=IP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TP=()=>{var t;return(t=fp())==null?void 0:t.config},SP=t=>{var e;return(e=fp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Av(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qd(JSON.stringify(n)),qd(JSON.stringify(o)),""].join(".")}const uu={};function c3(){const t={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?t.emulator.push(e):t.prod.push(e);return t}function h3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let WI=!1;function AP(t,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||uu[t]===e||uu[t]||WI)return;uu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=c3().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{WI=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=h3(r),g=n("text"),T=document.getElementById(g)||document.createElement("span"),_=n("learnmore"),P=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;a(S),h(P,_);const k=c();l(y,v),S.append(y,T,P,k),document.body.appendChild(S)}s?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function RP(){var e;const t=(e=fp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function m3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g3(){const t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PP(){return!RP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CP(){return!RP()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function bP(){try{return typeof indexedDB=="object"}catch{return!1}}function y3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="FirebaseError";class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_3,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?v3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qr(i,a,r)}}function v3(t,e){return t.replace(E3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const E3=/\{\$([^}]+)}/g;function w3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zn(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(GI(s)&&GI(o)){if(!Zn(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function I3(t,e){const n=new T3(t,e);return n.subscribe.bind(n)}class T3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wm),i.error===void 0&&(i.error=Wm),i.complete===void 0&&(i.complete=Wm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t){return t&&t._delegate?t._delegate:t}class zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P3(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R3(t){return t===gs?void 0:t}function P3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const b3={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},x3=ue.INFO,k3={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},V3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=k3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rv{constructor(e){this.name=e,this._logLevel=x3,this._logHandler=V3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const N3=(t,e)=>e.some(n=>t instanceof n);let KI,HI;function D3(){return KI||(KI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O3(){return HI||(HI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xP=new WeakMap,_y=new WeakMap,kP=new WeakMap,Gm=new WeakMap,Pv=new WeakMap;function M3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xP.set(n,t)}).catch(()=>{}),Pv.set(e,t),e}function L3(t){if(_y.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_y.set(t,e)}let vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _y.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F3(t){vy=t(vy)}function $3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Km(this),e,...n);return kP.set(r,e.sort?e.sort():[e]),Fi(r)}:O3().includes(t)?function(...e){return t.apply(Km(this),e),Fi(xP.get(this))}:function(...e){return Fi(t.apply(Km(this),e))}}function U3(t){return typeof t=="function"?$3(t):(t instanceof IDBTransaction&&L3(t),N3(t,D3())?new Proxy(t,vy):t)}function Fi(t){if(t instanceof IDBRequest)return M3(t);if(Gm.has(t))return Gm.get(t);const e=U3(t);return e!==t&&(Gm.set(t,e),Pv.set(e,t)),e}const Km=t=>Pv.get(t);function B3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fi(o.result),l.oldVersion,l.newVersion,Fi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const j3=["get","getKey","getAll","getAllKeys","count"],z3=["put","add","delete","clear"],Hm=new Map;function QI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=z3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j3.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Hm.set(e,s),s}F3(t=>({...t,get:(e,n,r)=>QI(e,n)||t.get(e,n,r),has:(e,n)=>!!QI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function W3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ey="@firebase/app",YI="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Rv("@firebase/app"),G3="@firebase/app-compat",K3="@firebase/analytics-compat",H3="@firebase/analytics",Q3="@firebase/app-check-compat",Y3="@firebase/app-check",J3="@firebase/auth",X3="@firebase/auth-compat",Z3="@firebase/database",e5="@firebase/data-connect",t5="@firebase/database-compat",n5="@firebase/functions",r5="@firebase/functions-compat",i5="@firebase/installations",s5="@firebase/installations-compat",o5="@firebase/messaging",a5="@firebase/messaging-compat",l5="@firebase/performance",u5="@firebase/performance-compat",c5="@firebase/remote-config",h5="@firebase/remote-config-compat",d5="@firebase/storage",f5="@firebase/storage-compat",p5="@firebase/firestore",m5="@firebase/ai",g5="@firebase/firestore-compat",y5="firebase",_5="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",v5={[Ey]:"fire-core",[G3]:"fire-core-compat",[H3]:"fire-analytics",[K3]:"fire-analytics-compat",[Y3]:"fire-app-check",[Q3]:"fire-app-check-compat",[J3]:"fire-auth",[X3]:"fire-auth-compat",[Z3]:"fire-rtdb",[e5]:"fire-data-connect",[t5]:"fire-rtdb-compat",[n5]:"fire-fn",[r5]:"fire-fn-compat",[i5]:"fire-iid",[s5]:"fire-iid-compat",[o5]:"fire-fcm",[a5]:"fire-fcm-compat",[l5]:"fire-perf",[u5]:"fire-perf-compat",[c5]:"fire-rc",[h5]:"fire-rc-compat",[d5]:"fire-gcs",[f5]:"fire-gcs-compat",[p5]:"fire-fst",[g5]:"fire-fst-compat",[m5]:"fire-vertex","fire-js":"fire-js",[y5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,E5=new Map,wy=new Map;function JI(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pa(t){const e=t.name;if(wy.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,t);for(const n of Gu.values())JI(n,t);for(const n of E5.values())JI(n,t);return!0}function Ec(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function w5(t,e,n=Wd){Ec(t,e).clearInstance(n)}function Gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new _c("app","Firebase",I5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=_5;function VP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Wd,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $i.create("bad-app-name",{appName:String(i)});if(n||(n=TP()),!n)throw $i.create("no-options");const s=Gu.get(i);if(s){if(Zn(n,s.options)&&Zn(r,s.config))return s;throw $i.create("duplicate-app",{appName:i})}const o=new C3(i);for(const l of wy.values())o.addComponent(l);const a=new T5(n,r,o);return Gu.set(i,a),a}function NP(t=Wd){const e=Gu.get(t);if(!e&&t===Wd&&TP())return VP();if(!e)throw $i.create("no-app",{appName:t});return e}function S5(){return Array.from(Gu.values())}function Ui(t,e,n){let r=v5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(o.join(" "));return}pa(new zs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="firebase-heartbeat-database",R5=1,Ku="firebase-heartbeat-store";let Qm=null;function DP(){return Qm||(Qm=B3(A5,R5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),Qm}async function P5(t){try{const n=(await DP()).transaction(Ku),r=await n.objectStore(Ku).get(OP(t));return await n.done,r}catch(e){if(e instanceof Qr)Ur.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(n.message)}}}async function XI(t,e){try{const r=(await DP()).transaction(Ku,"readwrite");await r.objectStore(Ku).put(e,OP(t)),await r.done}catch(n){if(n instanceof Qr)Ur.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function OP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=1024,b5=30;class x5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>b5){const o=N5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZI(),{heartbeatsToSend:r,unsentEntries:i}=k5(this._heartbeatsCache.heartbeats),s=qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ur.warn(n),""}}}function ZI(){return new Date().toISOString().substring(0,10)}function k5(t,e=C5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bP()?y3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eT(t){return qd(JSON.stringify({version:2,heartbeats:t})).length}function N5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){pa(new zs("platform-logger",e=>new q3(e),"PRIVATE")),pa(new zs("heartbeat",e=>new x5(e),"PRIVATE")),Ui(Ey,YI,t),Ui(Ey,YI,"esm2020"),Ui("fire-js","")}D5("");function MP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O5=MP,LP=new _c("auth","Firebase",MP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Rv("@firebase/auth");function M5(t,...e){Gd.logLevel<=ue.WARN&&Gd.warn(`Auth (${Ha}): ${t}`,...e)}function Yh(t,...e){Gd.logLevel<=ue.ERROR&&Gd.error(`Auth (${Ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw bv(t,...e)}function Yn(t,...e){return bv(t,...e)}function Cv(t,e,n){const r={...O5(),[e]:n};return new _c("auth","Firebase",r).create(e,{appName:t.name})}function Ns(t){return Cv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),Cv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LP.create(t,...e)}function ee(t,e,...n){if(!t)throw bv(e,...n)}function Vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yh(e),new Error(e)}function Br(t,e){t||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function F5(){return tT()==="http:"||tT()==="https:"}function tT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F5()||p3()||"connection"in navigator)?navigator.onLine:!0}function U5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=d3()||m3()}get(){return $5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z5=new wc(3e4,6e4);function kv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qa(t,e,n,r,i={}){return $P(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=vc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return f3()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&io(t.emulatorConfig.host)&&(c.credentials="include"),FP.fetch()(await UP(t,t.config.apiHost,n,a),c)})}async function $P(t,e,n){t._canInitEmulator=!1;const r={...B5,...e};try{const i=new W5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Th(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Th(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Th(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Cv(t,h,c);Tr(t,h)}}catch(i){if(i instanceof Qr)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function q5(t,e,n,r,i={}){const s=await Qa(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function UP(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?xv(t.config,i):`${t.config.apiScheme}://${i}`;return j5.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class W5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yn(this.auth,"network-request-failed")),z5.get())})}}function Th(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e){return Qa(t,"POST","/v1/accounts:delete",e)}async function Kd(t,e){return Qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K5(t,e=!1){const n=Se(t),r=await n.getIdToken(e),i=Vv(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cu(Ym(i.auth_time)),issuedAtTime:cu(Ym(i.iat)),expirationTime:cu(Ym(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ym(t){return Number(t)*1e3}function Vv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=EP(n);return i?JSON.parse(i):(Yh("Failed to decode base64 JWT payload"),null)}catch(i){return Yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nT(t){const e=Vv(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qr&&H5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function H5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Hu(t,Kd(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?BP(i.providerUserInfo):[],o=J5(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ty(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Y5(t){const e=Se(t);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e){const n=await $P(t,{},async()=>{const r=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await UP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&io(t.emulatorConfig.host)&&(l.credentials="include"),FP.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z5(t,e){return Qa(t,"POST","/v2/accounts:revokeToken",kv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=nT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await X5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zo;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Q5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ty(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Hu(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return K5(this,e)}reload(){return Y5(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Hu(this,G5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:g,providerData:T,stsTokenManager:_}=n;ee(d&&_,e,"internal-error");const P=Zo.fromJSON(this.name,_);ee(typeof d=="string",e,"internal-error"),ui(r,e.name),ui(i,e.name),ee(typeof p=="boolean",e,"internal-error"),ee(typeof g=="boolean",e,"internal-error"),ui(s,e.name),ui(o,e.name),ui(a,e.name),ui(l,e.name),ui(c,e.name),ui(h,e.name);const v=new Kn({uid:d,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:P,createdAt:c,lastLoginAt:h});return T&&Array.isArray(T)&&(v.providerData=T.map(y=>({...y}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zo;i.updateFromServerResponse(n);const s=new Kn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?BP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Zo;a.updateFromIdToken(r);const l=new Kn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ty(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;function Nr(t){Br(t instanceof Function,"Expected a class definition");let e=rT.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jP.type="NONE";const iT=jP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kd(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ea(Nr(iT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Nr(iT);const o=Jh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const p=await Kd(e,{idToken:h}).catch(()=>{});if(!p)break;d=await Kn._fromGetAccountInfoResponse(e,p,h)}else d=Kn._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ea(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ea(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HP(e))return"Blackberry";if(QP(e))return"Webos";if(qP(e))return"Safari";if((e.includes("chrome/")||WP(e))&&!e.includes("edge/"))return"Chrome";if(KP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zP(t=ft()){return/firefox\//i.test(t)}function qP(t=ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WP(t=ft()){return/crios\//i.test(t)}function GP(t=ft()){return/iemobile/i.test(t)}function KP(t=ft()){return/android/i.test(t)}function HP(t=ft()){return/blackberry/i.test(t)}function QP(t=ft()){return/webos/i.test(t)}function Nv(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e6(t=ft()){var e;return Nv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function t6(){return g3()&&document.documentMode===10}function YP(t=ft()){return Nv(t)||KP(t)||QP(t)||HP(t)||/windows phone/i.test(t)||GP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e=[]){let n;switch(t){case"Browser":n=sT(ft());break;case"Worker":n=`${sT(ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e={}){return Qa(t,"GET","/v2/passwordPolicy",kv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=6;class s6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??i6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new n6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kd(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Ns(this));const n=e?Se(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r6(this),n=new s6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Z5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&M5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function pp(t){return Se(t)}class oT{constructor(e){this.auth=e,this.observer=null,this.addObserver=I3(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a6(t){Dv=t}function l6(t){return Dv.loadJS(t)}function u6(){return Dv.gapiScript}function c6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t,e){const n=Ec(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zn(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function d6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function f6(t,e,n){const r=pp(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=XP(e),{host:o,port:a}=p6(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Zn(c,r.config.emulator)&&Zn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,io(o)?(Av(`${s}//${o}${l}`),AP("Auth",!0)):m6()}function XP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p6(t){const e=XP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:aT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:aT(o)}}}function aT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return q5(t,"POST","/v1/accounts:signInWithIdp",kv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="http://localhost";class qs extends ZP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new qs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:g6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Ov{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ic{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Ic{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Ic{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Kn._fromIdTokenResponse(e,r,i),o=lT(r);return new ma({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=lT(r);return new ma({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function lT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Qr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qd(e,n,r,i)}}function eC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(t,s,e,r):s})}async function y6(t,e,n=!1){const r=await Hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(Ns(r));const i="reauthenticate";try{const s=await Hu(t,eC(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Vv(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),ma._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e,n=!1){if(Gn(t.app))return Promise.reject(Ns(t));const r="signIn",i=await eC(t,r,e),s=await ma._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function E6(t,e,n,r){return Se(t).onIdTokenChanged(e,n,r)}function w6(t,e,n){return Se(t).beforeAuthStateChanged(e,n)}function I6(t,e,n,r){return Se(t).onAuthStateChanged(e,n,r)}function T6(t){return Se(t).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=1e3,A6=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);t6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,A6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const R6=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const iC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await P6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Mv("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function b6(t){_r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function x6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function V6(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebaseLocalStorageDb",N6=1,Jd="firebaseLocalStorage",aC="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gp(t,e){return t.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function D6(){const t=indexedDB.deleteDatabase(oC);return new Tc(t).toPromise()}function Sy(){const t=indexedDB.open(oC,N6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jd,{keyPath:aC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jd)?e(r):(r.close(),await D6(),e(await Sy()))})})}async function uT(t,e,n){const r=gp(t,!0).put({[aC]:e,value:n});return new Tc(r).toPromise()}async function O6(t,e){const n=gp(t,!1).get(e),r=await new Tc(n).toPromise();return r===void 0?null:r.value}function cT(t,e){const n=gp(t,!0).delete(e);return new Tc(n).toPromise()}const M6=800,L6=3;class lC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>L6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mp._getInstance(V6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await x6(),!this.activeServiceWorker)return;this.sender=new C6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sy();return await uT(e,Yd,"1"),await cT(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>O6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gp(i,!1).getAll();return new Tc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lC.type="LOCAL";const F6=lC;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e){return e?Nr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends ZP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $6(t){return v6(t.auth,new Lv(t),t.bypassAuthState)}function U6(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),_6(n,new Lv(t),t.bypassAuthState)}async function B6(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),y6(n,new Lv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $6;case"linkViaPopup":case"linkViaRedirect":return B6;case"reauthViaPopup":case"reauthViaRedirect":return U6;default:Tr(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new wc(2e3,1e4);async function z6(t,e,n){if(Gn(t.app))return Promise.reject(Yn(t,"operation-not-supported-in-this-environment"));const r=pp(t);L5(t,e,Ov);const i=uC(r,n);return new bs(r,"signInViaPopup",e,i).executeNotNull()}class bs extends cC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j6.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="pendingRedirect",Xh=new Map;class W6 extends cC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const r=await G6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G6(t,e){const n=Q6(e),r=H6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function K6(t,e){Xh.set(t._key(),e)}function H6(t){return Nr(t._redirectPersistence)}function Q6(t){return Jh(q6,t.config.apiKey,t.name)}async function Y6(t,e,n=!1){if(Gn(t.app))return Promise.reject(Ns(t));const r=pp(t),i=uC(r,e),o=await new W6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=10*60*1e3;class X6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J6&&this.cachedEventUids.clear(),this.cachedEventUids.has(hT(e))}saveEventToCache(e){this.cachedEventUids.add(hT(e)),this.lastProcessedEventTime=Date.now()}}function hT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(t,e={}){return Qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n$=/^https?/;async function r$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await e$(t);for(const n of e)try{if(i$(n))return}catch{}Tr(t,"unauthorized-domain")}function i$(t){const e=Iy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!n$.test(n))return!1;if(t$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=new wc(3e4,6e4);function dT(){const t=_r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o$(t){return new Promise((e,n)=>{var i,s,o;function r(){dT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dT(),n(Yn(t,"network-request-failed"))},timeout:s$.get()})}if((s=(i=_r().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=_r().gapi)!=null&&o.load)r();else{const a=c6("iframefcb");return _r()[a]=()=>{gapi.load?r():n(Yn(t,"network-request-failed"))},l6(`${u6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function a$(t){return Zh=Zh||o$(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=new wc(5e3,15e3),u$="__/auth/iframe",c$="emulator/auth/iframe",h$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f$(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xv(e,c$):`https://${t.config.authDomain}/${u$}`,r={apiKey:e.apiKey,appName:t.name,v:Ha},i=d$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vc(r).slice(1)}`}async function p$(t){const e=await a$(t),n=_r().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:f$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Yn(t,"network-request-failed"),a=_r().setTimeout(()=>{s(o)},l$.get());function l(){_r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g$=500,y$=600,_$="_blank",v$="http://localhost";class fT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E$(t,e,n,r=g$,i=y$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...m$,width:r.toString(),height:i.toString(),top:s,left:o},c=ft().toLowerCase();n&&(a=WP(c)?_$:n),zP(c)&&(e=e||v$,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,T])=>`${p}${g}=${T},`,"");if(e6(c)&&a!=="_self")return w$(e||"",a),new fT(null);const d=window.open(e||"",a,h);ee(d,t,"popup-blocked");try{d.focus()}catch{}return new fT(d)}function w$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="__/auth/handler",T$="emulator/auth/handler",S$=encodeURIComponent("fac");async function pT(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ha,eventId:i};if(e instanceof Ov){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",w3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Ic){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${S$}=${encodeURIComponent(l)}`:"";return`${A$(t)}?${vc(a).slice(1)}${c}`}function A$({config:t}){return t.emulator?xv(t,T$):`https://${t.authDomain}/${I$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class R${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iC,this._completeRedirectFn=Y6,this._overrideRedirectResult=K6}async _openPopup(e,n,r,i){var o;Br((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await pT(e,n,r,Iy(),i);return E$(e,s,Mv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await pT(e,n,r,Iy(),i);return b6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await p$(e),r=new X6(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jm,{type:Jm},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Jm];s!==void 0&&n(!!s),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YP()||qP()||Nv()}}const P$=R$;var mT="@firebase/auth",gT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x$(t){pa(new zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JP(t)},c=new o6(r,i,s,l);return d6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pa(new zs("auth-internal",e=>{const n=pp(e.getProvider("auth").getImmediate());return(r=>new C$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(mT,gT,b$(t)),Ui(mT,gT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=5*60,V$=SP("authIdTokenMaxAge")||k$;let yT=null;const N$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V$)return;const i=n==null?void 0:n.token;yT!==i&&(yT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function D$(t=NP()){const e=Ec(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h6(t,{popupRedirectResolver:P$,persistence:[F6,R6,iC]}),r=SP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=N$(s.toString());w6(n,o,()=>o(n.currentUser)),E6(n,a=>o(a))}}const i=IP("auth");return i&&f6(n,`http://${i}`),n}function O$(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}a6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Yn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",O$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x$("Browser");var M$="firebase",L$="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(M$,L$,"app");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,dC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,w){function R(){}R.prototype=w.prototype,E.F=w.prototype,E.prototype=new R,E.prototype.constructor=E,E.D=function(C,b,x){for(var A=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)A[ie-2]=arguments[ie];return w.prototype[b].apply(C,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,w,R){R||(R=0);const C=Array(16);if(typeof w=="string")for(var b=0;b<16;++b)C[b]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(b=0;b<16;++b)C[b]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=E.g[0],R=E.g[1],b=E.g[2];let x=E.g[3],A;A=w+(x^R&(b^x))+C[0]+3614090360&4294967295,w=R+(A<<7&4294967295|A>>>25),A=x+(b^w&(R^b))+C[1]+3905402710&4294967295,x=w+(A<<12&4294967295|A>>>20),A=b+(R^x&(w^R))+C[2]+606105819&4294967295,b=x+(A<<17&4294967295|A>>>15),A=R+(w^b&(x^w))+C[3]+3250441966&4294967295,R=b+(A<<22&4294967295|A>>>10),A=w+(x^R&(b^x))+C[4]+4118548399&4294967295,w=R+(A<<7&4294967295|A>>>25),A=x+(b^w&(R^b))+C[5]+1200080426&4294967295,x=w+(A<<12&4294967295|A>>>20),A=b+(R^x&(w^R))+C[6]+2821735955&4294967295,b=x+(A<<17&4294967295|A>>>15),A=R+(w^b&(x^w))+C[7]+4249261313&4294967295,R=b+(A<<22&4294967295|A>>>10),A=w+(x^R&(b^x))+C[8]+1770035416&4294967295,w=R+(A<<7&4294967295|A>>>25),A=x+(b^w&(R^b))+C[9]+2336552879&4294967295,x=w+(A<<12&4294967295|A>>>20),A=b+(R^x&(w^R))+C[10]+4294925233&4294967295,b=x+(A<<17&4294967295|A>>>15),A=R+(w^b&(x^w))+C[11]+2304563134&4294967295,R=b+(A<<22&4294967295|A>>>10),A=w+(x^R&(b^x))+C[12]+1804603682&4294967295,w=R+(A<<7&4294967295|A>>>25),A=x+(b^w&(R^b))+C[13]+4254626195&4294967295,x=w+(A<<12&4294967295|A>>>20),A=b+(R^x&(w^R))+C[14]+2792965006&4294967295,b=x+(A<<17&4294967295|A>>>15),A=R+(w^b&(x^w))+C[15]+1236535329&4294967295,R=b+(A<<22&4294967295|A>>>10),A=w+(b^x&(R^b))+C[1]+4129170786&4294967295,w=R+(A<<5&4294967295|A>>>27),A=x+(R^b&(w^R))+C[6]+3225465664&4294967295,x=w+(A<<9&4294967295|A>>>23),A=b+(w^R&(x^w))+C[11]+643717713&4294967295,b=x+(A<<14&4294967295|A>>>18),A=R+(x^w&(b^x))+C[0]+3921069994&4294967295,R=b+(A<<20&4294967295|A>>>12),A=w+(b^x&(R^b))+C[5]+3593408605&4294967295,w=R+(A<<5&4294967295|A>>>27),A=x+(R^b&(w^R))+C[10]+38016083&4294967295,x=w+(A<<9&4294967295|A>>>23),A=b+(w^R&(x^w))+C[15]+3634488961&4294967295,b=x+(A<<14&4294967295|A>>>18),A=R+(x^w&(b^x))+C[4]+3889429448&4294967295,R=b+(A<<20&4294967295|A>>>12),A=w+(b^x&(R^b))+C[9]+568446438&4294967295,w=R+(A<<5&4294967295|A>>>27),A=x+(R^b&(w^R))+C[14]+3275163606&4294967295,x=w+(A<<9&4294967295|A>>>23),A=b+(w^R&(x^w))+C[3]+4107603335&4294967295,b=x+(A<<14&4294967295|A>>>18),A=R+(x^w&(b^x))+C[8]+1163531501&4294967295,R=b+(A<<20&4294967295|A>>>12),A=w+(b^x&(R^b))+C[13]+2850285829&4294967295,w=R+(A<<5&4294967295|A>>>27),A=x+(R^b&(w^R))+C[2]+4243563512&4294967295,x=w+(A<<9&4294967295|A>>>23),A=b+(w^R&(x^w))+C[7]+1735328473&4294967295,b=x+(A<<14&4294967295|A>>>18),A=R+(x^w&(b^x))+C[12]+2368359562&4294967295,R=b+(A<<20&4294967295|A>>>12),A=w+(R^b^x)+C[5]+4294588738&4294967295,w=R+(A<<4&4294967295|A>>>28),A=x+(w^R^b)+C[8]+2272392833&4294967295,x=w+(A<<11&4294967295|A>>>21),A=b+(x^w^R)+C[11]+1839030562&4294967295,b=x+(A<<16&4294967295|A>>>16),A=R+(b^x^w)+C[14]+4259657740&4294967295,R=b+(A<<23&4294967295|A>>>9),A=w+(R^b^x)+C[1]+2763975236&4294967295,w=R+(A<<4&4294967295|A>>>28),A=x+(w^R^b)+C[4]+1272893353&4294967295,x=w+(A<<11&4294967295|A>>>21),A=b+(x^w^R)+C[7]+4139469664&4294967295,b=x+(A<<16&4294967295|A>>>16),A=R+(b^x^w)+C[10]+3200236656&4294967295,R=b+(A<<23&4294967295|A>>>9),A=w+(R^b^x)+C[13]+681279174&4294967295,w=R+(A<<4&4294967295|A>>>28),A=x+(w^R^b)+C[0]+3936430074&4294967295,x=w+(A<<11&4294967295|A>>>21),A=b+(x^w^R)+C[3]+3572445317&4294967295,b=x+(A<<16&4294967295|A>>>16),A=R+(b^x^w)+C[6]+76029189&4294967295,R=b+(A<<23&4294967295|A>>>9),A=w+(R^b^x)+C[9]+3654602809&4294967295,w=R+(A<<4&4294967295|A>>>28),A=x+(w^R^b)+C[12]+3873151461&4294967295,x=w+(A<<11&4294967295|A>>>21),A=b+(x^w^R)+C[15]+530742520&4294967295,b=x+(A<<16&4294967295|A>>>16),A=R+(b^x^w)+C[2]+3299628645&4294967295,R=b+(A<<23&4294967295|A>>>9),A=w+(b^(R|~x))+C[0]+4096336452&4294967295,w=R+(A<<6&4294967295|A>>>26),A=x+(R^(w|~b))+C[7]+1126891415&4294967295,x=w+(A<<10&4294967295|A>>>22),A=b+(w^(x|~R))+C[14]+2878612391&4294967295,b=x+(A<<15&4294967295|A>>>17),A=R+(x^(b|~w))+C[5]+4237533241&4294967295,R=b+(A<<21&4294967295|A>>>11),A=w+(b^(R|~x))+C[12]+1700485571&4294967295,w=R+(A<<6&4294967295|A>>>26),A=x+(R^(w|~b))+C[3]+2399980690&4294967295,x=w+(A<<10&4294967295|A>>>22),A=b+(w^(x|~R))+C[10]+4293915773&4294967295,b=x+(A<<15&4294967295|A>>>17),A=R+(x^(b|~w))+C[1]+2240044497&4294967295,R=b+(A<<21&4294967295|A>>>11),A=w+(b^(R|~x))+C[8]+1873313359&4294967295,w=R+(A<<6&4294967295|A>>>26),A=x+(R^(w|~b))+C[15]+4264355552&4294967295,x=w+(A<<10&4294967295|A>>>22),A=b+(w^(x|~R))+C[6]+2734768916&4294967295,b=x+(A<<15&4294967295|A>>>17),A=R+(x^(b|~w))+C[13]+1309151649&4294967295,R=b+(A<<21&4294967295|A>>>11),A=w+(b^(R|~x))+C[4]+4149444226&4294967295,w=R+(A<<6&4294967295|A>>>26),A=x+(R^(w|~b))+C[11]+3174756917&4294967295,x=w+(A<<10&4294967295|A>>>22),A=b+(w^(x|~R))+C[2]+718787259&4294967295,b=x+(A<<15&4294967295|A>>>17),A=R+(x^(b|~w))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+w&4294967295,E.g[1]=E.g[1]+(b+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+x&4294967295}r.prototype.v=function(E,w){w===void 0&&(w=E.length);const R=w-this.blockSize,C=this.C;let b=this.h,x=0;for(;x<w;){if(b==0)for(;x<=R;)i(this,E,x),x+=this.blockSize;if(typeof E=="string"){for(;x<w;)if(C[b++]=E.charCodeAt(x++),b==this.blockSize){i(this,C),b=0;break}}else for(;x<w;)if(C[b++]=E[x++],b==this.blockSize){i(this,C),b=0;break}}this.h=b,this.o+=w},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var w=1;w<E.length-8;++w)E[w]=0;w=this.o*8;for(var R=E.length-8;R<E.length;++R)E[R]=w&255,w/=256;for(this.v(E),E=Array(16),w=0,R=0;R<4;++R)for(let C=0;C<32;C+=8)E[w++]=this.g[R]>>>C&255;return E};function s(E,w){var R=a;return Object.prototype.hasOwnProperty.call(R,E)?R[E]:R[E]=w(E)}function o(E,w){this.h=w;const R=[];let C=!0;for(let b=E.length-1;b>=0;b--){const x=E[b]|0;C&&x==w||(R[b]=x,C=!1)}this.g=R}var a={};function l(E){return-128<=E&&E<128?s(E,function(w){return new o([w|0],w<0?-1:0)}):new o([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(E<0)return P(c(-E));const w=[];let R=1;for(let C=0;E>=R;C++)w[C]=E/R|0,R*=4294967296;return new o(w,0)}function h(E,w){if(E.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(E.charAt(0)=="-")return P(h(E.substring(1),w));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=c(Math.pow(w,8));let C=d;for(let x=0;x<E.length;x+=8){var b=Math.min(8,E.length-x);const A=parseInt(E.substring(x,x+b),w);b<8?(b=c(Math.pow(w,b)),C=C.j(b).add(c(A))):(C=C.j(R),C=C.add(c(A)))}return C}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-P(this).m();let E=0,w=1;for(let R=0;R<this.g.length;R++){const C=this.i(R);E+=(C>=0?C:4294967296+C)*w,w*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(_(this))return"-"+P(this).toString(E);const w=c(Math.pow(E,6));var R=this;let C="";for(;;){const b=k(R,w).g;R=v(R,b.j(w));let x=((R.g.length>0?R.g[0]:R.h)>>>0).toString(E);if(R=b,T(R))return x+C;for(;x.length<6;)x="0"+x;C=x+C}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(let w=0;w<E.g.length;w++)if(E.g[w]!=0)return!1;return!0}function _(E){return E.h==-1}t.l=function(E){return E=v(this,E),_(E)?-1:T(E)?0:1};function P(E){const w=E.g.length,R=[];for(let C=0;C<w;C++)R[C]=~E.g[C];return new o(R,~E.h).add(p)}t.abs=function(){return _(this)?P(this):this},t.add=function(E){const w=Math.max(this.g.length,E.g.length),R=[];let C=0;for(let b=0;b<=w;b++){let x=C+(this.i(b)&65535)+(E.i(b)&65535),A=(x>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);C=A>>>16,x&=65535,A&=65535,R[b]=A<<16|x}return new o(R,R[R.length-1]&-2147483648?-1:0)};function v(E,w){return E.add(P(w))}t.j=function(E){if(T(this)||T(E))return d;if(_(this))return _(E)?P(this).j(P(E)):P(P(this).j(E));if(_(E))return P(this.j(P(E)));if(this.l(g)<0&&E.l(g)<0)return c(this.m()*E.m());const w=this.g.length+E.g.length,R=[];for(var C=0;C<2*w;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(let b=0;b<E.g.length;b++){const x=this.i(C)>>>16,A=this.i(C)&65535,ie=E.i(b)>>>16,Ie=E.i(b)&65535;R[2*C+2*b]+=A*Ie,y(R,2*C+2*b),R[2*C+2*b+1]+=x*Ie,y(R,2*C+2*b+1),R[2*C+2*b+1]+=A*ie,y(R,2*C+2*b+1),R[2*C+2*b+2]+=x*ie,y(R,2*C+2*b+2)}for(E=0;E<w;E++)R[E]=R[2*E+1]<<16|R[2*E];for(E=w;E<2*w;E++)R[E]=0;return new o(R,0)};function y(E,w){for(;(E[w]&65535)!=E[w];)E[w+1]+=E[w]>>>16,E[w]&=65535,w++}function S(E,w){this.g=E,this.h=w}function k(E,w){if(T(w))throw Error("division by zero");if(T(E))return new S(d,d);if(_(E))return w=k(P(E),w),new S(P(w.g),P(w.h));if(_(w))return w=k(E,P(w)),new S(P(w.g),w.h);if(E.g.length>30){if(_(E)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var R=p,C=w;C.l(E)<=0;)R=F(R),C=F(C);var b=M(R,1),x=M(C,1);for(C=M(C,2),R=M(R,2);!T(C);){var A=x.add(C);A.l(E)<=0&&(b=b.add(R),x=A),C=M(C,1),R=M(R,1)}return w=v(E,b.j(w)),new S(b,w)}for(b=d;E.l(w)>=0;){for(R=Math.max(1,Math.floor(E.m()/w.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),x=c(R),A=x.j(w);_(A)||A.l(E)>0;)R-=C,x=c(R),A=x.j(w);T(x)&&(x=p),b=b.add(x),E=v(E,A)}return new S(b,E)}t.B=function(E){return k(this,E).h},t.and=function(E){const w=Math.max(this.g.length,E.g.length),R=[];for(let C=0;C<w;C++)R[C]=this.i(C)&E.i(C);return new o(R,this.h&E.h)},t.or=function(E){const w=Math.max(this.g.length,E.g.length),R=[];for(let C=0;C<w;C++)R[C]=this.i(C)|E.i(C);return new o(R,this.h|E.h)},t.xor=function(E){const w=Math.max(this.g.length,E.g.length),R=[];for(let C=0;C<w;C++)R[C]=this.i(C)^E.i(C);return new o(R,this.h^E.h)};function F(E){const w=E.g.length+1,R=[];for(let C=0;C<w;C++)R[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(R,E.h)}function M(E,w){const R=w>>5;w%=32;const C=E.g.length-R,b=[];for(let x=0;x<C;x++)b[x]=w>0?E.i(x+R)>>>w|E.i(x+R+1)<<32-w:E.i(x+R);return new o(b,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Bi=o}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fC,Ql,pC,ed,Ay,mC,gC,yC;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var D=u[I];if(!(D in m))break e;m=m[D]}u=u[u.length-1],I=m[u],f=f(I),f!=I&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(f){var m=[],I;for(I in f)Object.prototype.hasOwnProperty.call(f,I)&&m.push([I,f[I]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function l(u,f,m){return u.call.apply(u.bind,arguments)}function c(u,f,m){return c=l,c.apply(null,arguments)}function h(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var I=m.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function d(u,f){function m(){}m.prototype=f.prototype,u.Z=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Ob=function(I,D,L){for(var G=Array(arguments.length-2),se=2;se<arguments.length;se++)G[se-2]=arguments[se];return f.prototype[D].apply(I,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function g(u){const f=u.length;if(f>0){const m=Array(f);for(let I=0;I<f;I++)m[I]=u[I];return m}return[]}function T(u,f){for(let I=1;I<arguments.length;I++){const D=arguments[I];var m=typeof D;if(m=m!="object"?m:D?Array.isArray(D)?"array":m:"null",m=="array"||m=="object"&&typeof D.length=="number"){m=u.length||0;const L=D.length||0;u.length=m+L;for(let G=0;G<L;G++)u[m+G]=D[G]}else u.push(D)}}class _{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function P(u){o.setTimeout(()=>{throw u},0)}function v(){var u=E;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class y{constructor(){this.h=this.g=null}add(f,m){const I=S.get();I.set(f,m),this.h?this.h.next=I:this.g=I,this.h=I}}var S=new _(()=>new k,u=>u.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let F,M=!1,E=new y,w=()=>{const u=Promise.resolve(void 0);F=()=>{u.then(R)}};function R(){for(var u;u=v();){try{u.h.call(u.g)}catch(m){P(m)}var f=S;f.j(u),f.h<100&&(f.h++,u.next=f.g,f.g=u)}M=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var x=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return u}();function A(u){return/^[\s\xa0]*$/.test(u)}function ie(u,f){b.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,f)}d(ie,b),ie.prototype.init=function(u,f){const m=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget,f||(m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement)),this.relatedTarget=f,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),lt=0;function Bt(u,f,m,I,D){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!I,this.ha=D,this.key=++lt,this.da=this.fa=!1}function K(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Z(u,f,m){for(const I in u)f.call(m,u[I],I,u)}function te(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function Pe(u){const f={};for(const m in u)f[m]=u[m];return f}const Ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ar(u,f){let m,I;for(let D=1;D<arguments.length;D++){I=arguments[D];for(m in I)u[m]=I[m];for(let L=0;L<Ue.length;L++)m=Ue[L],Object.prototype.hasOwnProperty.call(I,m)&&(u[m]=I[m])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,f,m,I,D){const L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);const G=jt(u,f,I,D);return G>-1?(f=u[G],m||(f.fa=!1)):(f=new Bt(f,this.src,L,!!I,D),f.fa=m,u.push(f)),f};function En(u,f){const m=f.type;if(m in u.g){var I=u.g[m],D=Array.prototype.indexOf.call(I,f,void 0),L;(L=D>=0)&&Array.prototype.splice.call(I,D,1),L&&(K(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function jt(u,f,m,I){for(let D=0;D<u.length;++D){const L=u[D];if(!L.da&&L.listener==f&&L.capture==!!m&&L.ha==I)return D}return-1}var nr="closure_lm_"+(Math.random()*1e6|0),al={};function wn(u,f,m,I,D){if(Array.isArray(f)){for(let L=0;L<f.length;L++)wn(u,f[L],m,I,D);return null}return m=Uc(m),u&&u[Ie]?u.J(f,m,a(I)?!!I.capture:!1,D):zp(u,f,m,!1,I,D)}function zp(u,f,m,I,D,L){if(!f)throw Error("Invalid event type");const G=a(D)?!!D.capture:!!D;let se=ul(u);if(se||(u[nr]=se=new rt(u)),m=se.add(f,m,I,G,L),m.proxy)return m;if(I=qp(),m.proxy=I,I.src=u,I.listener=m,u.addEventListener)x||(D=G),D===void 0&&(D=!1),u.addEventListener(f.toString(),I,D);else if(u.attachEvent)u.attachEvent($c(f.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return m}function qp(){function u(m){return f.call(u.src,u.listener,m)}const f=Wp;return u}function Fc(u,f,m,I,D){if(Array.isArray(f))for(var L=0;L<f.length;L++)Fc(u,f[L],m,I,D);else I=a(I)?!!I.capture:!!I,m=Uc(m),u&&u[Ie]?(u=u.i,L=String(f).toString(),L in u.g&&(f=u.g[L],m=jt(f,m,I,D),m>-1&&(K(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete u.g[L],u.h--)))):u&&(u=ul(u))&&(f=u.g[f.toString()],u=-1,f&&(u=jt(f,m,I,D)),(m=u>-1?f[u]:null)&&ll(m))}function ll(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Ie])En(f.i,u);else{var m=u.type,I=u.proxy;f.removeEventListener?f.removeEventListener(m,I,u.capture):f.detachEvent?f.detachEvent($c(m),I):f.addListener&&f.removeListener&&f.removeListener(I),(m=ul(f))?(En(m,u),m.h==0&&(m.src=null,f[nr]=null)):K(u)}}}function $c(u){return u in al?al[u]:al[u]="on"+u}function Wp(u,f){if(u.da)u=!0;else{f=new ie(f,this);const m=u.listener,I=u.ha||u.src;u.fa&&ll(u),u=m.call(I,f)}return u}function ul(u){return u=u[nr],u instanceof rt?u:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uc(u){return typeof u=="function"?u:(u[cl]||(u[cl]=function(f){return u.handleEvent(f)}),u[cl])}function mt(){C.call(this),this.i=new rt(this),this.M=this,this.G=null}d(mt,C),mt.prototype[Ie]=!0,mt.prototype.removeEventListener=function(u,f,m,I){Fc(this,u,f,m,I)};function ut(u,f){var m,I=u.G;if(I)for(m=[];I;I=I.G)m.push(I);if(u=u.M,I=f.type||f,typeof f=="string")f=new b(f,u);else if(f instanceof b)f.target=f.target||u;else{var D=f;f=new b(I,u),Ar(f,D)}D=!0;let L,G;if(m)for(G=m.length-1;G>=0;G--)L=f.g=m[G],D=ei(L,I,!0,f)&&D;if(L=f.g=u,D=ei(L,I,!0,f)&&D,D=ei(L,I,!1,f)&&D,m)for(G=0;G<m.length;G++)L=f.g=m[G],D=ei(L,I,!1,f)&&D}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var u=this.i;for(const f in u.g){const m=u.g[f];for(let I=0;I<m.length;I++)K(m[I]);delete u.g[f],u.h--}}this.G=null},mt.prototype.J=function(u,f,m,I){return this.i.add(String(u),f,!1,m,I)},mt.prototype.K=function(u,f,m,I){return this.i.add(String(u),f,!0,m,I)};function ei(u,f,m,I){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();let D=!0;for(let L=0;L<f.length;++L){const G=f[L];if(G&&!G.da&&G.capture==m){const se=G.listener,ct=G.ha||G.src;G.fa&&En(u.i,G),D=se.call(ct,I)!==!1&&D}}return D&&!I.defaultPrevented}function Gp(u,f){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(u,f||0)}function Bc(u){u.g=Gp(()=>{u.g=null,u.i&&(u.i=!1,Bc(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class co extends C{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(u){C.call(this),this.h=u,this.g={}}d(Un,C);var jc=[];function hl(u){Z(u.g,function(f,m){this.g.hasOwnProperty(m)&&ll(f)},u),u.g={}}Un.prototype.N=function(){Un.Z.N.call(this),hl(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dl=o.JSON.stringify,re=o.JSON.parse,zc=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function qc(){}function fl(){}var ho={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kp(){b.call(this,"d")}d(Kp,b);function Hp(){b.call(this,"c")}d(Hp,b);var ls={},KE=null;function Wc(){return KE=KE||new mt}ls.Ia="serverreachability";function HE(u){b.call(this,ls.Ia,u)}d(HE,b);function pl(u){const f=Wc();ut(f,new HE(f))}ls.STAT_EVENT="statevent";function QE(u,f){b.call(this,ls.STAT_EVENT,u),this.stat=f}d(QE,b);function zt(u){const f=Wc();ut(f,new QE(f,u))}ls.Ja="timingevent";function YE(u,f){b.call(this,ls.Ja,u),this.size=f}d(YE,b);function ml(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},f)}function gl(){this.g=!0}gl.prototype.ua=function(){this.g=!1};function nk(u,f,m,I,D,L){u.info(function(){if(u.g)if(L){var G="",se=L.split("&");for(let Te=0;Te<se.length;Te++){var ct=se[Te].split("=");if(ct.length>1){const gt=ct[0];ct=ct[1];const ir=gt.split("_");G=ir.length>=2&&ir[1]=="type"?G+(gt+"="+ct+"&"):G+(gt+"=redacted&")}}}else G=null;else G=L;return"XMLHTTP REQ ("+I+") [attempt "+D+"]: "+f+`
`+m+`
`+G})}function rk(u,f,m,I,D,L,G){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+D+"]: "+f+`
`+m+`
`+L+" "+G})}function fo(u,f,m,I){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+sk(u,m)+(I?" "+I:"")})}function ik(u,f){u.info(function(){return"TIMEOUT: "+f})}gl.prototype.info=function(){};function sk(u,f){if(!u.g)return f;if(!f)return null;try{const L=JSON.parse(f);if(L){for(u=0;u<L.length;u++)if(Array.isArray(L[u])){var m=L[u];if(!(m.length<2)){var I=m[1];if(Array.isArray(I)&&!(I.length<1)){var D=I[0];if(D!="noop"&&D!="stop"&&D!="close")for(let G=1;G<I.length;G++)I[G]=""}}}}return dl(L)}catch{return f}}var Gc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},JE={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},XE;function Qp(){}d(Qp,qc),Qp.prototype.g=function(){return new XMLHttpRequest},XE=new Qp;function yl(u){return encodeURIComponent(String(u))}function ok(u){var f=1;u=u.split(":");const m=[];for(;f>0&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function ti(u,f,m,I){this.j=u,this.i=f,this.l=m,this.S=I||1,this.V=new Un(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ZE}function ZE(){this.i=null,this.g="",this.h=!1}var ew={},Yp={};function Jp(u,f,m){u.M=1,u.A=Hc(rr(f)),u.u=m,u.R=!0,tw(u,null)}function tw(u,f){u.F=Date.now(),Kc(u),u.B=rr(u.A);var m=u.B,I=u.S;Array.isArray(I)||(I=[String(I)]),pw(m.i,"t",I),u.C=0,m=u.j.L,u.h=new ZE,u.g=Vw(u.j,m?f:null,!u.u),u.P>0&&(u.O=new co(c(u.Y,u,u.g),u.P)),f=u.V,m=u.g,I=u.ba;var D="readystatechange";Array.isArray(D)||(D&&(jc[0]=D.toString()),D=jc);for(let L=0;L<D.length;L++){const G=wn(m,D[L],I||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=u.J?Pe(u.J):{},u.u?(u.v||(u.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,f)):(u.v="GET",u.g.ea(u.B,u.v,null,f)),pl(),nk(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const f=this.O;f&&ii(u)==3?f.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)e:{const se=ii(this.g),ct=this.g.ya(),Te=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||ww(this.g)))){this.K||se!=4||ct==7||(ct==8||Te<=0?pl(3):pl(2)),Xp(this);var f=this.g.ca();this.X=f;var m=ak(this);if(this.o=f==200,rk(this.i,this.v,this.B,this.l,this.S,se,f),this.o){if(this.U&&!this.L){t:{if(this.g){var I,D=this.g;if((I=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(I)){var L=I;break t}}L=null}if(u=L)fo(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zp(this,u);else{this.o=!1,this.m=3,zt(12),us(this),_l(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<m.length;)if(gt=lk(this,m),gt==Yp){se==4&&(this.m=4,zt(14),u=!1),fo(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==ew){this.m=4,zt(15),fo(this.i,this.l,m,"[Invalid Chunk]"),u=!1;break}else fo(this.i,this.l,gt,null),Zp(this,gt);if(nw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||m.length!=0||this.h.h||(this.m=1,zt(16),u=!1),this.o=this.o&&u,!u)fo(this.i,this.l,m,"[Invalid Chunked Response]"),us(this),_l(this);else if(m.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),am(G),G.P=!0,zt(11))}}else fo(this.i,this.l,m,null),Zp(this,m);se==4&&us(this),this.o&&!this.K&&(se==4?Cw(this.j,this):(this.o=!1,Kc(this)))}else Ik(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),us(this),_l(this)}}}catch{}finally{}};function ak(u){if(!nw(u))return u.g.la();const f=ww(u.g);if(f==="")return"";let m="";const I=f.length,D=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return us(u),_l(u),"";u.h.i=new o.TextDecoder}for(let L=0;L<I;L++)u.h.h=!0,m+=u.h.i.decode(f[L],{stream:!(D&&L==I-1)});return f.length=0,u.h.g+=m,u.C=0,u.h.g}function nw(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lk(u,f){var m=u.C,I=f.indexOf(`
`,m);return I==-1?Yp:(m=Number(f.substring(m,I)),isNaN(m)?ew:(I+=1,I+m>f.length?Yp:(f=f.slice(I,I+m),u.C=I+m,f)))}ti.prototype.cancel=function(){this.K=!0,us(this)};function Kc(u){u.T=Date.now()+u.H,rw(u,u.H)}function rw(u,f){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ml(c(u.aa,u),f)}function Xp(u){u.D&&(o.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ik(this.i,this.B),this.M!=2&&(pl(),zt(17)),us(this),this.m=2,_l(this)):rw(this,this.T-u)};function _l(u){u.j.I==0||u.K||Cw(u.j,u)}function us(u){Xp(u);var f=u.O;f&&typeof f.dispose=="function"&&f.dispose(),u.O=null,hl(u.V),u.g&&(f=u.g,u.g=null,f.abort(),f.dispose())}function Zp(u,f){try{var m=u.j;if(m.I!=0&&(m.g==u||em(m.h,u))){if(!u.L&&em(m.h,u)&&m.I==3){try{var I=m.Ba.g.parse(f)}catch{I=null}if(Array.isArray(I)&&I.length==3){var D=I;if(D[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<u.F)Zc(m),Jc(m);else break e;om(m),zt(18)}}else m.xa=D[1],0<m.xa-m.K&&D[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=ml(c(m.Va,m),6e3));ow(m.h)<=1&&m.ta&&(m.ta=void 0)}else hs(m,11)}else if((u.L||m.g==u)&&Zc(m),!A(f))for(D=m.Ba.g.parse(f),f=0;f<D.length;f++){let Te=D[f];const gt=Te[0];if(!(gt<=m.K))if(m.K=gt,Te=Te[1],m.I==2)if(Te[0]=="c"){m.M=Te[1],m.ba=Te[2];const ir=Te[3];ir!=null&&(m.ka=ir,m.j.info("VER="+m.ka));const ds=Te[4];ds!=null&&(m.za=ds,m.j.info("SVER="+m.za));const si=Te[5];si!=null&&typeof si=="number"&&si>0&&(I=1.5*si,m.O=I,m.j.info("backChannelRequestTimeoutMs_="+I)),I=m;const oi=u.g;if(oi){const th=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(th){var L=I.h;L.g||th.indexOf("spdy")==-1&&th.indexOf("quic")==-1&&th.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(tm(L,L.h),L.h=null))}if(I.G){const lm=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;lm&&(I.wa=lm,ke(I.J,I.G,lm))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-u.F,m.j.info("Handshake RTT: "+m.T+"ms")),I=m;var G=u;if(I.na=kw(I,I.L?I.ba:null,I.W),G.L){aw(I.h,G);var se=G,ct=I.O;ct&&(se.H=ct),se.D&&(Xp(se),Kc(se)),I.g=G}else Rw(I);m.i.length>0&&Xc(m)}else Te[0]!="stop"&&Te[0]!="close"||hs(m,7);else m.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?hs(m,7):sm(m):Te[0]!="noop"&&m.l&&m.l.qa(Te),m.A=0)}}pl(4)}catch{}}var uk=class{constructor(u,f){this.g=u,this.map=f}};function iw(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ow(u){return u.h?1:u.g?u.g.size:0}function em(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function tm(u,f){u.g?u.g.add(f):u.h=f}function aw(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}iw.prototype.cancel=function(){if(this.i=lw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lw(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.G);return f}return g(u.i)}var uw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ck(u,f){if(u){u=u.split("&");for(let m=0;m<u.length;m++){const I=u[m].indexOf("=");let D,L=null;I>=0?(D=u[m].substring(0,I),L=u[m].substring(I+1)):D=u[m],f(D,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ni(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;u instanceof ni?(this.l=u.l,vl(this,u.j),this.o=u.o,this.g=u.g,El(this,u.u),this.h=u.h,nm(this,mw(u.i)),this.m=u.m):u&&(f=String(u).match(uw))?(this.l=!1,vl(this,f[1]||"",!0),this.o=wl(f[2]||""),this.g=wl(f[3]||"",!0),El(this,f[4]),this.h=wl(f[5]||"",!0),nm(this,f[6]||"",!0),this.m=wl(f[7]||"")):(this.l=!1,this.i=new Tl(null,this.l))}ni.prototype.toString=function(){const u=[];var f=this.j;f&&u.push(Il(f,cw,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Il(f,cw,!0),"@"),u.push(yl(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&u.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Il(m,m.charAt(0)=="/"?fk:dk,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Il(m,mk)),u.join("")},ni.prototype.resolve=function(u){const f=rr(this);let m=!!u.j;m?vl(f,u.j):m=!!u.o,m?f.o=u.o:m=!!u.g,m?f.g=u.g:m=u.u!=null;var I=u.h;if(m)El(f,u.u);else if(m=!!u.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var D=f.h.lastIndexOf("/");D!=-1&&(I=f.h.slice(0,D+1)+I)}if(D=I,D==".."||D==".")I="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){I=D.lastIndexOf("/",0)==0,D=D.split("/");const L=[];for(let G=0;G<D.length;){const se=D[G++];se=="."?I&&G==D.length&&L.push(""):se==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),I&&G==D.length&&L.push("")):(L.push(se),I=!0)}I=L.join("/")}else I=D}return m?f.h=I:m=u.i.toString()!=="",m?nm(f,mw(u.i)):m=!!u.m,m&&(f.m=u.m),f};function rr(u){return new ni(u)}function vl(u,f,m){u.j=m?wl(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function El(u,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);u.u=f}else u.u=null}function nm(u,f,m){f instanceof Tl?(u.i=f,gk(u.i,u.l)):(m||(f=Il(f,pk)),u.i=new Tl(f,u.l))}function ke(u,f,m){u.i.set(f,m)}function Hc(u){return ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wl(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Il(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,hk),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var cw=/[#\/\?@]/g,dk=/[#\?:]/g,fk=/[#\?]/g,pk=/[#\?@]/g,mk=/#/g;function Tl(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function cs(u){u.g||(u.g=new Map,u.h=0,u.i&&ck(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Tl.prototype,t.add=function(u,f){cs(this),this.i=null,u=po(this,u);let m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function hw(u,f){cs(u),f=po(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function dw(u,f){return cs(u),f=po(u,f),u.g.has(f)}t.forEach=function(u,f){cs(this),this.g.forEach(function(m,I){m.forEach(function(D){u.call(f,D,I,this)},this)},this)};function fw(u,f){cs(u);let m=[];if(typeof f=="string")dw(u,f)&&(m=m.concat(u.g.get(po(u,f))));else for(u=Array.from(u.g.values()),f=0;f<u.length;f++)m=m.concat(u[f]);return m}t.set=function(u,f){return cs(this),this.i=null,u=po(this,u),dw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=fw(this,u),u.length>0?String(u[0]):f):f};function pw(u,f,m){hw(u,f),m.length>0&&(u.i=null,u.g.set(po(u,f),g(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(let I=0;I<f.length;I++){var m=f[I];const D=yl(m);m=fw(this,m);for(let L=0;L<m.length;L++){let G=D;m[L]!==""&&(G+="="+yl(m[L])),u.push(G)}}return this.i=u.join("&")};function mw(u){const f=new Tl;return f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),f}function po(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function gk(u,f){f&&!u.j&&(cs(u),u.i=null,u.g.forEach(function(m,I){const D=I.toLowerCase();I!=D&&(hw(this,I),pw(this,D,m))},u)),u.j=f}function yk(u,f){const m=new gl;if(o.Image){const I=new Image;I.onload=h(ri,m,"TestLoadImage: loaded",!0,f,I),I.onerror=h(ri,m,"TestLoadImage: error",!1,f,I),I.onabort=h(ri,m,"TestLoadImage: abort",!1,f,I),I.ontimeout=h(ri,m,"TestLoadImage: timeout",!1,f,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else f(!1)}function _k(u,f){const m=new gl,I=new AbortController,D=setTimeout(()=>{I.abort(),ri(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:I.signal}).then(L=>{clearTimeout(D),L.ok?ri(m,"TestPingServer: ok",!0,f):ri(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),ri(m,"TestPingServer: error",!1,f)})}function ri(u,f,m,I,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),I(m)}catch{}}function vk(){this.g=new zc}function rm(u){this.i=u.Sb||null,this.h=u.ab||!1}d(rm,qc),rm.prototype.g=function(){return new Qc(this.i,this.h)};function Qc(u,f){mt.call(this),this.H=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Qc,mt),t=Qc.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=f,this.readyState=1,Al(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(f.body=u),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sl(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Al(this)),this.g&&(this.readyState=3,Al(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gw(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function gw(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Sl(this):Al(this),this.readyState==3&&gw(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Sl(this))},t.Na=function(u){this.g&&(this.response=u,Sl(this))},t.ga=function(){this.g&&Sl(this)};function Sl(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Al(u)}t.setRequestHeader=function(u,f){this.A.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function Al(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yw(u){let f="";return Z(u,function(m,I){f+=I,f+=":",f+=m,f+=`\r
`}),f}function im(u,f,m){e:{for(I in m){var I=!1;break e}I=!0}I||(m=yw(m),typeof u=="string"?m!=null&&yl(m):ke(u,f,m))}function We(u){mt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(We,mt);var Ek=/^https?$/i,wk=["POST","PUT"];t=We.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,f,m,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():XE.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(L){_w(this,L);return}if(u=m||"",m=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var D in I)m.set(D,I[D]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())m.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),D=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(wk,f,void 0)>=0)||I||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,G]of m)this.g.setRequestHeader(L,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(L){_w(this,L)}};function _w(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.o=5,vw(u),Yc(u)}function vw(u){u.A||(u.A=!0,ut(u,"complete"),ut(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ut(this,"complete"),ut(this,"abort"),Yc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yc(this,!0)),We.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ew(this):this.Xa())},t.Xa=function(){Ew(this)};function Ew(u){if(u.h&&typeof s<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(ut(u,"readystatechange"),ii(u)==4){u.h=!1;try{const L=u.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var I;if(I=L===0){let G=String(u.D).match(uw)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),I=!Ek.test(G?G.toLowerCase():"")}m=I}if(m)ut(u,"complete"),ut(u,"success");else{u.o=6;try{var D=ii(u)>2?u.g.statusText:""}catch{D=""}u.l=D+" ["+u.ca()+"]",vw(u)}}finally{Yc(u)}}}}function Yc(u,f){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const m=u.g;u.g=null,f||ut(u,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}t.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),re(f)}};function ww(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ik(u){const f={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(A(u[I]))continue;var m=ok(u[I]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=f[D]||[];f[D]=L,L.push(m)}te(f,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rl(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Iw(u){this.za=0,this.i=[],this.j=new gl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rl("baseRetryDelayMs",5e3,u),this.Za=Rl("retryDelaySeedMs",1e4,u),this.Ta=Rl("forwardChannelMaxRetries",2,u),this.va=Rl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new iw(u&&u.concurrentRequestLimit),this.Ba=new vk,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Iw.prototype,t.ka=8,t.I=1,t.connect=function(u,f,m,I){zt(0),this.W=u,this.H=f||{},m&&I!==void 0&&(this.H.OSID=m,this.H.OAID=I),this.F=this.X,this.J=kw(this,null,this.W),Xc(this)};function sm(u){if(Tw(u),u.I==3){var f=u.V++,m=rr(u.J);if(ke(m,"SID",u.M),ke(m,"RID",f),ke(m,"TYPE","terminate"),Pl(u,m),f=new ti(u,u.j,f),f.M=2,f.A=Hc(rr(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=Vw(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Kc(f)}xw(u)}function Jc(u){u.g&&(am(u),u.g.cancel(),u.g=null)}function Tw(u){Jc(u),u.v&&(o.clearTimeout(u.v),u.v=null),Zc(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Xc(u){if(!sw(u.h)&&!u.m){u.m=!0;var f=u.Ea;F||w(),M||(F(),M=!0),E.add(f,u),u.D=0}}function Tk(u,f){return ow(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=f.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ml(c(u.Ea,u,f),bw(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const D=new ti(this,this.j,u);let L=this.o;if(this.U&&(L?(L=Pe(L),Ar(L,this.U)):L=this.U),this.u!==null||this.R||(D.J=L,L=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var I=this.i[m];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(f+=I,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Aw(this,D,f),m=rr(this.J),ke(m,"RID",u),ke(m,"CVER",22),this.G&&ke(m,"X-HTTP-Session-Id",this.G),Pl(this,m),L&&(this.R?f="headers="+yl(yw(L))+"&"+f:this.u&&im(m,this.u,L)),tm(this.h,D),this.Ra&&ke(m,"TYPE","init"),this.S?(ke(m,"$req",f),ke(m,"SID","null"),D.U=!0,Jp(D,m,null)):Jp(D,m,f),this.I=2}}else this.I==3&&(u?Sw(this,u):this.i.length==0||sw(this.h)||Sw(this))};function Sw(u,f){var m;f?m=f.l:m=u.V++;const I=rr(u.J);ke(I,"SID",u.M),ke(I,"RID",m),ke(I,"AID",u.K),Pl(u,I),u.u&&u.o&&im(I,u.u,u.o),m=new ti(u,u.j,m,u.D+1),u.u===null&&(m.J=u.o),f&&(u.i=f.G.concat(u.i)),f=Aw(u,m,1e3),m.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),tm(u.h,m),Jp(m,I,f)}function Pl(u,f){u.H&&Z(u.H,function(m,I){ke(f,I,m)}),u.l&&Z({},function(m,I){ke(f,I,m)})}function Aw(u,f,m){m=Math.min(u.i.length,m);const I=u.l?c(u.l.Ka,u.l,u):null;e:{var D=u.i;let se=-1;for(;;){const ct=["count="+m];se==-1?m>0?(se=D[0].g,ct.push("ofs="+se)):se=0:ct.push("ofs="+se);let Te=!0;for(let gt=0;gt<m;gt++){var L=D[gt].g;const ir=D[gt].map;if(L-=se,L<0)se=Math.max(0,D[gt].g-100),Te=!1;else try{L="req"+L+"_"||"";try{var G=ir instanceof Map?ir:Object.entries(ir);for(const[ds,si]of G){let oi=si;a(si)&&(oi=dl(si)),ct.push(L+ds+"="+encodeURIComponent(oi))}}catch(ds){throw ct.push(L+"type="+encodeURIComponent("_badmap")),ds}}catch{I&&I(ir)}}if(Te){G=ct.join("&");break e}}G=void 0}return u=u.i.splice(0,m),f.G=u,G}function Rw(u){if(!u.g&&!u.v){u.Y=1;var f=u.Da;F||w(),M||(F(),M=!0),E.add(f,u),u.A=0}}function om(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ml(c(u.Da,u),bw(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,Pw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ml(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),Jc(this),Pw(this))};function am(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function Pw(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var f=rr(u.na);ke(f,"RID","rpc"),ke(f,"SID",u.M),ke(f,"AID",u.K),ke(f,"CI",u.F?"0":"1"),!u.F&&u.ia&&ke(f,"TO",u.ia),ke(f,"TYPE","xmlhttp"),Pl(u,f),u.u&&u.o&&im(f,u.u,u.o),u.O&&(u.g.H=u.O);var m=u.g;u=u.ba,m.M=1,m.A=Hc(rr(f)),m.u=null,m.R=!0,tw(m,u)}t.Va=function(){this.C!=null&&(this.C=null,Jc(this),om(this),zt(19))};function Zc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function Cw(u,f){var m=null;if(u.g==f){Zc(u),am(u),u.g=null;var I=2}else if(em(u.h,f))m=f.G,aw(u.h,f),I=1;else return;if(u.I!=0){if(f.o)if(I==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var D=u.D;I=Wc(),ut(I,new YE(I,m)),Xc(u)}else Rw(u);else if(D=f.m,D==3||D==0&&f.X>0||!(I==1&&Tk(u,f)||I==2&&om(u)))switch(m&&m.length>0&&(f=u.h,f.i=f.i.concat(m)),D){case 1:hs(u,5);break;case 4:hs(u,10);break;case 3:hs(u,6);break;default:hs(u,2)}}}function bw(u,f){let m=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(m*=2),m*f}function hs(u,f){if(u.j.info("Error code "+f),f==2){var m=c(u.bb,u),I=u.Ua;const D=!I;I=new ni(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||vl(I,"https"),Hc(I),D?yk(I.toString(),m):_k(I.toString(),m)}else zt(2);u.I=0,u.l&&u.l.pa(f),xw(u),Tw(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function xw(u){if(u.I=0,u.ja=[],u.l){const f=lw(u.h);(f.length!=0||u.i.length!=0)&&(T(u.ja,f),T(u.ja,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.oa()}}function kw(u,f,m){var I=m instanceof ni?rr(m):new ni(m);if(I.g!="")f&&(I.g=f+"."+I.g),El(I,I.u);else{var D=o.location;I=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;const L=new ni(null);I&&vl(L,I),f&&(L.g=f),D&&El(L,D),m&&(L.h=m),I=L}return m=u.G,f=u.wa,m&&f&&ke(I,m,f),ke(I,"VER",u.ka),Pl(u,I),I}function Vw(u,f,m){if(f&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Aa&&!u.ma?new We(new rm({ab:m})):new We(u.ma),f.Fa(u.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nw(){}t=Nw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function eh(){}eh.prototype.g=function(u,f){return new rn(u,f)};function rn(u,f){mt.call(this),this.g=new Iw(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(u?u["X-WebChannel-Client-Profile"]=f.sa:u={"X-WebChannel-Client-Profile":f.sa}),this.g.U=u,(u=f&&f.Qb)&&!A(u)&&(this.g.u=u),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!A(f)&&(this.g.G=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new mo(this)}d(rn,mt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){sm(this.g)},rn.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.v&&(m={},m.__data__=dl(u),u=m);f.i.push(new uk(f.Ya++,u)),f.I==3&&Xc(f)},rn.prototype.N=function(){this.g.l=null,delete this.j,sm(this.g),delete this.g,rn.Z.N.call(this)};function Dw(u){Kp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}d(Dw,Kp);function Ow(){Hp.call(this),this.status=1}d(Ow,Hp);function mo(u){this.g=u}d(mo,Nw),mo.prototype.ra=function(){ut(this.g,"a")},mo.prototype.qa=function(u){ut(this.g,new Dw(u))},mo.prototype.pa=function(u){ut(this.g,new Ow)},mo.prototype.oa=function(){ut(this.g,"b")},eh.prototype.createWebChannel=eh.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,yC=function(){return new eh},gC=function(){return Wc()},mC=ls,Ay={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,ed=Gc,JE.COMPLETE="complete",pC=JE,fl.EventType=ho,ho.OPEN="a",ho.CLOSE="b",ho.ERROR="c",ho.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Ql=fl,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,fC=We}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="12.8.0";function F$(t){Ya=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Rv("@firebase/firestore");function bo(){return Wi.logLevel}function fz(t){Wi.setLogLevel(t)}function U(t,...e){if(Wi.logLevel<=ue.DEBUG){const n=e.map(Fv);Wi.debug(`Firestore (${Ya}): ${t}`,...n)}}function Xe(t,...e){if(Wi.logLevel<=ue.ERROR){const n=e.map(Fv);Wi.error(`Firestore (${Ya}): ${t}`,...n)}}function Mn(t,...e){if(Wi.logLevel<=ue.WARN){const n=e.map(Fv);Wi.warn(`Firestore (${Ya}): ${t}`,...n)}}function Fv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_C(t,r,n)}function _C(t,e,n){let r=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xe(r),new Error(r)}function Y(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_C(e,i,r)}function pz(t,e){t||H(57014,e)}function W(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class U${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B${constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Y(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new It;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new It,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new It)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y(typeof r.accessToken=="string",31837,{l:r}),new vC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Y(e===null||typeof e=="string",2055,{h:e}),new vt(e)}}class j${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class z${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new j$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ry{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Y(this.o===void 0,3512);const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ry(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Y(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ry(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class mz{getToken(){return Promise.resolve(new Ry(""))}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=W$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function Py(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Xm(i)===Xm(s)?X(i,s):Xm(i)?1:-1}return X(t.length,e.length)}const G$=55296,K$=57343;function Xm(t){const e=t.charCodeAt(0);return e>=G$&&e<=K$}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function EC(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="__name__";class lr{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&H(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=lr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return X(e.length,n.length)}static compareSegments(e,n){const r=lr.isNumericId(e),i=lr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?lr.extractNumericId(e).compare(lr.extractNumericId(n)):Py(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bi.fromString(e.substring(4,e.length-2))}}class oe extends lr{construct(e,n,r){return new oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new oe(n)}static emptyPath(){return new oe([])}}const H$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends lr{construct(e,n,r){return new Fe(e,n,r)}static isValidIdentifier(e){return H$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new Fe([Cy])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(n)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(oe.fromString(e))}static fromName(e){return new q(oe.fromString(e).popFirst(5))}static empty(){return new q(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t,e,n){if(!n)throw new $(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q$(t,e,n,r){if(e===!0&&r===!0)throw new $(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vT(t){if(!q.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ET(t){if(q.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H(12329,{type:typeof t})}function ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yp(t);throw new $(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function IC(t,e){if(e<=0)throw new $(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e){const n={typeString:t};return e&&(n.value=e),n}function so(t,e){if(!wC(t))throw new $(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new $(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=-62135596800,IT=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*IT);return new me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wT)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IT}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(so(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:at("string",me._jsonSchemaVersion),seconds:at("number"),nanoseconds:at("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new me(0,0))}static max(){return new J(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=-1;class _a{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function by(t){return t.fields.find(e=>e.kind===2)}function ys(t){return t.fields.filter(e=>e.kind!==2)}function Y$(t,e){let n=X(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=J$(t.fields[r],e.fields[r]),n!==0)return n;return X(t.fields.length,e.fields.length)}_a.UNKNOWN_ID=-1;class Ds{constructor(e,n){this.fieldPath=e,this.kind=n}}function J$(t,e){const n=Fe.comparator(t.fieldPath,e.fieldPath);return n!==0?n:X(t.kind,e.kind)}class va{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new va(0,mn.min())}}function TC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new mn(i,q.empty(),e)}function SC(t){return new mn(t.readTime,t.key,ya)}class mn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mn(J.min(),q.empty(),ya)}static max(){return new mn(J.max(),q.empty(),ya)}}function Bv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:X(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ns(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==AC)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new N((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="SimpleDb";class _p{static open(e,n,r,i){try{return new _p(n,e.transaction(i,r))}catch(s){throw new hu(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new It,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new hu(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=jv(r.target.error);this.S.reject(new hu(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(U(on,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Z$(n)}}class vr{static delete(e){return U(on,"Removing database:",e),vs(wP().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!bP())return!1;if(vr.F())return!0;const e=ft(),n=vr.M(e),r=0<n&&n<10,i=PC(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,vr.M(ft())===12.2&&Xe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(U(on,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new hu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new $(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(O.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new hu(e,o))},i.onupgradeneeded=s=>{U(on,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.N.k(o,i.transaction,s.oldVersion,this.version).next(()=>{U(on,"Database upgrade to version "+this.version+" complete")})}})),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const a=_p.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.C(),c)).catch(c=>(a.abort(c),N.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(U(on,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function PC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class X${constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return vs(this.U.delete())}}class hu extends ${constructor(e,n){super(O.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function rs(t){return t.name==="IndexedDbTransactionError"}class Z${constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(U(on,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(U(on,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vs(r)}add(e){return U(on,"ADD",this.store.name,e,e),vs(this.store.add(e))}get(e){return vs(this.store.get(e)).next(n=>(n===void 0&&(n=null),U(on,"GET",this.store.name,e,n),n))}delete(e){return U(on,"DELETE",this.store.name,e),vs(this.store.delete(e))}count(){return U(on,"COUNT",this.store.name),vs(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new N((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.J(s,(a,l)=>{o.push(l)}).next(()=>o)}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new N((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}X(e,n){U(on,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,(s,o,a)=>a.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new N((r,i)=>{n.onerror=s=>{const o=jv(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}J(e,n){const r=[];return new N((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new X$(a),c=n(a.primaryKey,a.value,l);if(c instanceof N){const h=c.catch(d=>(l.done(),N.reject(d)));r.push(h)}l.isDone?i():l.G===null?a.continue():a.continue(l.G)}}).next(()=>N.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function vs(t){return new N((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=jv(r.target.error);n(i)}})}let TT=!1;function jv(t){const e=vr.M(ft());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TT||(TT=!0,setTimeout(()=>{throw r},0)),r}}return t}const du="IndexBackfiller";class eU{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){U(du,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();U(du,`Documents written: ${n}`)}catch(n){rs(n)?U(du,"Ignoring IndexedDB error during index backfill: ",n):await ns(n)}await this.re(6e4)})}}class tU{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let i=n,s=!0;return N.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return U(du,`Processing collection: ${o}`),this.oe(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this._e(i,s)).next(a=>(U(du,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}_e(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=SC(s);Bv(o,r)>0&&(r=o)}),new mn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yt.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=-1;function Sc(t){return t==null}function Qu(t){return t===0&&1/t==-1/0}function CC(t){return typeof t=="number"&&Number.isInteger(t)&&!Qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="";function Ft(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ST(e)),e=nU(t.get(n),e);return ST(e)}function nU(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Xd:n+="";break;default:n+=s}}return n}function ST(t){return t+Xd+""}function fr(t){const e=t.length;if(Y(e>=2,64408,{path:t}),e===2)return Y(t.charAt(0)===Xd&&t.charAt(1)==="",56145,{path:t}),oe.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf(Xd,s);switch((o<0||o>n)&&H(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:H(61167,{path:t})}s=o+2}return new oe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="remoteDocuments",Ac="owner",To="owner",Yu="mutationQueues",rU="userId",qn="mutations",AT="batchId",xs="userMutationsIndex",RT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e){return[t,Ft(e)]}function bC(t,e,n){return[t,Ft(e),n]}const iU={},Ea="documentMutations",Zd="remoteDocumentsV14",sU=["prefixPath","collectionGroup","readTime","documentId"],nd="documentKeyIndex",oU=["prefixPath","collectionGroup","documentId"],xC="collectionGroupIndex",aU=["collectionGroup","readTime","prefixPath","documentId"],Ju="remoteDocumentGlobal",xy="remoteDocumentGlobalKey",wa="targets",kC="queryTargetsIndex",lU=["canonicalId","targetId"],Ia="targetDocuments",uU=["targetId","path"],zv="documentTargetsIndex",cU=["path","targetId"],ef="targetGlobalKey",Os="targetGlobal",Xu="collectionParents",hU=["collectionId","parent"],Ta="clientMetadata",dU="clientId",vp="bundles",fU="bundleId",Ep="namedQueries",pU="name",qv="indexConfiguration",mU="indexId",ky="collectionGroupIndex",gU="collectionGroup",fu="indexState",yU=["indexId","uid"],VC="sequenceNumberIndex",_U=["uid","sequenceNumber"],pu="indexEntries",vU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NC="documentKeyIndex",EU=["indexId","uid","orderedDocumentKey"],wp="documentOverlays",wU=["userId","collectionPath","documentId"],Vy="collectionPathOverlayIndex",IU=["userId","collectionPath","largestBatchId"],DC="collectionGroupOverlayIndex",TU=["userId","collectionGroup","largestBatchId"],Wv="globals",SU="name",OC=[Yu,qn,Ea,_s,wa,Ac,Os,Ia,Ta,Ju,Xu,vp,Ep],AU=[...OC,wp],MC=[Yu,qn,Ea,Zd,wa,Ac,Os,Ia,Ta,Ju,Xu,vp,Ep,wp],LC=MC,Gv=[...LC,qv,fu,pu],RU=Gv,FC=[...Gv,Wv],PU=FC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends RC{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function pt(t,e){const n=W(t);return vr.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $C(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function UC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=s??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CT(this.data.getIterator())}getIteratorFrom(e){return new CT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _e(this.comparator);return n.data=e,n}}class CT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function So(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new _e(Fe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BC("Invalid base64 string: "+s):s}}(e);return new Ye(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ye(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const CU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(Y(!!t,39018),typeof t=="string"){let e=0;const n=CU.exec(t);if(Y(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?Ye.fromBase64String(t):Ye.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="server_timestamp",zC="__type__",qC="__previous_value__",WC="__local_write_time__";function Ip(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zC])==null?void 0:r.stringValue)===jC}function Tp(t){const e=t.mapValue.fields[qC];return Ip(e)?Tp(e):e}function Zu(t){const e=jr(t.mapValue.fields[WC].timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n,r,i,s,o,a,l,c,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h,this.apiKey=d}}const ec="(default)";class Ws{constructor(e,n){this.projectId=e,this.database=n||ec}static empty(){return new Ws("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof Ws&&e.projectId===this.projectId&&e.database===this.database}}function xU(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ws(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__type__",GC="__max__",Ri={mapValue:{fields:{__type__:{stringValue:GC}}}},Hv="__vector__",Sa="value",rd={nullValue:"NULL_VALUE"};function Gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ip(t)?4:KC(t)?9007199254740991:Sp(t)?10:11:H(28295,{value:t})}function Sr(t,e){if(t===e)return!0;const n=Gi(t);if(n!==Gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=jr(i.timestampValue),a=jr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zr(i.bytesValue).isEqual(zr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Me(i.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Me(i.integerValue)===Me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Me(i.doubleValue),a=Me(s.doubleValue);return o===a?Qu(o)===Qu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(PT(o)!==PT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Sr(o[l],a[l])))return!1;return!0}(t,e);default:return H(52216,{left:t})}}function tc(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Ki(t,e){if(t===e)return 0;const n=Gi(t),r=Gi(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Me(s.integerValue||s.doubleValue),l=Me(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return bT(t.timestampValue,e.timestampValue);case 4:return bT(Zu(t),Zu(e));case 5:return Py(t.stringValue,e.stringValue);case 6:return function(s,o){const a=zr(s),l=zr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=X(a[c],l[c]);if(h!==0)return h}return X(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=X(Me(s.latitude),Me(o.latitude));return a!==0?a:X(Me(s.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,g,T,_;const a=s.fields||{},l=o.fields||{},c=(p=a[Sa])==null?void 0:p.arrayValue,h=(g=l[Sa])==null?void 0:g.arrayValue,d=X(((T=c==null?void 0:c.values)==null?void 0:T.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return d!==0?d:xT(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ri.mapValue&&o===Ri.mapValue)return 0;if(s===Ri.mapValue)return 1;if(o===Ri.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=Py(l[d],h[d]);if(p!==0)return p;const g=Ki(a[l[d]],c[h[d]]);if(g!==0)return g}return X(l.length,h.length)}(t.mapValue,e.mapValue);default:throw H(23264,{he:n})}}function bT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return X(t,e);const n=jr(t),r=jr(e),i=X(n.seconds,r.seconds);return i!==0?i:X(n.nanos,r.nanos)}function xT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ki(n[i],r[i]);if(s)return s}return X(n.length,r.length)}function Aa(t){return Dy(t)}function Dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Dy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Dy(n.fields[o])}`;return i+"}"}(t.mapValue):H(61005,{value:t})}function id(t){switch(Gi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tp(t);return e?16+id(e):16;case 5:return 2*t.stringValue.length;case 6:return zr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+id(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return is(r.fields,(s,o)=>{i+=s.length+id(o)}),i}(t.mapValue);default:throw H(13486,{value:t})}}function Gs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Oy(t){return!!t&&"integerValue"in t}function nc(t){return!!t&&"arrayValue"in t}function kT(t){return!!t&&"nullValue"in t}function VT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sd(t){return!!t&&"mapValue"in t}function Sp(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Kv])==null?void 0:r.stringValue)===Hv}function mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return{...t}}function KC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GC}const HC={mapValue:{fields:{[Kv]:{stringValue:Hv},[Sa]:{arrayValue:{}}}}};function kU(t){return"nullValue"in t?rd:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Gs(Ws.empty(),q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Sp(t)?HC:{mapValue:{}}:H(35942,{value:t})}function VU(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Gs(Ws.empty(),q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?HC:"mapValue"in t?Sp(t)?{mapValue:{}}:Ri:H(61959,{value:t})}function NT(t,e){const n=Ki(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function DT(t,e){const n=Ki(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.value=e}static empty(){return new Et({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=Fe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){is(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Et(mu(this.value))}}function QC(t){const e=[];return is(t.fields,(n,r)=>{const i=new Fe([n]);if(sd(r)){const s=QC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ne(e,0,J.min(),J.min(),J.min(),Et.empty(),0)}static newFoundDocument(e,n,r,i){return new Ne(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new Ne(e,2,n,J.min(),J.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new Ne(e,3,n,J.min(),J.min(),Et.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ne&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ne(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.position=e,this.inclusive=n}}function OT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Ki(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function MT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function NU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{}class ce extends YC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DU(e,n,r):n==="array-contains"?new LU(e,r):n==="in"?new nb(e,r):n==="not-in"?new FU(e,r):n==="array-contains-any"?new $U(e,r):new ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OU(e,r):new MU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ki(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(Ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ge extends YC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ge(e,n)}matches(e){return Ra(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ra(t){return t.op==="and"}function My(t){return t.op==="or"}function Qv(t){return JC(t)&&Ra(t)}function JC(t){for(const e of t.filters)if(e instanceof ge)return!1;return!0}function Ly(t){if(t instanceof ce)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(Qv(t))return t.filters.map(e=>Ly(e)).join(",");{const e=t.filters.map(n=>Ly(n)).join(",");return`${t.op}(${e})`}}function XC(t,e){return t instanceof ce?function(r,i){return i instanceof ce&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)}(t,e):t instanceof ge?function(r,i){return i instanceof ge&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&XC(o,i.filters[a]),!0):!1}(t,e):void H(19439)}function ZC(t,e){const n=t.filters.concat(e);return ge.create(n,t.op)}function eb(t){return t instanceof ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Aa(n.value)}`}(t):t instanceof ge?function(n){return n.op.toString()+" {"+n.getFilters().map(eb).join(" ,")+"}"}(t):"Filter"}class DU extends ce{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class OU extends ce{constructor(e,n){super(e,"in",n),this.keys=tb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MU extends ce{constructor(e,n){super(e,"not-in",n),this.keys=tb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class LU extends ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nc(n)&&tc(n.arrayValue,this.value)}}class nb extends ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tc(this.value.arrayValue,n)}}class FU extends ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tc(this.value.arrayValue,n)}}class $U extends ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Fy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new UU(t,e,n,r,i,s,o)}function Ks(t){const e=W(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ly(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),e.Te=n}return e.Te}function Rc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MT(t.startAt,e.startAt)&&MT(t.endAt,e.endAt)}function tf(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function nf(t,e){return t.filters.filter(n=>n instanceof ce&&n.field.isEqual(e))}function LT(t,e,n){let r=rd,i=!0;for(const s of nf(t,e)){let o=rd,a=!0;switch(s.op){case"<":case"<=":o=kU(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=rd}NT({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];NT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function FT(t,e,n){let r=Ri,i=!0;for(const s of nf(t,e)){let o=Ri,a=!0;switch(s.op){case">=":case">":o=VU(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ri}DT({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];DT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rb(t,e,n,r,i,s,o,a){return new Yr(t,e,n,r,i,s,o,a)}function Ja(t){return new Yr(t)}function $T(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BU(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Yv(t){return t.collectionGroup!==null}function na(t){const e=W(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _e(Fe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new rc(s,r))}),n.has(Fe.keyField().canonicalString())||e.Ie.push(new rc(Fe.keyField(),r))}return e.Ie}function $t(t){const e=W(t);return e.Ee||(e.Ee=sb(e,na(t))),e.Ee}function ib(t){const e=W(t);return e.Re||(e.Re=sb(e,t.explicitOrderBy)),e.Re}function sb(t,e){if(t.limitType==="F")return Fy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rc(i.field,s)});const n=t.endAt?new Hi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hi(t.startAt.position,t.startAt.inclusive):null;return Fy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $y(t,e){const n=t.filters.concat([e]);return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jU(t,e){const n=t.explicitOrderBy.concat([e]);return new Yr(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function rf(t,e,n){return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zU(t,e){return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function qU(t,e){return new Yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function Pc(t,e){return Rc($t(t),$t(e))&&t.limitType===e.limitType}function ob(t){return`${Ks($t(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eb(i)).join(", ")}]`),Sc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Aa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Aa(i)).join(",")),`Target(${r})`}($t(t))}; limitType=${t.limitType})`}function Cc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of na(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=OT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,na(r),i)||r.endAt&&!function(o,a,l){const c=OT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,na(r),i))}(t,e)}function ab(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lb(t){return(e,n)=>{let r=!1;for(const i of na(t)){const s=WU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WU(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ki(l,c):H(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return UC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new xe(q.comparator);function Xt(){return GU}const ub=new xe(q.comparator);function Yl(...t){let e=ub;for(const n of t)e=e.insert(n.key,n);return e}function cb(t){let e=ub;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pr(){return gu()}function hb(){return gu()}function gu(){return new Jr(t=>t.toString(),(t,e)=>t.isEqual(e))}const KU=new xe(q.comparator),HU=new _e(q.comparator);function ne(...t){let e=HU;for(const n of t)e=e.add(n);return e}const QU=new _e(X);function Jv(){return QU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function db(t){return{integerValue:""+t}}function fb(t,e){return CC(e)?db(e):Xv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this._=void 0}}function YU(t,e,n){return t instanceof Pa?function(i,s){const o={fields:{[zC]:{stringValue:jC},[WC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ip(s)&&(s=Tp(s)),s&&(o.fields[qC]=s),{mapValue:o}}(n,e):t instanceof Hs?mb(t,e):t instanceof Qs?gb(t,e):function(i,s){const o=pb(i,s),a=UT(o)+UT(i.Ae);return Oy(o)&&Oy(i.Ae)?db(a):Xv(i.serializer,a)}(t,e)}function JU(t,e,n){return t instanceof Hs?mb(t,e):t instanceof Qs?gb(t,e):n}function pb(t,e){return t instanceof Ca?function(r){return Oy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Pa extends Ap{}class Hs extends Ap{constructor(e){super(),this.elements=e}}function mb(t,e){const n=yb(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qs extends Ap{constructor(e){super(),this.elements=e}}function gb(t,e){let n=yb(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class Ca extends Ap{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UT(t){return Me(t.integerValue||t.doubleValue)}function yb(t){return nc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.field=e,this.transform=n}}function XU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hs&&i instanceof Hs||r instanceof Qs&&i instanceof Qs?ga(r.elements,i.elements,Sr):r instanceof Ca&&i instanceof Ca?Sr(r.Ae,i.Ae):r instanceof Pa&&i instanceof Pa}(t.transform,e.transform)}class ZU{constructor(e,n){this.version=e,this.transformResults=n}}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rp{}function _b(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Za(t.key,$e.none()):new Xa(t.key,t.data,$e.none());{const n=t.data,r=Et.empty();let i=new _e(Fe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xr(t.key,r,new Jt(i.toArray()),$e.none())}}function eB(t,e,n){t instanceof Xa?function(i,s,o){const a=i.value.clone(),l=jT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(i,s,o){if(!od(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=jT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(vb(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yu(t,e,n,r){return t instanceof Xa?function(s,o,a,l){if(!od(s.precondition,o))return a;const c=s.value.clone(),h=zT(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(s,o,a,l){if(!od(s.precondition,o))return a;const c=zT(s.fieldTransforms,l,o),h=o.data;return h.setAll(vb(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return od(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pb(r.transform,i||null);s!=null&&(n===null&&(n=Et.empty()),n.set(r.field,s))}return n||null}function BT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ga(r,i,(s,o)=>XU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xa extends Rp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xr extends Rp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jT(t,e,n){const r=new Map;Y(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JU(o,a,n[i]))}return r}function zT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,YU(s,o,e))}return r}class Za extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=_b(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>BT(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>BT(n,r))}}class tE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Y(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return KU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new tE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,he;function wb(t){switch(t){case O.OK:return H(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return H(15467,{code:t})}}function Ib(t){if(t===void 0)return Xe("GRPC error has no .code"),O.UNKNOWN;switch(t){case it.OK:return O.OK;case it.CANCELLED:return O.CANCELLED;case it.UNKNOWN:return O.UNKNOWN;case it.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case it.INTERNAL:return O.INTERNAL;case it.UNAVAILABLE:return O.UNAVAILABLE;case it.UNAUTHENTICATED:return O.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case it.NOT_FOUND:return O.NOT_FOUND;case it.ALREADY_EXISTS:return O.ALREADY_EXISTS;case it.PERMISSION_DENIED:return O.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case it.ABORTED:return O.ABORTED;case it.OUT_OF_RANGE:return O.OUT_OF_RANGE;case it.UNIMPLEMENTED:return O.UNIMPLEMENTED;case it.DATA_LOSS:return O.DATA_LOSS;default:return H(39323,{code:t})}}(he=it||(it={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u=null;function rB(t){if(_u)throw new Error("a TestingHooksSpi instance is already set");_u=t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new Bi([4294967295,4294967295],0);function qT(t){const e=Tb().encode(t),n=new dC;return n.update(e),new Uint8Array(n.digest())}function WT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bi([n,r],0),new Bi([i,s],0)]}class rE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Bi.fromNumber(r)));return i.compare(iB)===1&&(i=new Bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qT(e),[r,i]=WT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new rE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=qT(e),[r,i]=WT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xc(J.min(),i,new xe(X),Xt(),ne())}}class kc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kc(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Sb{constructor(e,n){this.targetId=e,this.Ce=n}}class Ab{constructor(e,n,r=Ye.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class GT{constructor(){this.ve=0,this.Fe=KT(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ne(),n=ne(),r=ne();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H(38017,{changeType:s})}}),new kc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=KT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Y(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class sB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xt(),this.He=Rh(),this.Je=Rh(),this.Ze=new xe(X)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:H(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(tf(s))if(r===0){const o=new q(s.path);this.et(n,o,Ne.newNoDocument(o,J.min()))}else Y(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}_u==null||_u.lt(function(h,d,p,g,T){var v,y,S;const _={localCacheCount:h,existenceFilterCount:d.count,databaseId:p.database,projectId:p.projectId},P=d.unchangedNames;return P&&(_.bloomFilter={applied:T===0,hashCount:(P==null?void 0:P.hashCount)??0,bitmapLength:((y=(v=P==null?void 0:P.bits)==null?void 0:v.bitmap)==null?void 0:y.length)??0,padding:((S=P==null?void 0:P.bits)==null?void 0:S.padding)??0,mightContain:k=>(g==null?void 0:g.mightContain(k))??!1}),_}(o,e.Ce,this.Ge.ht(),a,l))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=zr(r).toUint8Array()}catch(l){if(l instanceof BC)return Mn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rE(o,i,s)}catch(l){return Mn(l instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&tf(a.target)){const l=new q(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ne.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.Ke())}});let r=ne();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new xc(e,n,this.Ze,this.je,r);return this.je=Xt(),this.He=Rh(),this.Je=Rh(),this.Ze=new xe(X),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new GT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new _e(X),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new _e(X),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rh(){return new xe(q.comparator)}function KT(){return new xe(q.comparator)}const oB={asc:"ASCENDING",desc:"DESCENDING"},aB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lB={and:"AND",or:"OR"};class uB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uy(t,e){return t.useProto3Json||Sc(e)?e:{value:e}}function ba(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cB(t,e){return ba(t,e.toTimestamp())}function et(t){return Y(!!t,49232),J.fromTimestamp(function(n){const r=jr(n);return new me(r.seconds,r.nanos)}(t))}function iE(t,e){return By(t,e).canonicalString()}function By(t,e){const n=function(i){return new oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Pb(t){const e=oe.fromString(t);return Y(Mb(e),10190,{key:e.toString()}),e}function ic(t,e){return iE(t.databaseId,e.path)}function Er(t,e){const n=Pb(e);if(n.get(1)!==t.databaseId.projectId)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(xb(n))}function Cb(t,e){return iE(t.databaseId,e)}function bb(t){const e=Pb(t);return e.length===4?oe.emptyPath():xb(e)}function jy(t){return new oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xb(t){return Y(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HT(t,e,n){return{name:ic(t,e),fields:n.value.mapValue.fields}}function Pp(t,e,n){const r=Er(t,e.name),i=et(e.updateTime),s=e.createTime?et(e.createTime):J.min(),o=new Et({mapValue:{fields:e.fields}}),a=Ne.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function hB(t,e){return"found"in e?function(r,i){Y(!!i.found,43571),i.found.name,i.found.updateTime;const s=Er(r,i.found.name),o=et(i.found.updateTime),a=i.found.createTime?et(i.found.createTime):J.min(),l=new Et({mapValue:{fields:i.found.fields}});return Ne.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Y(!!i.missing,3894),Y(!!i.readTime,22933);const s=Er(r,i.missing),o=et(i.readTime);return Ne.newNoDocument(s,o)}(t,e):H(7234,{result:e})}function dB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:H(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Y(h===void 0||typeof h=="string",58123),Ye.fromBase64String(h||"")):(Y(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ye.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?O.UNKNOWN:Ib(c.code);return new $(h,c.message||"")}(o);n=new Ab(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Er(t,r.document.name),s=et(r.document.updateTime),o=r.document.createTime?et(r.document.createTime):J.min(),a=new Et({mapValue:{fields:r.document.fields}}),l=Ne.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ad(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Er(t,r.document),s=r.readTime?et(r.readTime):J.min(),o=Ne.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ad([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Er(t,r.document),s=r.removedTargetIds||[];n=new ad([],s,i,null)}else{if(!("filter"in e))return H(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nB(i,s),a=r.targetId;n=new Sb(a,o)}}return n}function sc(t,e){let n;if(e instanceof Xa)n={update:HT(t,e.key,e.value)};else if(e instanceof Za)n={delete:ic(t,e.key)};else if(e instanceof Xr)n={update:HT(t,e.key,e.data),updateMask:_B(e.fieldMask)};else{if(!(e instanceof Zv))return H(16599,{dt:e.type});n={verify:ic(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Pa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ca)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw H(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:H(27497)}(t,e.precondition)),n}function zy(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?$e.updateTime(et(s.updateTime)):s.exists!==void 0?$e.exists(s.exists):$e.none()}(e.currentDocument):$e.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)Y(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new Pa;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];l=new Hs(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];l=new Qs(h)}else"increment"in a?l=new Ca(o,a.increment):H(16584,{proto:a});const c=Fe.fromServerFormat(a.fieldPath);return new bc(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Er(t,e.update.name),s=new Et({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Jt(c.map(h=>Fe.fromServerFormat(h)))}(e.updateMask);return new Xr(i,s,o,n,r)}return new Xa(i,s,n,r)}if(e.delete){const i=Er(t,e.delete);return new Za(i,n)}if(e.verify){const i=Er(t,e.verify);return new Zv(i,n)}return H(1463,{proto:e})}function fB(t,e){return t&&t.length>0?(Y(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?et(i.updateTime):et(s);return o.isEqual(J.min())&&(o=et(s)),new ZU(o,i.transformResults||[])}(n,e))):[]}function kb(t,e){return{documents:[Cb(t,e.path)]}}function Cp(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Cb(t,i);const s=function(c){if(c.length!==0)return Ob(ge.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:wi(p.field),direction:mB(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Uy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function Vb(t,e,n,r){const{ft:i,parent:s}=Cp(t,e),o={},a=[];let l=0;return n.forEach(c=>{const h=r?c.alias:"aggregate_"+l++;o[h]=c.alias,c.aggregateType==="count"?a.push({alias:h,count:{}}):c.aggregateType==="avg"?a.push({alias:h,avg:{field:wi(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:h,sum:{field:wi(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},gt:o,parent:s}}function Nb(t){let e=bb(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Y(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const p=Db(d);return p instanceof ge&&Qv(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(T){return new rc(ko(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,Sc(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new Hi(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Hi(g,p)}(n.endAt)),rb(e,i,o,s,a,"F",l,c)}function pB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Db(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ko(n.unaryFilter.field);return ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ko(n.unaryFilter.field);return ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ko(n.unaryFilter.field);return ce.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ko(n.unaryFilter.field);return ce.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}}(t):t.fieldFilter!==void 0?function(n){return ce.create(ko(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ge.create(n.compositeFilter.filters.map(r=>Db(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H(1026)}}(n.compositeFilter.op))}(t):H(30097,{filter:t})}function mB(t){return oB[t]}function gB(t){return aB[t]}function yB(t){return lB[t]}function wi(t){return{fieldPath:t.canonicalString()}}function ko(t){return Fe.fromServerFormat(t.fieldPath)}function Ob(t){return t instanceof ce?function(n){if(n.op==="=="){if(VT(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NAN"}};if(kT(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VT(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NOT_NAN"}};if(kT(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wi(n.field),op:gB(n.op),value:n.value}}}(t):t instanceof ge?function(n){const r=n.getFilters().map(i=>Ob(i));return r.length===1?r[0]:{compositeFilter:{op:yB(n.op),filters:r}}}(t):H(54877,{filter:t})}function _B(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Lb(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r,i,s=J.min(),o=J.min(),a=Ye.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.yt=e}}function vB(t,e){let n;if(e.document)n=Pp(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=q.fromSegments(e.noDocument.path),i=Js(e.noDocument.readTime);n=Ne.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return H(56709);{const r=q.fromSegments(e.unknownDocument.path),i=Js(e.unknownDocument.version);n=Ne.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new me(i[0],i[1]);return J.fromTimestamp(s)}(e.readTime)),n}function QT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:ic(s,o.key),fields:o.data.value.mapValue.fields,updateTime:ba(s,o.version.toTimestamp()),createTime:ba(s,o.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ys(e.version)};else{if(!e.isUnknownDocument())return H(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Ys(e.version)}}return r}function sf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ys(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Js(t){const e=new me(t.seconds,t.nanoseconds);return J.fromTimestamp(e)}function Es(t,e){const n=(e.baseMutations||[]).map(s=>zy(t.yt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>zy(t.yt,s)),i=me.fromMillis(e.localWriteTimeMs);return new eE(e.batchId,i,n,r)}function Xl(t){const e=Js(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Js(t.lastLimboFreeSnapshotVersion):J.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){const o=s.documents.length;return Y(o===1,1966,{count:o}),$t(Ja(bb(s.documents[0])))}(t.query):function(s){return $t(Nb(s))}(t.query),new Dr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ye.fromBase64String(t.resumeToken))}function $b(t,e){const n=Ys(e.snapshotVersion),r=Ys(e.lastLimboFreeSnapshotVersion);let i;i=tf(e.target)?kb(t.yt,e.target):Cp(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ks(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bp(t){const e=Nb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rf(e,e.limit,"L"):e}function Zm(t,e){return new nE(e.largestBatchId,zy(t.yt,e.overlayMutation))}function YT(t,e){const n=e.path.lastSegment();return[t,Ft(e.path.popLast()),n]}function JT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ys(r.readTime),documentKey:Ft(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{getBundleMetadata(e,n){return XT(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Js(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return XT(e).put(function(i){return{bundleId:i.id,createTime:Ys(et(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return ZT(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:bp(s.bundledQuery),readTime:Js(s.readTime)}}(r)})}saveNamedQuery(e,n){return ZT(e).put(function(i){return{name:i.name,readTime:Ys(et(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function XT(t){return pt(t,vp)}function ZT(t){return pt(t,Ep)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new xp(e,r)}getOverlay(e,n){return Fl(e).get(YT(this.userId,n)).next(r=>r?Zm(this.serializer,r):null)}getOverlays(e,n){const r=pr();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new nE(n,o);i.push(this.bt(e,a))}),N.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Ft(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Fl(e).X(Vy,a))}),N.waitFor(s)}getOverlaysForCollection(e,n,r){const i=pr(),s=Ft(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Fl(e).H(Vy,o).next(a=>{for(const l of a){const c=Zm(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=pr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Fl(e).ee({index:DC,range:a},(l,c,h)=>{const d=Zm(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):h.done()}).next(()=>s)}bt(e,n){return Fl(e).put(function(i,s,o){const[a,l,c]=YT(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:sc(i.yt,o.mutation)}}(this.serializer,this.userId,n))}}function Fl(t){return pt(t,wp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{St(e){return pt(e,Wv)}getSessionToken(e){return this.St(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Ye.fromUint8Array(r):Ye.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Me(e.integerValue));else if("doubleValue"in e){const r=Me(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Qu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=jr(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(zr(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?KC(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Sp(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):H(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var o,a;const r=e.fields||{};this.Ft(n,53);const i=Sa,s=((a=(o=r[i].arrayValue)==null?void 0:o.values)==null?void 0:a.length)||0;this.Ft(n,15),n.Mt(Me(s)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),q.fromName(e).path.forEach(r=>{this.Ft(n,60),this.$t(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ws.Wt=new ws;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=255;function IB(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function eS(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=IB(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class TB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=eS(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=eS(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Ao),this.sn(255)}_n(){this.an(Ao),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Ao?(this.sn(Ao),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Ao?(this.an(Ao),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class SB{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class AB{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class $l{constructor(){this.cn=new TB,this.ascending=new SB(this.cn),this.descending=new AB(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new Is(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:ld(this.Tn),directionalValue:ld(this.In),orderedDocumentKey:ld(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function ci(t,e){let n=t.hn-e.hn;return n!==0?n:(n=tS(t.Tn,e.Tn),n!==0?n:(n=tS(t.In,e.In),n!==0?n:q.comparator(t.Pn,e.Pn)))}function tS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function ld(t){return CP()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function nS(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class rS{constructor(e){this.Vn=new _e((n,r)=>Fe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Y(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=by(e);if(n!==void 0&&!this.pn(n))return!1;const r=ys(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.pn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Vn.size>0){const a=this.Vn.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.yn(a,l)||!this.wn(this.dn[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.dn.length||!this.wn(this.dn[o++],a))return!1}return!0}bn(){if(this.fn)return null;let e=new _e(Fe.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ds(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ds(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ds(r.field,r.dir==="asc"?0:1)));return new _a(_a.UNKNOWN_ID,this.collectionId,n,va.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){var n,r;if(Y(t instanceof ce||t instanceof ge,20012),t instanceof ce){if(t instanceof nb){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map(s=>ce.create(t.field,"==",s)))||[];return ge.create(i,"or")}return t}const e=t.filters.map(i=>Ub(i));return ge.create(e,t.op)}function RB(t){if(t.getFilters().length===0)return[];const e=Gy(Ub(t));return Y(Bb(e),7391),qy(e)||Wy(e)?[e]:e.getFilters()}function qy(t){return t instanceof ce}function Wy(t){return t instanceof ge&&Qv(t)}function Bb(t){return qy(t)||Wy(t)||function(n){if(n instanceof ge&&My(n)){for(const r of n.getFilters())if(!qy(r)&&!Wy(r))return!1;return!0}return!1}(t)}function Gy(t){if(Y(t instanceof ce||t instanceof ge,34018),t instanceof ce)return t;if(t.filters.length===1)return Gy(t.filters[0]);const e=t.filters.map(r=>Gy(r));let n=ge.create(e,t.op);return n=of(n),Bb(n)?n:(Y(n instanceof ge,64498),Y(Ra(n),40251),Y(n.filters.length>1,57927),n.filters.reduce((r,i)=>sE(r,i)))}function sE(t,e){let n;return Y(t instanceof ce||t instanceof ge,38388),Y(e instanceof ce||e instanceof ge,25473),n=t instanceof ce?e instanceof ce?function(i,s){return ge.create([i,s],"and")}(t,e):iS(t,e):e instanceof ce?iS(e,t):function(i,s){if(Y(i.filters.length>0&&s.filters.length>0,48005),Ra(i)&&Ra(s))return ZC(i,s.getFilters());const o=My(i)?i:s,a=My(i)?s:i,l=o.filters.map(c=>sE(c,a));return ge.create(l,"or")}(t,e),of(n)}function iS(t,e){if(Ra(e))return ZC(e,t.getFilters());{const n=e.filters.map(r=>sE(t,r));return ge.create(n,"or")}}function of(t){if(Y(t instanceof ce||t instanceof ge,11850),t instanceof ce)return t;const e=t.getFilters();if(e.length===1)return of(e[0]);if(JC(t))return t;const n=e.map(i=>of(i)),r=[];return n.forEach(i=>{i instanceof ce?r.push(i):i instanceof ge&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ge.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.Sn=new oE}addToCollectionParentIndex(e,n){return this.Sn.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(mn.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(mn.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class oE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _e(oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _e(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="IndexedDbIndexManager",Ph=new Uint8Array(0);class CB{constructor(e,n){this.databaseId=n,this.Dn=new oE,this.Cn=new Jr(r=>Ks(r),(r,i)=>Rc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Dn.add(n)});const s={collectionId:r,parent:Ft(i)};return oS(e).put(s)}return N.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[EC(n),""],!1,!0);return oS(e).H(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(fr(o.parent))}return r})}addFieldIndex(e,n){const r=Ul(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Po(e);return s.next(a=>{o.put(JT(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Ul(e),i=Po(e),s=Ro(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Ul(e),r=Ro(e),i=Po(e);return n.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,n){return N.forEach(this.vn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new rS(r).bn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Ro(e);let i=!0;const s=new Map;return N.forEach(this.vn(n),o=>this.Fn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ne();const a=[];return N.forEach(s,(l,c)=>{U(sS,`Using index ${function(S){return`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`}(l)} to execute ${Ks(n)}`);const h=function(S,k){const F=by(k);if(F===void 0)return null;for(const M of nf(S,F.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(c,l),d=function(S,k){const F=new Map;for(const M of ys(k))for(const E of nf(S,M.fieldPath))switch(E.op){case"==":case"in":F.set(M.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return F.set(M.fieldPath.canonicalString(),E.value),Array.from(F.values())}return null}(c,l),p=function(S,k){const F=[];let M=!0;for(const E of ys(k)){const w=E.kind===0?LT(S,E.fieldPath,S.startAt):FT(S,E.fieldPath,S.startAt);F.push(w.value),M&&(M=w.inclusive)}return new Hi(F,M)}(c,l),g=function(S,k){const F=[];let M=!0;for(const E of ys(k)){const w=E.kind===0?FT(S,E.fieldPath,S.endAt):LT(S,E.fieldPath,S.endAt);F.push(w.value),M&&(M=w.inclusive)}return new Hi(F,M)}(c,l),T=this.Mn(l,c,p),_=this.Mn(l,c,g),P=this.xn(l,c,d),v=this.On(l.indexId,h,T,p.inclusive,_,g.inclusive,P);return N.forEach(v,y=>r.Z(y,n.limit).next(S=>{S.forEach(k=>{const F=q.fromSegments(k.documentKey);o.has(F)||(o=o.add(F),a.push(F))})}))}).next(()=>a)}return N.resolve(null)})}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=RB(ge.create(e.filters,"and")).map(r=>Fy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,n),n)}On(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),h=[];for(let d=0;d<l;++d){const p=n?this.Nn(n[d/c]):Ph,g=this.Bn(e,p,r[d%c],i),T=this.Ln(e,p,s[d%c],o),_=a.map(P=>this.Bn(e,p,P,!0));h.push(...this.createRange(g,T,_))}return h}Bn(e,n,r,i){const s=new Is(e,q.empty(),n,r);return i?s:s.En()}Ln(e,n,r,i){const s=new Is(e,q.empty(),n,r);return i?s.En():s}Fn(e,n){const r=new rS(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.gn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.vn(n);return N.forEach(i,s=>this.Fn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new _e(Fe.comparator),h=!1;for(const d of l.filters)for(const p of d.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?h=!0:c=c.add(p.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}kn(e,n){const r=new $l;for(const i of ys(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.ln(i.kind);ws.Wt.Dt(s,o)}return r.un()}Nn(e){const n=new $l;return ws.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new $l;return ws.Wt.Dt(Gs(this.databaseId,n),r.ln(function(s){const o=ys(s);return o.length===0?0:o[o.length-1].kind}(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new $l);let s=0;for(const o of ys(e)){const a=r[s++];for(const l of i)if(this.qn(n,o.fieldPath)&&nc(a))i=this.Un(i,o,a);else{const c=l.ln(o.kind);ws.Wt.Dt(a,c)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new $l;l.seed(a.un()),ws.Wt.Dt(o,l.ln(n.kind)),s.push(l)}return s}qn(e,n){return!!e.filters.find(r=>r instanceof ce&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Ul(e),i=Po(e);return(n?r.H(ky,IDBKeyRange.bound(n,n)):r.H()).next(s=>{const o=[];return N.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(h,d){const p=d?new va(d.sequenceNumber,new mn(Js(d.readTime),new q(fr(d.documentKey)),d.largestBatchId)):va.empty(),g=h.fields.map(([T,_])=>new Ds(Fe.fromServerFormat(T),_));return new _a(h.indexId,h.collectionGroup,g,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:X(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Ul(e),s=Po(e);return this.Wn(e).next(o=>i.H(ky,IDBKeyRange.bound(n,n)).next(a=>N.forEach(a,l=>s.put(JT(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return N.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?N.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),N.forEach(a,l=>this.Qn(e,i,l).next(c=>{const h=this.Gn(s,l);return c.isEqual(h)?N.resolve():this.zn(e,s,l,c,h)}))))})}jn(e,n,r,i){return Ro(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return Ro(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=Ro(e);let s=new _e(ci);return i.ee({index:NC,range:IDBKeyRange.only([r.indexId,this.uid,ld(this.Kn(r,n))])},(o,a)=>{s=s.add(new Is(r.indexId,n,nS(a.arrayValue),nS(a.directionalValue)))}).next(()=>s)}Gn(e,n){let r=new _e(ci);const i=this.kn(n,e);if(i==null)return r;const s=by(n);if(s!=null){const o=e.data.field(s.fieldPath);if(nc(o))for(const a of o.arrayValue.values||[])r=r.add(new Is(n.indexId,e.key,this.Nn(a),i))}else r=r.add(new Is(n.indexId,e.key,Ph,i));return r}zn(e,n,r,i,s){U(sS,"Updating index entries for document '%s'",n.key);const o=[];return function(l,c,h,d,p){const g=l.getIterator(),T=c.getIterator();let _=So(g),P=So(T);for(;_||P;){let v=!1,y=!1;if(_&&P){const S=h(_,P);S<0?y=!0:S>0&&(v=!0)}else _!=null?y=!0:v=!0;v?(d(P),P=So(T)):y?(p(_),_=So(g)):(_=So(g),P=So(T))}}(i,s,ci,a=>{o.push(this.jn(e,n,r,a))},a=>{o.push(this.Hn(e,n,r,a))}),N.waitFor(o)}Wn(e){let n=1;return Po(e).ee({index:VC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>ci(o,a)).filter((o,a,l)=>!a||ci(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=ci(o,e),l=ci(o,n);if(a===0)i[0]=e.En();else if(a>0&&l<0)i.push(o),i.push(o.En());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Jn(i[o],i[o+1]))return[];const a=i[o].An(this.uid,Ph,q.empty()),l=i[o+1].An(this.uid,Ph,q.empty());s.push(IDBKeyRange.bound(a,l))}return s}Jn(e,n){return ci(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(aS)}getMinOffset(e,n){return N.mapArray(this.vn(n),r=>this.Fn(e,r).next(i=>i||H(44426))).next(aS)}}function oS(t){return pt(t,Xu)}function Ro(t){return pt(t,pu)}function Ul(t){return pt(t,qv)}function Po(t){return pt(t,fu)}function aS(t){Y(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Bv(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new mn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jb=41943040;class Mt{static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e,n){const r=t.store(qn),i=t.store(Ea),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.ee({range:o},(h,d,p)=>(a++,p.delete()));s.push(l.next(()=>{Y(a===1,47070,{batchId:n.batchId})}));const c=[];for(const h of n.mutations){const d=bC(e,h.key.path,n.batchId);s.push(i.delete(d)),c.push(h.key)}return N.waitFor(s).next(()=>c)}function af(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw H(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(jb,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);class kp{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){Y(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new kp(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hi(e).ee({index:xs,range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Vo(e),o=hi(e);return o.add({}).next(a=>{Y(typeof a=="number",49019);const l=new eE(a,n,r,i),c=function(g,T,_){const P=_.baseMutations.map(y=>sc(g.yt,y)),v=_.mutations.map(y=>sc(g.yt,y));return{userId:T,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:P,mutations:v}}(this.serializer,this.userId,l),h=[];let d=new _e((p,g)=>X(p.canonicalString(),g.canonicalString()));for(const p of i){const g=bC(this.userId,p.key.path,a);d=d.add(p.key.path.popLast()),h.push(o.put(c)),h.push(s.put(g,iU))}return d.forEach(p=>{h.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Zn[a]=l.keys()}),N.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return hi(e).get(n).next(r=>r?(Y(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Es(this.serializer,r)):null)}Xn(e,n){return this.Zn[n]?N.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return hi(e).ee({index:xs,range:i},(o,a,l)=>{a.userId===this.userId&&(Y(a.batchId>=r,47524,{Yn:r}),s=Es(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ji;return hi(e).ee({index:xs,range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,ji],[this.userId,Number.POSITIVE_INFINITY]);return hi(e).H(xs,n).next(r=>r.map(i=>Es(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=td(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Vo(e).ee({range:i},(o,a,l)=>{const[c,h,d]=o,p=fr(h);if(c===this.userId&&n.path.isEqual(p))return hi(e).get(d).next(g=>{if(!g)throw H(61480,{er:o,batchId:d});Y(g.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:g.userId,batchId:d}),s.push(Es(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _e(X);const i=[];return n.forEach(s=>{const o=td(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Vo(e).ee({range:a},(c,h,d)=>{const[p,g,T]=c,_=fr(g);p===this.userId&&s.path.isEqual(_)?r=r.add(T):d.done()});i.push(l)}),N.waitFor(i).next(()=>this.tr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=td(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new _e(X);return Vo(e).ee({range:o},(l,c,h)=>{const[d,p,g]=l,T=fr(p);d===this.userId&&r.isPrefixOf(T)?T.length===i&&(a=a.add(g)):h.done()}).next(()=>this.tr(e,a))}tr(e,n){const r=[],i=[];return n.forEach(s=>{i.push(hi(e).get(s).next(o=>{if(o===null)throw H(35274,{batchId:s});Y(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),r.push(Es(this.serializer,o))}))}),N.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return zb(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.nr(n.batchId)}),N.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return N.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Vo(e).ee({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=fr(s[1]);i.push(l)}else a.done()}).next(()=>{Y(i.length===0,56720,{rr:i.map(s=>s.canonicalString())})})})}containsKey(e,n){return qb(e,this.userId,n)}ir(e){return Wb(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:ji,lastStreamToken:""})}}function qb(t,e,n){const r=td(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vo(t).ee({range:s,Y:!0},(a,l,c)=>{const[h,d,p]=a;h===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function hi(t){return pt(t,qn)}function Vo(t){return pt(t,Ea)}function Wb(t){return pt(t,Yu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Xs(0)}static ar(){return new Xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next(n=>{const r=new Xs(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.ur(e).next(n=>J.fromTimestamp(new me(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.ur(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.ur(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i)))}addTargetData(e,n){return this.lr(e,n).next(()=>this.ur(e).next(r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Co(e).delete(n.targetId)).next(()=>this.ur(e)).next(r=>(Y(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Co(e).ee((o,a)=>{const l=Xl(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>N.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Co(e).ee((r,i)=>{const s=Xl(i);n(s)})}ur(e){return uS(e).get(ef).next(n=>(Y(n!==null,2888),n))}cr(e,n){return uS(e).put(ef,n)}lr(e,n){return Co(e).put($b(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ks(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Co(e).ee({range:i,index:kC},(o,a,l)=>{const c=Xl(a);Rc(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ii(e);return n.forEach(o=>{const a=Ft(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),N.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ii(e);return N.forEach(n,s=>{const o=Ft(s.path);return N.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ii(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ii(e);let s=ne();return i.ee({range:r,Y:!0},(o,a,l)=>{const c=fr(o[1]),h=new q(c);s=s.add(h)}).next(()=>s)}containsKey(e,n){const r=Ft(n.path),i=IDBKeyRange.bound([r],[EC(r)],!1,!0);let s=0;return Ii(e).ee({index:zv,Y:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}At(e,n){return Co(e).get(n).next(r=>r?Xl(r):null)}}function Co(t){return pt(t,wa)}function uS(t){return pt(t,Os)}function Ii(t){return pt(t,Ia)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="LruGarbageCollector",Gb=1048576;function hS([t,e],[n,r]){const i=X(t,n);return i===0?X(e,r):i}class xB{constructor(e){this.Pr=e,this.buffer=new _e(hS),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Kb{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){U(cS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rs(n)?U(cS,"Ignoring IndexedDB error during garbage collection: ",n):await ns(n)}await this.Ar(3e5)})}}class kB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return N.resolve(Yt.ce);const r=new xB(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(lS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lS):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),bo()<=ue.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function Hb(t,e){return new kB(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n){this.db=e,this.garbageCollector=Hb(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,(r,i)=>n(i))}addReference(e,n,r){return Ch(e,r)}removeReference(e,n,r){return Ch(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Ch(e,n)}wr(e,n){return function(i,s){let o=!1;return Wb(i).te(a=>qb(i,a,s).next(l=>(l&&(o=!0),N.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.yr(e,(o,a)=>{if(a<=n){const l=this.wr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,J.min()),Ii(e).delete(function(d){return[0,Ft(d.path)]}(o))))});i.push(l)}}).next(()=>N.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Ch(e,n)}yr(e,n){const r=Ii(e);let i,s=Yt.ce;return r.ee({index:zv},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Yt.ce&&n(new q(fr(i)),s),s=c,i=l):s=Yt.ce}).next(()=>{s!==Yt.ce&&n(new q(fr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ch(t,e){return Ii(t).put(function(r,i){return{targetId:0,path:Ft(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.changes=new Jr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ne.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return fs(e).put(r)}removeEntry(e,n,r){return fs(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],sf(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.br(e,r)))}getEntry(e,n){let r=Ne.newInvalidDocument(n);return fs(e).ee({index:nd,range:IDBKeyRange.only(Bl(n))},(i,s)=>{r=this.Sr(n,s)}).next(()=>r)}Dr(e,n){let r={size:0,document:Ne.newInvalidDocument(n)};return fs(e).ee({index:nd,range:IDBKeyRange.only(Bl(n))},(i,s)=>{r={document:this.Sr(n,s),size:af(s)}}).next(()=>r)}getEntries(e,n){let r=Xt();return this.Cr(e,n,(i,s)=>{const o=this.Sr(i,s);r=r.insert(i,o)}).next(()=>r)}vr(e,n){let r=Xt(),i=new xe(q.comparator);return this.Cr(e,n,(s,o)=>{const a=this.Sr(s,o);r=r.insert(s,a),i=i.insert(s,af(o))}).next(()=>({documents:r,Fr:i}))}Cr(e,n,r){if(n.isEmpty())return N.resolve();let i=new _e(pS);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Bl(i.first()),Bl(i.last())),o=i.getIterator();let a=o.getNext();return fs(e).ee({index:nd,range:s},(l,c,h)=>{const d=q.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&pS(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?h.j(Bl(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),sf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fs(e).H(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let h=Xt();for(const d of c){const p=this.Sr(q.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);p.isFoundDocument()&&(Cc(n,p)||i.has(p.key))&&(h=h.insert(p.key,p))}return h})}getAllFromCollectionGroup(e,n,r,i){let s=Xt();const o=fS(n,r),a=fS(n,mn.max());return fs(e).ee({index:xC,range:IDBKeyRange.bound(o,a,!0)},(l,c,h)=>{const d=this.Sr(q.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new DB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return dS(e).get(xy).next(n=>(Y(!!n,20021),n))}br(e,n){return dS(e).put(xy,n)}Sr(e,n){if(n){const r=vB(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(J.min())))return r}return Ne.newInvalidDocument(e)}}function Yb(t){return new NB(t)}class DB extends Qb{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new Jr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new _e((s,o)=>X(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Or.get(s);if(n.push(this.Mr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=QT(this.Mr.serializer,o);i=i.add(s.path.popLast());const c=af(l);r+=c-a.size,n.push(this.Mr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=QT(this.Mr.serializer,o.convertToNoDocument(J.min()));n.push(this.Mr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Mr.updateMetadata(e,r)),N.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next(r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Mr.vr(e,n).next(({documents:r,Fr:i})=>(i.forEach((s,o)=>{this.Or.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function dS(t){return pt(t,Ju)}function fs(t){return pt(t,Zd)}function Bl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fS(t,e){const n=e.documentKey.path.toArray();return[t,sf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pS(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=X(n[s],r[s]),i)return i;return i=X(n.length,r.length),i||(i=X(n[n.length-2],r[r.length-2]),i||X(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yu(r.mutation,i,Jt.empty(),me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=pr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=pr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xt();const o=gu(),a=function(){return gu()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Xr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),yu(h.mutation,c,h.mutation.getFieldMask(),me.now())):o.set(c.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new OB(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=gu();let i=new xe((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Jt.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=hb();h.forEach(p=>{if(!s.has(p)){const g=_b(n.get(p),r.get(p));g!==null&&d.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return BU(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(pr());let a=ya,l=s;return o.next(c=>N.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ne())).next(h=>({batchId:a,changes:cb(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Yl();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,l=>{const c=function(d,p){return new Yr(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Ne.newInvalidDocument(h)))});let a=Yl();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&yu(h.mutation,c,Jt.empty(),me.now()),Cc(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return N.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:et(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:bp(i.bundledQuery),readTime:et(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.overlays=new xe(q.comparator),this.Lr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pr();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=pr(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=pr(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=pr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return N.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nE(n,r));let s=this.Lr.get(n);s===void 0&&(s=ne(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.kr=new _e(yt.Kr),this.qr=new _e(yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new yt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new q(new oe([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new q(new oe([])),r=new yt(n,e),i=new yt(n,e+1);let s=ne();return this.qr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return q.comparator(e.key,n.key)||X(e.Hr,n.Hr)}static Ur(e,n){return X(e.Hr,n.Hr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new _e(yt.Kr)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Jr=this.Jr.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?ji:this.Yn-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _e(X);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),N.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new yt(new q(s),0);let a=new _e(X);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),N.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Y(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return N.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new yt(n,0),i=this.Jr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.ti=e,this.docs=function(){return new xe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Ne.newInvalidDocument(n))}getEntries(e,n){let r=Xt();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ne.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xt();const o=n.path,a=new q(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Bv(SC(h),r)<=0||(i.has(h.key)||Cc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){H(9500)}ni(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BB(this)}getSize(e){return N.resolve(this.size)}}class BB extends Qb{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.persistence=e,this.ri=new Jr(n=>Ks(n),Rc),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ii=0,this.si=new aE,this.targetCount=0,this.oi=Xs._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),N.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Xs(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.lr(n),N.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this._i={},this.overlays={},this.ai=new Yt(0),this.ui=!1,this.ui=!0,this.ci=new FB,this.referenceDelegate=e(this),this.li=new jB(this),this.indexManager=new PB,this.remoteDocumentCache=function(i){return new UB(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Fb(n),this.Pi=new MB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new $B(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new zB(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return N.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class zB extends RC{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new aE,this.Ai=null}static Vi(e){return new Vp(e)}get di(){if(this.Ai)return this.Ai;throw H(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),N.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.di,r=>{const i=q.fromPath(r);return this.mi(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return N.or([()=>N.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class lf{constructor(e,n){this.persistence=e,this.fi=new Jr(r=>Ft(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Hb(this,n)}static Vi(e,n){return new lf(e,n)}Ti(){}Ii(e){return N.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return N.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(s=>s?N.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,J.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),N.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),N.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),N.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),N.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=id(e.data.value)),n}wr(e,n,r){return N.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return N.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e){this.serializer=e}k(e,n,r,i){const s=new _p("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Ac)}(e),function(l){l.createObjectStore(Yu,{keyPath:rU}),l.createObjectStore(qn,{keyPath:AT,autoIncrement:!0}).createIndex(xs,RT,{unique:!0}),l.createObjectStore(Ea)}(e),mS(e),function(l){l.createObjectStore(_s)}(e));let o=N.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Ia),l.deleteObjectStore(wa),l.deleteObjectStore(Os)}(e),mS(e)),o=o.next(()=>function(l){const c=l.store(Os),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:J.min().toTimestamp(),targetCount:0};return c.put(ef,h)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store(qn).H().next(d=>{l.deleteObjectStore(qn),l.createObjectStore(qn,{keyPath:AT,autoIncrement:!0}).createIndex(xs,RT,{unique:!0});const p=c.store(qn),g=d.map(T=>p.put(T));return N.waitFor(g)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore(Ta,{keyPath:dU})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.gi(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore(Ju)}(e),this.pi(s)))),r<7&&i>=7&&(o=o.next(()=>this.yi(s))),r<8&&i>=8&&(o=o.next(()=>this.wi(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.bi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(vp,{keyPath:fU})})(e),function(l){l.createObjectStore(Ep,{keyPath:pU})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore(wp,{keyPath:wU});c.createIndex(Vy,IU,{unique:!1}),c.createIndex(DC,TU,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore(Zd,{keyPath:sU});c.createIndex(nd,oU),c.createIndex(xC,aU)}(e)).next(()=>this.Si(e,s)).next(()=>e.deleteObjectStore(_s))),r<14&&i>=14&&(o=o.next(()=>this.Di(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore(qv,{keyPath:mU,autoIncrement:!0}).createIndex(ky,gU,{unique:!1}),l.createObjectStore(fu,{keyPath:yU}).createIndex(VC,_U,{unique:!1}),l.createObjectStore(pu,{keyPath:vU}).createIndex(NC,EU,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore(fu).clear()}).next(()=>{n.objectStore(pu).clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(Wv,{keyPath:SU})})(e)})),r<18&&i>=18&&CP()&&(o=o.next(()=>{n.objectStore(fu).clear()}).next(()=>{n.objectStore(pu).clear()})),o}pi(e){let n=0;return e.store(_s).ee((r,i)=>{n+=af(i)}).next(()=>{const r={byteSize:n};return e.store(Ju).put(xy,r)})}gi(e){const n=e.store(Yu),r=e.store(qn);return n.H().next(i=>N.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,ji],[s.userId,s.lastAcknowledgedBatchId]);return r.H(xs,o).next(a=>N.forEach(a,l=>{Y(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=Es(this.serializer,l);return zb(e,s.userId,c).next(()=>{})}))}))}yi(e){const n=e.store(Ia),r=e.store(_s);return e.store(Os).get(ef).next(i=>{const s=[];return r.ee((o,a)=>{const l=new oe(o),c=function(d){return[0,Ft(d)]}(l);s.push(n.get(c).next(h=>h?N.resolve():(d=>n.put({targetId:0,path:Ft(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>N.waitFor(s))})}wi(e,n){e.createObjectStore(Xu,{keyPath:hU});const r=n.store(Xu),i=new oE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Ft(l)})}};return n.store(_s).ee({Y:!0},(o,a)=>{const l=new oe(o);return s(l.popLast())}).next(()=>n.store(Ea).ee({Y:!0},([o,a,l],c)=>{const h=fr(a);return s(h.popLast())}))}bi(e){const n=e.store(wa);return n.ee((r,i)=>{const s=Xl(i),o=$b(this.serializer,s);return n.put(o)})}Si(e,n){const r=n.store(_s),i=[];return r.ee((s,o)=>{const a=n.store(Zd),l=function(d){return d.document?new q(oe.fromString(d.document.name).popFirst(5)):d.noDocument?q.fromSegments(d.noDocument.path):d.unknownDocument?q.fromSegments(d.unknownDocument.path):H(36783)}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>N.waitFor(i))}Di(e,n){const r=n.store(qn),i=Yb(this.serializer),s=new lE(Vp.Vi,this.serializer.yt);return r.H().next(o=>{const a=new Map;return o.forEach(l=>{let c=a.get(l.userId)??ne();Es(this.serializer,l).keys().forEach(h=>c=c.add(h)),a.set(l.userId,c)}),N.forEach(a,(l,c)=>{const h=new vt(c),d=xp.wt(this.serializer,h),p=s.getIndexManager(h),g=kp.wt(h,this.serializer,p,s.referenceDelegate);return new Jb(i,g,d,p).recalculateAndSaveOverlaysForDocumentKeys(new Ny(n,Yt.ce),l).next()})})}}function mS(t){t.createObjectStore(Ia,{keyPath:uU}).createIndex(zv,cU,{unique:!0}),t.createObjectStore(wa,{keyPath:"targetId"}).createIndex(kC,lU,{unique:!0}),t.createObjectStore(Os)}const di="IndexedDbPersistence",eg=18e5,tg=5e3,ng="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xb="main";class uE{constructor(e,n,r,i,s,o,a,l,c,h,d=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=s,this.window=o,this.document=a,this.Fi=c,this.Mi=h,this.xi=d,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=p=>Promise.resolve(),!uE.v())throw new $(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VB(this,i),this.Ki=n+Xb,this.serializer=new Fb(l),this.qi=new vr(this.Ki,this.xi,new qB(this.serializer)),this.ci=new wB,this.li=new bB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Yb(this.serializer),this.Pi=new EB,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,h===!1&&Xe(di,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(O.FAILED_PRECONDITION,ng);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.li.getHighestSequenceNumber(e))}).then(e=>{this.ai=new Yt(e,this.Fi)}).then(()=>{this.ui=!0}).catch(e=>(this.qi&&this.qi.close(),Promise.reject(e)))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget(async()=>{this.started&&await this.$i()}))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ji(e).next(n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)))})}).next(()=>this.Hi(e)).next(n=>this.isPrimary&&!n?this.Ji(e).next(()=>!1):!!n&&this.Zi(e).next(()=>!0))).catch(e=>{if(rs(e))return U(di,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return U(di,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable(()=>this.ki(e)),this.isPrimary=e})}ji(e){return jl(e).get(To).next(n=>N.resolve(this.Xi(n)))}Yi(e){return bh(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,eg)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=pt(n,Ta);return r.H().next(i=>{const s=this.ns(i,eg),o=i.filter(a=>s.indexOf(a)===-1);return N.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.$i().then(()=>this.es()).then(()=>this.Gi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?N.resolve(!0):jl(e).get(To).next(n=>{if(n!==null&&this.ts(n.leaseTimestampMs,tg)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new $(O.FAILED_PRECONDITION,ng);return!1}}return!(!this.networkEnabled||!this.inForeground)||bh(e).H().next(r=>this.ns(r,tg).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&U(di,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Ac,Ta],e=>{const n=new Ny(e,Yt.ce);return this.Ji(n).next(()=>this.Yi(n))}),this.qi.close(),this.ls()}ns(e,n){return e.filter(r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId))}hs(){return this.runTransaction("getActiveClients","readonly",e=>bh(e).H().next(n=>this.ns(n,eg).map(r=>r.clientId)))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return kp.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new CB(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return xp.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){U(di,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===18?PU:l===17?FC:l===16?RU:l===15?Gv:l===14?LC:l===13?MC:l===12?AU:l===11?OC:void H(60245)}(this.xi);let o;return this.qi.runTransaction(e,i,s,a=>(o=new Ny(a,this.ai?this.ai.next():Yt.ce),n==="readwrite-primary"?this.ji(o).next(l=>!!l||this.Hi(o)).next(l=>{if(!l)throw Xe(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)),new $(O.FAILED_PRECONDITION,AC);return r(o)}).next(l=>this.Zi(o).next(()=>l)):this.Ps(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ps(e){return jl(e).get(To).next(n=>{if(n!==null&&this.ts(n.leaseTimestampMs,tg)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new $(O.FAILED_PRECONDITION,ng)})}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jl(e).put(To,n)}static v(){return vr.v()}Ji(e){const n=jl(e);return n.get(To).next(r=>this.Xi(r)?(U(di,"Releasing primary lease."),n.delete(To)):N.resolve())}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Xe(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.$i()))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const n=/(?:Version|Mobile)\/1[456]/;PP()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var n;try{const r=((n=this.Ui)==null?void 0:n.getItem(this.rs(e)))!==null;return U(di,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xe(di,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Xe("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jl(t){return pt(t,Ac)}function bh(t){return pt(t,Ta)}function cE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return PP()?8:PC(ft())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ps(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new WB;return this.ys(e,n,o).next(a=>{if(s.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>s.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(bo()<=ue.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),N.resolve()):(bo()<=ue.DEBUG&&U("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(bo()<=ue.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$t(n))):N.resolve())}gs(e,n){if($T(n))return N.resolve(null);let r=$t(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rf(n,null,"F"),r=$t(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ss(n,c,o,l.readTime)?this.gs(e,rf(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,i){return $T(n)||i.isEqual(J.min())?N.resolve(null):this.fs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?N.resolve(null):(bo()<=ue.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xo(n)),this.Ds(e,o,n,TC(i,ya)).next(a=>a))})}bs(e,n){let r=new _e(lb(e));return n.forEach((i,s)=>{Cc(e,s)&&(r=r.add(s))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return bo()<=ue.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",xo(n)),this.fs.getDocumentsMatchingQuery(e,n,mn.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LocalStore",GB=3e8;class KB{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new xe(X),this.Fs=new Jr(s=>Ks(s),Rc),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jb(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function ex(t,e,n,r){return new KB(t,e,n,r)}async function tx(t,e){const n=W(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function HB(t,e){const n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,p=d.keys();let g=N.resolve();return p.forEach(T=>{g=g.next(()=>h.getEntry(l,T)).next(_=>{const P=c.docVersions.get(T);Y(P!==null,48541),_.version.compareTo(P)<0&&(d.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),h.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ne();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nx(t){const e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function QB(t,e){const n=W(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const a=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;a.push(n.li.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.li.addMatchingKeys(s,h.addedDocuments,d)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Ye.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(_,P,v){return _.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=GB?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,g,h)&&a.push(n.li.updateTargetData(s,g))});let l=Xt(),c=ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(rx(s,o,e.documentUpdates).next(h=>{l=h.Bs,c=h.Ls})),!r.isEqual(J.min())){const h=n.li.getLastRemoteSnapshotVersion(s).next(d=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.vs=i,s))}function rx(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xt();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):U(dE,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Bs:o,Ls:i}})}function YB(t,e){const n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ji),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xa(t,e){const n=W(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.li.allocateTargetId(r).next(o=>(i=new Dr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function ka(t,e,n){const r=W(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!rs(o))throw o;U(dE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function uf(t,e,n){const r=W(t);let i=J.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=W(l),p=d.Fs.get(h);return p!==void 0?N.resolve(d.vs.get(p)):d.li.getTargetData(c,h)}(r,o,$t(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ne())).next(a=>(ox(r,ab(e),a),{documents:a,ks:s})))}function ix(t,e){const n=W(t),r=W(n.li),i=n.vs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.At(s,e).next(o=>o?o.target:null))}function sx(t,e){const n=W(t),r=n.Ms.get(e)||J.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.xs.getAllFromCollectionGroup(i,e,TC(r,ya),Number.MAX_SAFE_INTEGER)).then(i=>(ox(n,e,i),i))}function ox(t,e,n){let r=t.Ms.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ms.set(e,r)}async function JB(t,e,n,r){const i=W(t);let s=ne(),o=Xt();for(const c of n){const h=e.Ks(c.metadata.name);c.document&&(s=s.add(h));const d=e.qs(c);d.setReadTime(e.Us(c.metadata.readTime)),o=o.insert(h,d)}const a=i.xs.newChangeBuffer({trackRemovals:!0}),l=await xa(i,function(h){return $t(Ja(oe.fromString(`__bundle__/docs/${h}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>rx(c,a,o).next(h=>(a.apply(c),h)).next(h=>i.li.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.li.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,h.Bs,h.Ls)).next(()=>h.Bs)))}async function XB(t,e,n=ne()){const r=await xa(t,$t(bp(e.bundledQuery))),i=W(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=et(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Pi.saveNamedQuery(s,e);const a=r.withResumeToken(Ye.EMPTY_BYTE_STRING,o);return i.vs=i.vs.insert(a.targetId,a),i.li.updateTargetData(s,a).next(()=>i.li.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.li.addMatchingKeys(s,n,r.targetId)).next(()=>i.Pi.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firestore_clients";function gS(t,e){return`${ax}_${t}_${e}`}const lx="firestore_mutations";function yS(t,e,n){let r=`${lx}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const ux="firestore_targets";function rg(t,e){return`${ux}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="SharedClientState";class cf{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static $s(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new $(i.error.code,i.error.message))),o?new cf(e,n,i.state,s):(Xe(hr,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static $s(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new $(r.error.code,r.error.message))),s?new vu(e,r.state,i):(Xe(hr,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static $s(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Jv();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=CC(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new hf(e,s):(Xe(hr,`Failed to parse client data for instance '${e}': ${n}`),null)}}class fE{constructor(e,n){this.clientId=e,this.onlineState=n}static $s(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new fE(n.clientId,n.onlineState):(Xe(hr,`Failed to parse online state: ${e}`),null)}}class Ky{constructor(){this.activeTargetIds=Jv()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ig{constructor(e,n,r,i,s){this.window=e,this.Ci=n,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new xe(X),this.started=!1,this.Zs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Xs=gS(this.persistenceKey,this.zs),this.Ys=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Ky),this.eo=new RegExp(`^${ax}_${o}_([^_]*)$`),this.no=new RegExp(`^${lx}_${o}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${ux}_${o}_(\\d+)$`),this.io=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.so=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(gS(this.persistenceKey,r));if(i){const s=hf.$s(r,i);s&&(this.Js=this.Js.insert(s.clientId,s))}}this.oo();const n=this.storage.getItem(this.io);if(n){const r=this._o(n);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let n=!1;return this.Js.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,n,r){this.co(e,n,r),this.lo(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(rg(this.persistenceKey,e));if(i){const s=vu.$s(e,i);s&&(r=s.state)}}return n&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rg(this.persistenceKey,e))}updateQueryState(e,n,r){this.Po(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.lo(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return U(hr,"READ",e,n),n}setItem(e,n){U(hr,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){U(hr,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(U(hr,"EVENT",n.key,n.newValue),n.key===this.Xs)return void Xe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.eo.test(n.key)){if(n.newValue==null){const r=this.Eo(n.key);return this.Ro(r,null)}{const r=this.Ao(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(n.key)){if(n.newValue!==null){const r=this.Vo(n.key,n.newValue);if(r)return this.mo(r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(n.key===this.io){if(n.newValue!==null){const r=this._o(n.newValue);if(r)return this.ao(r)}}else if(n.key===this.Ys){const r=function(s){let o=Yt.ce;if(s!=null)try{const a=JSON.parse(s);Y(typeof a=="number",30636,{yo:s}),o=a}catch(a){Xe(hr,"Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Yt.ce&&this.sequenceNumberHandler(r)}else if(n.key===this.so){const r=this.wo(n.newValue);await Promise.all(r.map(i=>this.syncEngine.bo(i)))}}}else this.Zs.push(n)})}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,n,r){const i=new cf(this.currentUser,e,n,r),s=yS(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ws())}lo(e){const n=yS(this.persistenceKey,this.currentUser,e);this.removeItem(n)}To(e){const n={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(n))}Po(e,n,r){const i=rg(this.persistenceKey,e),s=new vu(e,n,r);this.setItem(i,s.Ws())}Io(e){const n=JSON.stringify(Array.from(e));this.setItem(this.so,n)}Eo(e){const n=this.eo.exec(e);return n?n[1]:null}Ao(e,n){const r=this.Eo(e);return hf.$s(r,n)}Vo(e,n){const r=this.no.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return cf.$s(new vt(s),i,n)}fo(e,n){const r=this.ro.exec(e),i=Number(r[1]);return vu.$s(i,n)}_o(e){return fE.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);U(hr,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Js.insert(e,n):this.Js.remove(e),i=this.uo(this.Js),s=this.uo(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Co(o,a).then(()=>{this.Js=r})}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let n=Jv();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class cx{constructor(){this.vo=new Ky,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ky,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="ConnectivityMonitor";class vS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){U(_S,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){U(_S,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh=null;function Hy(){return xh===null?xh=function(){return 268435456+Math.round(2147483648*Math.random())}():xh++,"0x"+xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="RestConnection",e9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class t9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===ec?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Hy(),a=this.Qo(e,n.toUriEncodedString());U(sg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,s);const{host:c}=new URL(a),h=io(c);return this.zo(e,a,l,r,h).then(d=>(U(sg,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Mn(sg,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Qo(e,n){const r=e9[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection",zl=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class ra extends t9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ra.c_){const e=gC();zl(e,mC.STAT_EVENT,n=>{n.stat===Ay.PROXY?U(Dt,"STAT_EVENT: detected buffering proxy"):n.stat===Ay.NOPROXY&&U(Dt,"STAT_EVENT: detected no buffering proxy")}),ra.c_=!0}}zo(e,n,r,i,s){const o=Hy();return new Promise((a,l)=>{const c=new fC;c.setWithCredentials(!0),c.listenOnce(pC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ed.NO_ERROR:const d=c.getResponseJson();U(Dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case ed.TIMEOUT:U(Dt,`RPC '${e}' ${o} timed out`),l(new $(O.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const p=c.getStatus();if(U(Dt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const _=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(y)>=0?y:O.UNKNOWN}(T.status);l(new $(_,T.message))}else l(new $(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new $(O.UNAVAILABLE,"Connection failed."));break;default:H(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{U(Dt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);U(Dt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Hy(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=s.join("");U(Dt,`Creating RPC '${e}' stream ${i}: ${c}`,a);const h=o.createWebChannel(c,a);this.I_(h);let d=!1,p=!1;const g=new n9({Ho:T=>{p?U(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(d||(U(Dt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),U(Dt,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},Jo:()=>h.close()});return zl(h,Ql.EventType.OPEN,()=>{p||(U(Dt,`RPC '${e}' stream ${i} transport opened.`),g.i_())}),zl(h,Ql.EventType.CLOSE,()=>{p||(p=!0,U(Dt,`RPC '${e}' stream ${i} transport closed`),g.o_(),this.E_(h))}),zl(h,Ql.EventType.ERROR,T=>{p||(p=!0,Mn(Dt,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),g.o_(new $(O.UNAVAILABLE,"The operation could not be completed")))}),zl(h,Ql.EventType.MESSAGE,T=>{var _;if(!p){const P=T.data[0];Y(!!P,16349);const v=P,y=(v==null?void 0:v.error)||((_=v[0])==null?void 0:_.error);if(y){U(Dt,`RPC '${e}' stream ${i} received error:`,y);const S=y.status;let k=function(E){const w=it[E];if(w!==void 0)return Ib(w)}(S),F=y.message;k===void 0&&(k=O.INTERNAL,F="Unknown error status: "+S+" with message "+y.message),p=!0,g.o_(new $(k,F)),h.close()}else U(Dt,`RPC '${e}' stream ${i} received:`,P),g.__(P)}}),ra.u_(),setTimeout(()=>{g.s_()},0),g}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return yC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t){return new ra(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return typeof window<"u"?window:null}function ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){return new uB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ra.c_=!1;class pE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="PersistentStream";class dx{constructor(e,n,r,i,s,o,a,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return U(ES,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(U(ES,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i9 extends dx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dB(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?et(o.readTime):J.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=jy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=tf(l)?{documents:kb(s,l)}:{query:Cp(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Rb(s,o.resumeToken);const c=Uy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=ba(s,o.snapshotVersion.toTimestamp());const c=Uy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=pB(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=jy(this.serializer),n.removeTarget=e,this.K_(n)}}class s9 extends dx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Y(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Y(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Y(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fB(e.writeResults,e.commitTime),r=et(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sc(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{}class a9 extends o9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,By(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(O.UNKNOWN,s.toString())})}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,By(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function l9(t,e,n,r){return new a9(t,e,n,r)}class u9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xe(n),this.aa=!1):U("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class c9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{ss(this)&&(U(Zs,"Restarting streams for network reachability change."),await async function(l){const c=W(l);c.Ea.add(4),await el(c),c.Va.set("Unknown"),c.Ea.delete(4),await Vc(c)}(this))})}),this.Va=new u9(r,i)}}async function Vc(t){if(ss(t))for(const e of t.Ra)await e(!0)}async function el(t){for(const e of t.Ra)await e(!1)}function Np(t,e){const n=W(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yE(n)?gE(n):nl(n).O_()&&mE(n,e))}function Va(t,e){const n=W(t),r=nl(n);n.Ia.delete(e),r.O_()&&fx(n,e),n.Ia.size===0&&(r.O_()?r.L_():ss(n)&&n.Va.set("Unknown"))}function mE(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).Z_(e)}function fx(t,e){t.da.$e(e),nl(t).X_(e)}function gE(t){t.da=new sB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.Va.ua()}function yE(t){return ss(t)&&!nl(t).x_()&&t.Ia.size>0}function ss(t){return W(t).Ea.size===0}function px(t){t.da=void 0}async function h9(t){t.Va.set("Online")}async function d9(t){t.Ia.forEach((e,n)=>{mE(t,e)})}async function f9(t,e){px(t),yE(t)?(t.Va.ha(e),gE(t)):t.Va.set("Unknown")}async function p9(t,e,n){if(t.Va.set("Online"),e instanceof Ab&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.da.removeTarget(a))}(t,e)}catch(r){U(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await df(t,r)}else if(e instanceof ad?t.da.Xe(e):e instanceof Sb?t.da.st(e):t.da.tt(e),!n.isEqual(J.min()))try{const r=await nx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.da.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Ye.EMPTY_BYTE_STRING,h.snapshotVersion)),fx(s,l);const d=new Dr(h.target,l,c,h.sequenceNumber);mE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){U(Zs,"Failed to raise snapshot:",r),await df(t,r)}}async function df(t,e,n){if(!rs(e))throw e;t.Ea.add(1),await el(t),t.Va.set("Offline"),n||(n=()=>nx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U(Zs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vc(t)})}function mx(t,e){return e().catch(n=>df(t,n,e))}async function tl(t){const e=W(t),n=Qi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ji;for(;m9(e);)try{const i=await YB(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,g9(e,i)}catch(i){await df(e,i)}gx(e)&&yx(e)}function m9(t){return ss(t)&&t.Ta.length<10}function g9(t,e){t.Ta.push(e);const n=Qi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function gx(t){return ss(t)&&!Qi(t).x_()&&t.Ta.length>0}function yx(t){Qi(t).start()}async function y9(t){Qi(t).ra()}async function _9(t){const e=Qi(t);for(const n of t.Ta)e.ea(n.mutations)}async function v9(t,e,n){const r=t.Ta.shift(),i=tE.from(r,e,n);await mx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tl(t)}async function E9(t,e){e&&Qi(t).Y_&&await async function(r,i){if(function(o){return wb(o)&&o!==O.ABORTED}(i.code)){const s=r.Ta.shift();Qi(r).B_(),await mx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tl(r)}}(t,e),gx(t)&&yx(t)}async function wS(t,e){const n=W(t);n.asyncQueue.verifyOperationInProgress(),U(Zs,"RemoteStore received new credentials");const r=ss(n);n.Ea.add(3),await el(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vc(n)}async function Qy(t,e){const n=W(t);e?(n.Ea.delete(2),await Vc(n)):e||(n.Ea.add(2),await el(n),n.Va.set("Unknown"))}function nl(t){return t.ma||(t.ma=function(n,r,i){const s=W(n);return s.sa(),new i9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:h9.bind(null,t),Yo:d9.bind(null,t),t_:f9.bind(null,t),J_:p9.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),yE(t)?gE(t):t.Va.set("Unknown")):(await t.ma.stop(),px(t))})),t.ma}function Qi(t){return t.fa||(t.fa=function(n,r,i){const s=W(n);return s.sa(),new s9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:y9.bind(null,t),t_:E9.bind(null,t),ta:_9.bind(null,t),na:v9.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await tl(t)):(await t.fa.stop(),t.Ta.length>0&&(U(Zs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new It,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _E(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rl(t,e){if(Xe("AsyncQueue",`${e}: ${t}`),rs(t))return new $(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ms;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.ga=new xe(q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):H(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class eo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new eo(e,n,Ms.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class I9{constructor(){this.queries=TS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=W(n),s=i.queries;i.queries=TS(),s.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new $(O.ABORTED,"Firestore shutting down"))}}function TS(){return new Jr(t=>ob(t),Pc)}async function vE(t,e){const n=W(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new w9,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=rl(o,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&wE(n)}async function EE(t,e){const n=W(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function T9(t,e){const n=W(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ba)a.Fa(i)&&(r=!0);o.wa=i}}r&&wE(n)}function S9(t,e,n){const r=W(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function wE(t){t.Ca.forEach(e=>{e.next()})}var Yy,SS;(SS=Yy||(Yy={})).Ma="default",SS.Cache="cache";class IE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yy.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.qa=e,this.byteLength=n}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.serializer=e}Ks(e){return Er(this.serializer,e)}qs(e){return e.metadata.exists?Pp(this.serializer,e.document,!1):Ne.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return et(e)}}class TE{constructor(e,n){this.$a=e,this.serializer=n,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=vx(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++n;const r=oe.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new AS(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ks(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ne()).add(s);n.set(o,a)}}return n}async ja(e){const n=await JB(e,new AS(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await XB(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:n}}}function vx(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.key=e}}class wx{constructor(e){this.key=e}}class Ix{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ne(),this.mutatedKeys=ne(),this.eu=lb(e),this.tu=new Ms(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new IS,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),g=Cc(this.query,d)?d:null,T=!!p&&this.mutatedKeys.has(p.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;p&&g?p.data.isEqual(g.data)?T!==_&&(r.track({type:3,doc:g}),P=!0):this.su(p,g)||(r.track({type:2,doc:g}),P=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),P=!0):p&&!g&&(r.track({type:1,doc:p}),P=!0,(l||c)&&(a=!0)),P&&(g?(o=o.add(g),s=_?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(g,T){const _=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{Vt:P})}};return _(g)-_(T)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Xa;return this.Xa=l,o.length!==0||c?{snapshot:new eo(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new wx(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Ex(r))}),n}cu(e){this.Za=e.ks,this.Ya=ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const os="SyncEngine";class A9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class R9{constructor(e){this.key=e,this.hu=!1}}class P9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Jr(a=>ob(a),Pc),this.Iu=new Map,this.Eu=new Set,this.Ru=new xe(q.comparator),this.Au=new Map,this.Vu=new aE,this.du={},this.mu=new Map,this.fu=Xs.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C9(t,e,n=!0){const r=Dp(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Tx(r,e,n,!0),i}async function b9(t,e){const n=Dp(t);await Tx(n,e,!0,!1)}async function Tx(t,e,n,r){const i=await xa(t.localStore,$t(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await SE(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Np(t.remoteStore,i),a}async function SE(t,e,n,r,i){t.pu=(d,p,g)=>async function(_,P,v,y){let S=P.view.ru(v);S.Ss&&(S=await uf(_.localStore,P.query,!1).then(({documents:E})=>P.view.ru(E,S)));const k=y&&y.targetChanges.get(P.targetId),F=y&&y.targetMismatches.get(P.targetId)!=null,M=P.view.applyChanges(S,_.isPrimaryClient,k,F);return Jy(_,P.targetId,M.au),M.snapshot}(t,d,p,g);const s=await uf(t.localStore,e,!0),o=new Ix(e,s.ks),a=o.ru(s.documents),l=kc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Jy(t,n,c.au);const h=new A9(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function x9(t,e,n){const r=W(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Pc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ka(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Va(r.remoteStore,i.targetId),Na(r,i.targetId)}).catch(ns)):(Na(r,i.targetId),await ka(r.localStore,i.targetId,!0))}async function k9(t,e){const n=W(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Va(n.remoteStore,r.targetId))}async function V9(t,e,n){const r=CE(t);try{const i=await function(o,a){const l=W(o),c=me.now(),h=a.reduce((g,T)=>g.add(T.key),ne());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=Xt(),_=ne();return l.xs.getEntries(g,h).next(P=>{T=P,T.forEach((v,y)=>{y.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,T)).next(P=>{d=P;const v=[];for(const y of a){const S=tB(y,d.get(y.key).overlayedDocument);S!=null&&v.push(new Xr(y.key,S,QC(S.value.mapValue),$e.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,v,a)}).next(P=>{p=P;const v=P.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(g,P.batchId,v)})}).then(()=>({batchId:p.batchId,changes:cb(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.du[o.currentUser.toKey()];c||(c=new xe(X)),c=c.insert(a,l),o.du[o.currentUser.toKey()]=c}(r,i.batchId,n),await Zr(r,i.changes),await tl(r.remoteStore)}catch(i){const s=rl(i,"Failed to persist write");n.reject(s)}}async function Sx(t,e){const n=W(t);try{const r=await QB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Y(o.hu,14607):i.removedDocuments.size>0&&(Y(o.hu,42227),o.hu=!1))}),await Zr(n,r,e)}catch(r){await ns(r)}}function RS(t,e,n){const r=W(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=W(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const p of d.ba)p.va(a)&&(c=!0)}),c&&wE(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N9(t,e,n){const r=W(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new xe(q.comparator);o=o.insert(s,Ne.newNoDocument(s,J.min()));const a=ne().add(s),l=new xc(J.min(),new Map,new xe(X),o,a);await Sx(r,l),r.Ru=r.Ru.remove(s),r.Au.delete(e),PE(r)}else await ka(r.localStore,e,!1).then(()=>Na(r,e,n)).catch(ns)}async function D9(t,e){const n=W(t),r=e.batch.batchId;try{const i=await HB(n.localStore,e);RE(n,r,null),AE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zr(n,i)}catch(i){await ns(i)}}async function O9(t,e,n){const r=W(t);try{const i=await function(o,a){const l=W(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Y(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);RE(r,e,n),AE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zr(r,i)}catch(i){await ns(i)}}async function M9(t,e){const n=W(t);ss(n.remoteStore)||U(os,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=W(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===ji)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=rl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function AE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function RE(t,e,n){const r=W(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Na(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||Ax(t,r)})}function Ax(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Va(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),PE(t))}function Jy(t,e,n){for(const r of n)r instanceof Ex?(t.Vu.addReference(r.key,e),L9(t,r)):r instanceof wx?(U(os,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Ax(t,r.key)):H(19791,{wu:r})}function L9(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(U(os,"New document in limbo: "+n),t.Eu.add(r),PE(t))}function PE(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new q(oe.fromString(e)),r=t.fu.next();t.Au.set(r,new R9(n)),t.Ru=t.Ru.insert(n,r),Np(t.remoteStore,new Dr($t(Ja(n.path)),r,"TargetPurposeLimboResolution",Yt.ce))}}async function Zr(t,e,n){const r=W(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=hE.Es(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(l,c){const h=W(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>N.forEach(c,p=>N.forEach(p.Ts,g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>N.forEach(p.Is,g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!rs(d))throw d;U(dE,"Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=h.vs.get(p),T=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(T);h.vs=h.vs.insert(p,_)}}}(r.localStore,s))}async function F9(t,e){const n=W(t);if(!n.currentUser.isEqual(e)){U(os,"User change. New user:",e.toKey());const r=await tx(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new $(O.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zr(n,r.Ns)}}function $9(t,e){const n=W(t),r=n.Au.get(e);if(r&&r.hu)return ne().add(r.key);{let i=ne();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}async function U9(t,e){const n=W(t),r=await uf(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&Jy(n,e.targetId,i.au),i}async function B9(t,e){const n=W(t);return sx(n.localStore,e).then(r=>Zr(n,r))}async function j9(t,e,n,r){const i=W(t),s=await function(a,l){const c=W(a),h=W(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>h.Xn(d,l).next(p=>p?c.localDocuments.getDocuments(d,p):N.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await tl(i.remoteStore):n==="acknowledged"||n==="rejected"?(RE(i,e,r||null),AE(i,e),function(a,l){W(W(a).mutationQueue).nr(l)}(i.localStore,e)):H(6720,"Unknown batchState",{bu:n}),await Zr(i,s)):U(os,"Cannot apply mutation batch with id: "+e)}async function z9(t,e){const n=W(t);if(Dp(n),CE(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await PS(n,r.toArray());n.gu=!0,await Qy(n.remoteStore,!0);for(const s of i)Np(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Na(n,o),ka(n.localStore,o,!0))),Va(n.remoteStore,o)}),await i,await PS(n,r),function(o){const a=W(o);a.Au.forEach((l,c)=>{Va(a.remoteStore,c)}),a.Vu.zr(),a.Au=new Map,a.Ru=new xe(q.comparator)}(n),n.gu=!1,await Qy(n.remoteStore,!1)}}async function PS(t,e,n){const r=W(t),i=[],s=[];for(const o of e){let a;const l=r.Iu.get(o);if(l&&l.length!==0){a=await xa(r.localStore,$t(l[0]));for(const c of l){const h=r.Tu.get(c),d=await U9(r,h);d.snapshot&&s.push(d.snapshot)}}else{const c=await ix(r.localStore,o);a=await xa(r.localStore,c),await SE(r,Rx(c),o,!1,a.resumeToken)}i.push(a)}return r.Pu.J_(s),i}function Rx(t){return rb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function q9(t){return function(n){return W(W(n).persistence).hs()}(W(t).localStore)}async function W9(t,e,n,r){const i=W(t);if(i.gu)return void U(os,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await sx(i.localStore,ab(s[0])),a=xc.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ye.EMPTY_BYTE_STRING);await Zr(i,o,a);break}case"rejected":await ka(i.localStore,e,!0),Na(i,e,r);break;default:H(64155,n)}}async function G9(t,e,n){const r=Dp(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){U(os,"Adding an already active target "+i);continue}const s=await ix(r.localStore,i),o=await xa(r.localStore,s);await SE(r,Rx(s),o.targetId,!1,o.resumeToken),Np(r.remoteStore,o)}for(const i of n)r.Iu.has(i)&&await ka(r.localStore,i,!1).then(()=>{Va(r.remoteStore,i),Na(r,i)}).catch(ns)}}function Dp(t){const e=W(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N9.bind(null,e),e.Pu.J_=T9.bind(null,e.eventManager),e.Pu.yu=S9.bind(null,e.eventManager),e}function CE(t){const e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O9.bind(null,e),e}function K9(t,e,n){const r=W(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(g,T){const _=W(g),P=et(T.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",v=>_.Pi.getBundleMetadata(v,T.id)).then(v=>!!v&&v.createTime.compareTo(P)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(vx(l));const c=new TE(l,o.serializer);let h=await o.Su();for(;h;){const p=await c.Ga(h);p&&a._updateProgress(p),h=await o.Su()}const d=await c.ja(s.localStore);return await Zr(s,d.Ja,void 0),await function(g,T){const _=W(g);return _.persistence.runTransaction("Save bundle","readwrite",P=>_.Pi.saveBundleMetadata(P,T))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.Ha)}catch(l){return Mn(os,`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Da{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oo(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ex(this.persistence,new Zb,e.initialUser,this.serializer)}Cu(e){return new lE(Vp.Vi,this.serializer)}Du(e){return new cx}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Da.provider={build:()=>new Da};class bE extends Da{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Y(this.persistence.referenceDelegate instanceof lf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Kb(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new lE(r=>lf.Vi(r,n),this.serializer)}}class xE extends Da{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await CE(this.xu.syncEngine),await tl(this.xu.remoteStore),await this.persistence.zi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return ex(this.persistence,new Zb,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Kb(r,e.asyncQueue,n)}Mu(e,n){const r=new tU(n,this.persistence);return new eU(e.asyncQueue,r)}Cu(e){const n=cE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new uE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,hx(),ud(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new cx}}class Px extends xE{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof ig&&(this.sharedClientState.syncEngine={So:j9.bind(null,n),Do:W9.bind(null,n),Co:G9.bind(null,n),hs:q9.bind(null,n),bo:B9.bind(null,n)},await this.sharedClientState.start()),await this.persistence.zi(async r=>{await z9(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const n=hx();if(!ig.v(n))throw new $(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=cE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ig(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Yi{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F9.bind(null,this.syncEngine),await Qy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I9}()}createDatastore(e){const n=oo(e.databaseInfo.databaseId),r=r9(e.databaseInfo);return l9(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new c9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RS(this.syncEngine,n,0),function(){return vS.v()?new vS:new ZB}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new P9(i,s,o,a,l,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=W(i);U(Zs,"RemoteStore shutting down."),s.Ea.add(5),await el(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Yi.provider={build:()=>new Yi};function CS(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xe("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new It,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.qu(`length string (${n}) is not valid number`);const i=await this.Uu(r);return new _x(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex(e=>e===123)}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n){this.bundleData=e,this.serializer=n,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r==null?void 0:r.qa)}`);this.metadata=r;do r=this.Su(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.Ku(),n=this.Uu(e);return new _x(JSON.parse(n),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new $(O.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){const e=this.cursor;let n=this.cursor;for(;n<this.bundleData.length;){if(this.bundleData[n]==="{"){if(n===e)throw new Error("First character is a bracket and not a number");return this.cursor=n,Number(this.bundleData.slice(e,n))}n++}throw new Error("Reached the end of bundle when more is expected.")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y9=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=W(i),a={documents:s.map(d=>ic(o.serializer,d))},l=await o.jo("BatchGetDocuments",o.serializer.databaseId,oe.emptyPath(),a,s.length),c=new Map;l.forEach(d=>{const p=hB(o.serializer,d);c.set(p.key.toString(),p)});const h=[];return s.forEach(d=>{const p=c.get(d.toString());Y(!!p,55234,{key:d}),h.push(p)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Za(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=q.fromPath(r);this.mutations.push(new Zv(i,this.precondition(i)))}),await async function(r,i){const s=W(r),o={writes:i.map(a=>sc(s.serializer,a))};await s.Wo("Commit",s.serializer.databaseId,oe.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw H(50498,{Gu:e.constructor.name});n=J.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(J.min())?$e.exists(!1):$e.updateTime(n):$e.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(J.min()))throw new $(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $e.updateTime(n)}return $e.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new pE(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_(async()=>{const e=new Y9(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Zu(i)}))}).catch(r=>{this.Zu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!Sc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Hu(),Promise.resolve()))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!wb(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="FirestoreClient";class X9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=$v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{U(Ji,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U(Ji,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new It;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),U(Ji,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kE(t);U(Ji,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wS(e.remoteStore,i)),t._onlineComponents=e}async function kE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U(Ji,"Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Mn("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new Da)}}else U(Ji,"Using default OfflineComponentProvider"),await og(t,new bE(void 0));return t._offlineComponents}async function Mp(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U(Ji,"Using user provided OnlineComponentProvider"),await bS(t,t._uninitializedComponentsProvider._online)):(U(Ji,"Using default OnlineComponentProvider"),await bS(t,new Yi))),t._onlineComponents}function Cx(t){return kE(t).then(e=>e.persistence)}function il(t){return kE(t).then(e=>e.localStore)}function bx(t){return Mp(t).then(e=>e.remoteStore)}function VE(t){return Mp(t).then(e=>e.syncEngine)}function xx(t){return Mp(t).then(e=>e.datastore)}async function Oa(t){const e=await Mp(t),n=e.eventManager;return n.onListen=C9.bind(null,e.syncEngine),n.onUnlisten=x9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k9.bind(null,e.syncEngine),n}function Z9(t){return t.asyncQueue.enqueue(async()=>{const e=await Cx(t),n=await bx(t);return e.setNetworkEnabled(!0),function(i){const s=W(i);return s.Ea.delete(0),Vc(s)}(n)})}function ej(t){return t.asyncQueue.enqueue(async()=>{const e=await Cx(t),n=await bx(t);return e.setNetworkEnabled(!1),async function(i){const s=W(i);s.Ea.add(0),await el(s),s.Va.set("Offline")}(n)})}function tj(t,e,n,r){const i=new Op(r),s=new IE(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>vE(await Oa(t),s)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>EE(await Oa(t),s))}}function nj(t,e){const n=new It;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,h){const d=W(c);return d.persistence.runTransaction("read document","readonly",p=>d.localDocuments.getDocument(p,h))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new $(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=rl(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await il(t),e,n)),n.promise}function kx(t,e,n={}){const r=new It;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Op({next:p=>{h.Nu(),o.enqueueAndForget(()=>EE(s,d));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new $(O.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new $(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new IE(Ja(a.path),h,{includeMetadataChanges:!0,Ka:!0});return vE(s,d)}(await Oa(t),t.asyncQueue,e,n,r)),r.promise}function rj(t,e){const n=new It;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await uf(i,s,!0),l=new Ix(s,a.ks),c=l.ru(a.documents),h=l.applyChanges(c,!1);o.resolve(h.snapshot)}catch(a){const l=rl(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await il(t),e,n)),n.promise}function Vx(t,e,n={}){const r=new It;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Op({next:p=>{h.Nu(),o.enqueueAndForget(()=>EE(s,d)),p.fromCache&&l.source==="server"?c.reject(new $(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new IE(a,h,{includeMetadataChanges:!0,Ka:!0});return vE(s,d)}(await Oa(t),t.asyncQueue,e,n,r)),r.promise}function ij(t,e,n){const r=new It;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await xx(t);r.resolve(async function(o,a,l){var _;const c=W(o),{request:h,gt:d,parent:p}=Vb(c.serializer,ib(a),l);c.connection.Ko||delete h.parent;const g=(await c.jo("RunAggregationQuery",c.serializer.databaseId,p,h,1)).filter(P=>!!P.result);Y(g.length===1,64727);const T=(_=g[0].result)==null?void 0:_.aggregateFields;return Object.keys(T).reduce((P,v)=>(P[d[v]]=T[v],P),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}function sj(t,e){const n=new It;return t.asyncQueue.enqueueAndForget(async()=>V9(await VE(t),e,n)),n.promise}function oj(t,e){const n=new Op(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){W(i).Ca.add(s),s.next()}(await Oa(t),n)),()=>{n.Nu(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){W(i).Ca.delete(s)}(await Oa(t),n))}}function aj(t,e,n){const r=new It;return t.asyncQueue.enqueueAndForget(async()=>{const i=await xx(t);new J9(t.asyncQueue,i,n,e,r).ju()}),r.promise}function lj(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?Tb().encode(o):o,function(h,d){return new H9(h,d)}(function(h,d){if(h instanceof Uint8Array)return CS(h,d);if(h instanceof ArrayBuffer)return CS(new Uint8Array(h),d);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,oo(e));t.asyncQueue.enqueueAndForget(async()=>{K9(await VE(t),i,r)})}function uj(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=W(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Pi.getNamedQuery(o,i))}(await il(t),e))}function Nx(t,e){return function(r,i){return new Q9(r,i)}(t,e)}function cj(t,e){return t.asyncQueue.enqueue(async()=>async function(r,i){const s=W(r),o=s.indexManager,a=[];return s.persistence.runTransaction("Configure indexes","readwrite",l=>o.getFieldIndexes(l).next(c=>function(d,p,g,T,_){d=[...d],p=[...p],d.sort(g),p.sort(g);const P=d.length,v=p.length;let y=0,S=0;for(;y<v&&S<P;){const k=g(d[S],p[y]);k<0?_(d[S++]):k>0?T(p[y++]):(y++,S++)}for(;y<v;)T(p[y++]);for(;S<P;)_(d[S++])}(c,i,Y$,h=>{a.push(o.addFieldIndex(l,h))},h=>{a.push(o.deleteFieldIndex(l,h))})).next(()=>N.waitFor(a)))}(await il(t),e))}function hj(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){W(r).Cs.As=i}(await il(t),e))}function dj(t){return t.asyncQueue.enqueue(async()=>function(n){const r=W(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",s=>i.deleteAllFieldIndexes(s))}(await il(t)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="ComponentProvider",xS=new Map;function pj(t,e,n,r,i){return new bU(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Dx(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="firestore.googleapis.com",kS=!0;class VS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ox,this.ssl=kS}else this.host=e.host,this.ssl=e.ssl??kS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gb)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dx(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $$;switch(r.type){case"firstParty":return new z$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xS.get(n);r&&(U(fj,"Removing Datastore"),xS.delete(n),r.terminate())}(this),Promise.resolve()}}function mj(t,e,n,r={}){var c;t=ae(t,Nc);const i=io(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Av(`https://${a}`),AP("Firestore",!0)),s.host!==Ox&&s.host!==a&&Mn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Zn(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=vt.MOCK_USER;else{h=u3(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new $(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new vt(p)}t._authCredentials=new U$(new vC(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tt(this.firestore,e,this._query)}}class we{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(so(n,we._jsonSchema))return new we(e,r||null,new q(oe.fromString(n.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:at("string",we._jsonSchemaVersion),referencePath:at("string")};class wr extends Tt{constructor(e,n,r){super(e,n,Ja(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new q(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function vz(t,e,...n){if(t=Se(t),Uv("collection","path",e),t instanceof Nc){const r=oe.fromString(e,...n);return ET(r),new wr(t,null,r)}{if(!(t instanceof we||t instanceof wr))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(oe.fromString(e,...n));return ET(r),new wr(t.firestore,null,r)}}function Ez(t,e){if(t=ae(t,Nc),Uv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Tt(t,null,function(r){return new Yr(oe.emptyPath(),r)}(e))}function gj(t,e,...n){if(t=Se(t),arguments.length===1&&(e=$v.newId()),Uv("doc","path",e),t instanceof Nc){const r=oe.fromString(e,...n);return vT(r),new we(t,null,new q(r))}{if(!(t instanceof we||t instanceof wr))throw new $(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(oe.fromString(e,...n));return vT(r),new we(t.firestore,t instanceof wr?t.converter:null,new q(r))}}function wz(t,e){return t=Se(t),e=Se(e),(t instanceof we||t instanceof wr)&&(e instanceof we||e instanceof wr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Mx(t,e){return t=Se(t),e=Se(e),t instanceof Tt&&e instanceof Tt&&t.firestore===e.firestore&&Pc(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="AsyncQueue";class DS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pE(this,"async_queue_retry"),this._c=()=>{const r=ud();r&&U(NS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ud();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new It;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!rs(e))throw e;U(NS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xe("INTERNAL UNHANDLED ERROR: ",OS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=_E.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&H(47125,{Pc:OS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this._progressObserver={},this._taskCompletionResolver=new It,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=-1;class Ae extends Nc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new DS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DS(e),this._firestoreClient=void 0,await e}}}function Tz(t,e,n){n||(n=ec);const r=Ec(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Zn(s,e))return i;throw new $(O.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new $(O.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gb)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&io(e.host)&&Av(e.host),r.initialize({options:e,instanceIdentifier:n})}function _j(t,e){const n=typeof t=="object"?t:NP(),r=typeof t=="string"?t:e||ec,i=Ec(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=a3("firestore");s&&mj(i,...s)}return i}function qe(t){if(t._terminated)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Lx(t),t._firestoreClient}function Lx(t){var r,i,s,o;const e=t._freezeSettings(),n=pj(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new X9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function Sz(t,e){Mn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Fx(t,Yi.provider,{build:r=>new xE(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Az(t){Mn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();Fx(t,Yi.provider,{build:n=>new Px(n,e.cacheSizeBytes)})}function Fx(t,e,n){if((t=ae(t,Ae))._firestoreClient||t._terminated)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new $(O.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Lx(t)}function Rz(t){if(t._initialized&&!t._terminated)throw new $(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new It;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!vr.v())return Promise.resolve();const i=r+Xb;await vr.delete(i)}(cE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Pz(t){return function(n){const r=new It;return n.asyncQueue.enqueueAndForget(async()=>M9(await VE(n),r)),r.promise}(qe(t=ae(t,Ae)))}function Cz(t){return Z9(qe(t=ae(t,Ae)))}function bz(t){return ej(qe(t=ae(t,Ae)))}function xz(t){return w5(t.app,"firestore",t._databaseId.database),t._delete()}function MS(t,e){const n=qe(t=ae(t,Ae)),r=new yj;return lj(n,t._databaseId,e,r),r}function vj(t,e){return uj(qe(t=ae(t,Ae)),e).then(n=>n?new Tt(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(Ye.fromBase64String(e))}catch(n){throw new $(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ln(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(so(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:at("string",ln._jsonSchemaVersion),bytes:at("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function kz(){return new sl(Cy)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(so(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:at("string",Ir._jsonSchemaVersion),latitude:at("number"),longitude:at("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(so(e,Vn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Vn(e.vectorValues);throw new $(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vn._jsonSchemaVersion="firestore/vectorValue/1.0",Vn._jsonSchema={type:at("string",Vn._jsonSchemaVersion),vectorValues:at("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=/^__.*__$/;class wj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xa(e,this.data,n,this.fieldTransforms)}}class $x{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ux(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{dataSource:t})}}class Lp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ff(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Ux(this.dataSource)&&Ej.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Ij{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||oo(e)}createContext(e,n,r,i=!1){return new Lp({dataSource:e,methodName:n,targetDoc:r,path:Fe.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lo(t){const e=t._freezeSettings(),n=oo(t._databaseId);return new Ij(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fp(t,e,n,r,i,s={}){const o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);$E("Data must be an object, but it was:",o,r);const a=zx(r,o);let l,c;if(s.merge)l=new Jt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const p=qr(e,d,n);if(!o.contains(p))throw new $(O.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Wx(h,p)||h.push(p)}l=new Jt(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new wj(new Et(a),l,c)}class Dc extends ao{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dc}}function Bx(t,e,n){return new Lp({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class NE extends ao{_toFieldTransform(e){return new bc(e.path,new Pa)}isEqual(e){return e instanceof NE}}class DE extends ao{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=Bx(this,e,!0),r=this.Ac.map(s=>uo(s,n)),i=new Hs(r);return new bc(e.path,i)}isEqual(e){return e instanceof DE&&Zn(this.Ac,e.Ac)}}class OE extends ao{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=Bx(this,e,!0),r=this.Ac.map(s=>uo(s,n)),i=new Qs(r);return new bc(e.path,i)}isEqual(e){return e instanceof OE&&Zn(this.Ac,e.Ac)}}class ME extends ao{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Ca(e.serializer,fb(e.serializer,this.Vc));return new bc(e.path,n)}isEqual(e){return e instanceof ME&&this.Vc===e.Vc}}function LE(t,e,n,r){const i=t.createContext(1,e,n);$E("Data must be an object, but it was:",i,r);const s=[],o=Et.empty();is(r,(l,c)=>{const h=UE(e,l,n);c=Se(c);const d=i.childContextForFieldPath(h);if(c instanceof Dc)s.push(h);else{const p=uo(c,d);p!=null&&(s.push(h),o.set(h,p))}});const a=new Jt(s);return new $x(o,a,i.fieldTransforms)}function FE(t,e,n,r,i,s){const o=t.createContext(1,e,n),a=[qr(e,r,n)],l=[i];if(s.length%2!=0)throw new $(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(qr(e,s[p])),l.push(s[p+1]);const c=[],h=Et.empty();for(let p=a.length-1;p>=0;--p)if(!Wx(c,a[p])){const g=a[p];let T=l[p];T=Se(T);const _=o.childContextForFieldPath(g);if(T instanceof Dc)c.push(g);else{const P=uo(T,_);P!=null&&(c.push(g),h.set(g,P))}}const d=new Jt(c);return new $x(h,d,o.fieldTransforms)}function jx(t,e,n,r=!1){return uo(n,t.createContext(r?4:3,e))}function uo(t,e){if(qx(t=Se(t)))return $E("Unsupported field value:",e,t),zx(t,e);if(t instanceof ao)return function(r,i){if(!Ux(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=uo(a,i.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Se(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=me.fromDate(r);return{timestampValue:ba(i.serializer,s)}}if(r instanceof me){const s=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ba(i.serializer,s)}}if(r instanceof Ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ln)return{bytesValue:Rb(i.serializer,r._byteString)};if(r instanceof we){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vn)return function(o,a){const l=o instanceof Vn?o.toArray():o;return{mapValue:{fields:{[Kv]:{stringValue:Hv},[Sa]:{arrayValue:{values:l.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return Xv(a.serializer,h)})}}}}}}(r,i);if(Lb(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${yp(r)}`)}(t,e)}function zx(t,e){const n={};return UC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(t,(r,i)=>{const s=uo(i,e.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof Ir||t instanceof ln||t instanceof we||t instanceof ao||t instanceof Vn||Lb(t))}function $E(t,e,n){if(!qx(n)||!wC(n)){const r=yp(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function qr(t,e,n){if((e=Se(e))instanceof sl)return e._internalPath;if(typeof e=="string")return UE(t,e);throw ff("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tj=new RegExp("[~\\*/\\[\\]]");function UE(t,e,n){if(e.search(Tj)>=0)throw ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sl(...e.split("."))._internalPath}catch{throw ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ff(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(O.INVALID_ARGUMENT,a+t+l)}function Wx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{convertValue(e,n="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return is(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Sa].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Me(o.doubleValue));return new Vn(n)}convertGeoPoint(e){return new Ir(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const n=jr(e);return new me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=oe.fromString(e);Y(Mb(r),9688,{name:e});const i=new Ws(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Xe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(){return new Dc("deleteField")}function Nz(){return new NE("serverTimestamp")}function Dz(...t){return new DE("arrayUnion",t)}function Oz(...t){return new OE("arrayRemove",t)}function Mz(t){return new ME("increment",t)}function Lz(t){return new Vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t){var r;const e=qe(ae(t.firestore,Ae)),n=(r=e._onlineComponents)==null?void 0:r.datastore.serializer;return n===void 0?null:Cp(n,$t(t._query)).ft}function $z(t,e){var s;const n=$C(e,(o,a)=>new Eb(a,o.aggregateType,o._internalFieldPath)),r=qe(ae(t.firestore,Ae)),i=(s=r._onlineComponents)==null?void 0:s.datastore.serializer;return i===void 0?null:Vb(i,ib(t._query),n,!0).request}const LS="@firebase/firestore",FS="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Sj{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new Et({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Aj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(qr("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Aj extends ac{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BE{}class Oc extends BE{}function Uz(t,e,...n){let r=[];e instanceof BE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof ol).length,a=s.filter(l=>l instanceof Mc).length;if(o>1||o>0&&a>0)throw new $(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Mc extends Oc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mc(e,n,r)}_apply(e){const n=this._parse(e);return Qx(e._query,n),new Tt(e.firestore,e.converter,$y(e._query,n))}_parse(e){const n=lo(e.firestore);return function(s,o,a,l,c,h,d){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){US(d,h);const T=[];for(const _ of d)T.push($S(l,s,_));p={arrayValue:{values:T}}}else p=$S(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||US(d,h),p=jx(a,o,d,h==="in"||h==="not-in");return ce.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bz(t,e,n){const r=e,i=qr("where",t);return Mc._create(i,r,n)}class ol extends BE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ol(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ge.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Qx(o,l),o=$y(o,l)}(e._query,n),new Tt(e.firestore,e.converter,$y(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jz(...t){return t.forEach(e=>Yx("or",e)),ol._create("or",t)}function zz(...t){return t.forEach(e=>Yx("and",e)),ol._create("and",t)}class jE extends Oc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(s,o)}(e._query,this._field,this._direction);return new Tt(e.firestore,e.converter,jU(e._query,n))}}function qz(t,e="asc"){const n=e,r=qr("orderBy",t);return jE._create(r,n)}class $p extends Oc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $p(e,n,r)}_apply(e){return new Tt(e.firestore,e.converter,rf(e._query,this._limit,this._limitType))}}function Wz(t){return IC("limit",t),$p._create("limit",t,"F")}function Gz(t){return IC("limitToLast",t),$p._create("limitToLast",t,"L")}class Up extends Oc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Up(e,n,r)}_apply(e){const n=Hx(e,this.type,this._docOrFields,this._inclusive);return new Tt(e.firestore,e.converter,zU(e._query,n))}}function Kz(...t){return Up._create("startAt",t,!0)}function Hz(...t){return Up._create("startAfter",t,!1)}class Bp extends Oc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Bp(e,n,r)}_apply(e){const n=Hx(e,this.type,this._docOrFields,this._inclusive);return new Tt(e.firestore,e.converter,qU(e._query,n))}}function Qz(...t){return Bp._create("endBefore",t,!1)}function Yz(...t){return Bp._create("endAt",t,!0)}function Hx(t,e,n,r){if(n[0]=Se(n[0]),n[0]instanceof ac)return function(s,o,a,l,c){if(!l)throw new $(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const d of na(s))if(d.field.isKeyField())h.push(Gs(o,l.key));else{const p=l.data.field(d.field);if(Ip(p))throw new $(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const g=d.field.canonicalString();throw new $(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}h.push(p)}return new Hi(h,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=lo(t.firestore);return function(o,a,l,c,h,d){const p=o.explicitOrderBy;if(h.length>p.length)throw new $(O.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let T=0;T<h.length;T++){const _=h[T];if(p[T].field.isKeyField()){if(typeof _!="string")throw new $(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof _}`);if(!Yv(o)&&_.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${_}' contains a slash.`);const P=o.path.child(oe.fromString(_));if(!q.isDocumentKey(P))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const v=new q(P);g.push(Gs(a,v))}else{const P=jx(l,c,_);g.push(P)}}return new Hi(g,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function $S(t,e,n){if(typeof(n=Se(n))=="string"){if(n==="")throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yv(e)&&n.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(oe.fromString(n));if(!q.isDocumentKey(r))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gs(t,new q(r))}if(n instanceof we)return Gs(t,n._key);throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yp(n)}.`)}function US(t,e){if(!Array.isArray(t)||t.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Yx(t,e){if(!(e instanceof Mc||e instanceof ol))throw new $(O.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function jp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class zE extends Gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){return new oc("sum",qr("sum",t))}function Xz(t){return new oc("avg",qr("average",t))}function Rj(){return new oc("count")}function Zz(t,e){var n,r;return t instanceof oc&&e instanceof oc&&t.aggregateType===e.aggregateType&&((n=t._internalFieldPath)==null?void 0:n.canonicalString())===((r=e._internalFieldPath)==null?void 0:r.canonicalString())}function e8(t,e){return Mx(t.query,e.query)&&Zn(t.data(),e.data())}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t){return Pj(t,{count:Rj()})}function Pj(t,e){const n=ae(t.firestore,Ae),r=qe(n),i=$C(e,(s,o)=>new Eb(o,s.aggregateType,s._internalFieldPath));return ij(r,t._query,i).then(s=>function(a,l,c){const h=new as(a);return new Sj(l,h,c)}(n,t,s))}class Cj{constructor(e){this.kind="memory",this._onlineComponentProvider=Yi.provider,this._offlineComponentProvider=e!=null&&e.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new bE(void 0)}}toJSON(){return{kind:this.kind}}}class bj{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=Dj(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class xj{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Da.provider}toJSON(){return{kind:this.kind}}}class kj{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new bE(e)}}toJSON(){return{kind:this.kind}}}function n8(){return new xj}function r8(t){return new kj(t==null?void 0:t.cacheSizeBytes)}function i8(t){return new Cj(t)}function s8(t){return new bj(t)}class Vj{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Yi.provider,this._offlineComponentProvider={build:n=>new xE(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class Nj{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Yi.provider,this._offlineComponentProvider={build:n=>new Px(n,e==null?void 0:e.cacheSizeBytes)}}}function Dj(t){return new Vj(t==null?void 0:t.forceOwnership)}function o8(){return new Nj}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="NOT SUPPORTED";class Pi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dn extends ac{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qr("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=dn._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}function a8(t,e,n){if(so(e,dn._jsonSchema)){if(e.bundle===Jx)throw new $(O.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=oo(t._databaseId),i=Nx(e.bundle,r),s=i.t(),o=new TE(i.getMetadata(),r);for(const h of s)o.o(h);const a=o.documents;if(a.length!==1)throw new $(O.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${a.length} documents.`);const l=Pp(r,a[0].document),c=new q(oe.fromString(e.bundleName));return new dn(t,new zE(t),c,l,new Pi(!1,!1),n||null)}}dn._jsonSchemaVersion="firestore/documentSnapshot/1.0",dn._jsonSchema={type:at("string",dn._jsonSchemaVersion),bundleSource:at("string","DocumentSnapshot"),bundleName:at("string"),bundle:at("string")};class cd extends dn{data(e={}){return super.data(e)}}class fn{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cd(this._firestore,this._userDataWriter,r.key,r,new Pi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new cd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new cd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Oj(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fn._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$v.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l8(t,e,n){if(so(e,fn._jsonSchema)){if(e.bundle===Jx)throw new $(O.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=oo(t._databaseId),i=Nx(e.bundle,r),s=i.t(),o=new TE(i.getMetadata(),r);for(const p of s)o.o(p);if(o.queries.length!==1)throw new $(O.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${o.queries.length} queries.`);const a=bp(o.queries[0].bundledQuery),l=o.documents;let c=new Ms;l.map(p=>{const g=Pp(r,p.document);c=c.add(g)});const h=eo.fromInitialDocuments(a,c,ne(),!1,!1),d=new Tt(t,n||null,a);return new fn(t,new zE(t),d,h)}}function Oj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:t})}}function u8(t,e){return t instanceof dn&&e instanceof dn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof fn&&e instanceof fn&&t._firestore===e._firestore&&Mx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn._jsonSchemaVersion="firestore/querySnapshot/1.0",fn._jsonSchema={type:at("string",fn._jsonSchemaVersion),bundleSource:at("string","QuerySnapshot"),bundleName:at("string"),bundle:at("string")};const Mj={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lo(e)}set(e,n,r){this._verifyNotCommitted();const i=Ci(e,this._firestore),s=jp(i.converter,n,r),o=Fp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,$e.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ci(e,this._firestore);let o;return o=typeof(n=Se(n))=="string"||n instanceof sl?FE(this._dataReader,"WriteBatch.update",s._key,n,r,i):LE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,$e.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ci(e,this._firestore);return this._mutations=this._mutations.concat(new Za(n._key,$e.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ci(t,e){if((t=Se(t)).firestore!==e)throw new $(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=lo(e)}get(e){const n=Ci(e,this._firestore),r=new zE(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return H(24041);const s=i[0];if(s.isFoundDocument())return new ac(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new ac(this._firestore,r,n._key,null,n.converter);throw H(18433,{doc:s})})}set(e,n,r){const i=Ci(e,this._firestore),s=jp(i.converter,n,r),o=Fp(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Ci(e,this._firestore);let o;return o=typeof(n=Se(n))=="string"||n instanceof sl?FE(this._dataReader,"Transaction.update",s._key,n,r,i):LE(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Ci(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j extends Fj{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ci(e,this._firestore),r=new as(this._firestore);return super.get(e).then(i=>new dn(this._firestore,r,n._key,i._document,new Pi(!1,!1),n.converter))}}function c8(t,e,n){t=ae(t,Ae);const r={...Mj,...n};(function(o){if(o.maxAttempts<1)throw new $(O.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=qe(t);return aj(i,s=>e(new $j(t,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t){t=ae(t,we);const e=ae(t.firestore,Ae),n=qe(e);return kx(n,t._key).then(r=>qE(e,t,r))}function d8(t){t=ae(t,we);const e=ae(t.firestore,Ae),n=qe(e),r=new as(e);return nj(n,t._key).then(i=>new dn(e,r,t._key,i,new Pi(i!==null&&i.hasLocalMutations,!0),t.converter))}function f8(t){t=ae(t,we);const e=ae(t.firestore,Ae),n=qe(e);return kx(n,t._key,{source:"server"}).then(r=>qE(e,t,r))}function p8(t){t=ae(t,Tt);const e=ae(t.firestore,Ae),n=qe(e),r=new as(e);return Kx(t._query),Vx(n,t._query).then(i=>new fn(e,r,t,i))}function m8(t){t=ae(t,Tt);const e=ae(t.firestore,Ae),n=qe(e),r=new as(e);return rj(n,t._query).then(i=>new fn(e,r,t,i))}function g8(t){t=ae(t,Tt);const e=ae(t.firestore,Ae),n=qe(e),r=new as(e);return Vx(n,t._query,{source:"server"}).then(i=>new fn(e,r,t,i))}function y8(t,e,n){t=ae(t,we);const r=ae(t.firestore,Ae),i=jp(t.converter,e,n),s=lo(r);return Lc(r,[Fp(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$e.none())])}function _8(t,e,n,...r){t=ae(t,we);const i=ae(t.firestore,Ae),s=lo(i);let o;return o=typeof(e=Se(e))=="string"||e instanceof sl?FE(s,"updateDoc",t._key,e,n,r):LE(s,"updateDoc",t._key,e),Lc(i,[o.toMutation(t._key,$e.exists(!0))])}function v8(t){return Lc(ae(t.firestore,Ae),[new Za(t._key,$e.none())])}function E8(t,e){const n=ae(t.firestore,Ae),r=gj(t),i=jp(t.converter,e),s=lo(t.firestore);return Lc(n,[Fp(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function BS(t,...e){var c,h,d;t=Se(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ia(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ia(e[r])){const p=e[r];e[r]=(c=p.next)==null?void 0:c.bind(p),e[r+1]=(h=p.error)==null?void 0:h.bind(p),e[r+2]=(d=p.complete)==null?void 0:d.bind(p)}let s,o,a;if(t instanceof we)o=ae(t.firestore,Ae),a=Ja(t._key.path),s={next:p=>{e[r]&&e[r](qE(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=ae(t,Tt);o=ae(p.firestore,Ae),a=p._query;const g=new as(o);s={next:T=>{e[r]&&e[r](new fn(o,g,p,T))},error:e[r+1],complete:e[r+2]},Kx(t._query)}const l=qe(o);return tj(l,a,i,s)}function w8(t,e,...n){const r=Se(t),i=function(l){const c={bundle:"",bundleName:"",bundleSource:""},h=["bundle","bundleName","bundleSource"];for(const d of h){if(!(d in l)){c.error=`snapshotJson missing required field: ${d}`;break}const p=l[d];if(typeof p!="string"){c.error=`snapshotJson field '${d}' must be a string.`;break}if(p.length===0){c.error=`snapshotJson field '${d}' cannot be an empty string.`;break}d==="bundle"?c.bundle=p:d==="bundleName"?c.bundleName=p:d==="bundleSource"&&(c.bundleSource=p)}return c}(e);if(i.error)throw new $(O.INVALID_ARGUMENT,i.error);let s,o=0;if(typeof n[o]!="object"||ia(n[o])||(s=n[o++]),i.bundleSource==="QuerySnapshot"){let a=null;if(typeof n[o]=="object"&&ia(n[o])){const l=n[o++];a={next:l.next,error:l.error,complete:l.complete}}else a={next:n[o++],error:n[o++],complete:n[o++]};return function(c,h,d,p,g){let T,_=!1;return MS(c,h.bundle).then(()=>vj(c,h.bundleName)).then(v=>{v&&!_&&(g&&v.withConverter(g),T=BS(v,d||{},p))}).catch(v=>(p.error&&p.error(v),()=>{})),()=>{_||(_=!0,T&&T())}}(r,i,s,a,n[o])}if(i.bundleSource==="DocumentSnapshot"){let a=null;if(typeof n[o]=="object"&&ia(n[o])){const l=n[o++];a={next:l.next,error:l.error,complete:l.complete}}else a={next:n[o++],error:n[o++],complete:n[o++]};return function(c,h,d,p,g){let T,_=!1;return MS(c,h.bundle).then(()=>{if(!_){const v=new we(c,g||null,q.fromPath(h.bundleName));T=BS(v,d||{},p)}}).catch(v=>(p.error&&p.error(v),()=>{})),()=>{_||(_=!0,T&&T())}}(r,i,s,a,n[o])}throw new $(O.INVALID_ARGUMENT,`unsupported bundle source: ${i.bundleSource}`)}function I8(t,e){t=ae(t,Ae);const n=qe(t),r=ia(e)?e:{next:e};return oj(n,r)}function Lc(t,e){const n=qe(t);return sj(n,e)}function qE(t,e,n){const r=n.docs.get(e._key),i=new as(t);return new dn(t,i,e._key,r,new Pi(n.hasPendingWrites,n.fromCache),e.converter)}function T8(t){return t=ae(t,Ae),qe(t),new Lj(t,e=>Lc(t,e))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t,e){t=ae(t,Ae);const n=qe(t);if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return Mn("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(s){const o=typeof s=="string"?function(c){try{return JSON.parse(c)}catch(h){throw new $(O.INVALID_ARGUMENT,"Failed to parse JSON: "+(h==null?void 0:h.message))}}(s):s,a=[];if(Array.isArray(o.indexes))for(const l of o.indexes){const c=jS(l,"collectionGroup"),h=[];if(Array.isArray(l.fields))for(const d of l.fields){const p=jS(d,"fieldPath"),g=UE("setIndexConfiguration",p);d.arrayConfig==="CONTAINS"?h.push(new Ds(g,2)):d.order==="ASCENDING"?h.push(new Ds(g,0)):d.order==="DESCENDING"&&h.push(new Ds(g,1))}a.push(new _a(_a.UNKNOWN_ID,c,h,va.empty()))}return a}(e);return cj(n,r)}function jS(t,e){if(typeof t[e]!="string")throw new $(O.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function A8(t){var i;t=ae(t,Ae);const e=zS.get(t);if(e)return e;if(((i=qe(t)._uninitializedComponentsProvider)==null?void 0:i._offline.kind)!=="persistent")return null;const r=new Uj(t);return zS.set(t,r),r}function R8(t){Xx(t,!0)}function P8(t){Xx(t,!1)}function C8(t){const e=qe(t._firestore);dj(e).then(n=>U("deleting all persistent cache indexes succeeded")).catch(n=>Mn("deleting all persistent cache indexes failed",n))}function Xx(t,e){const n=qe(t._firestore);hj(n,e).then(r=>U(`setting persistent cache index auto creation isEnabled=${e} succeeded`)).catch(r=>Mn(`setting persistent cache index auto creation isEnabled=${e} failed`,r))}const zS=new WeakMap;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return WE.instance.onExistenceFilterMismatch(e)}}class WE{constructor(){this.i=new Map}static get instance(){return kh||(kh=new WE,rB(kh)),kh}u(e){this.i.forEach(n=>n(e))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.i;return r.set(n,e),()=>r.delete(n)}}let kh=null;(function(e,n=!0){F$(Ha),pa(new zs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ae(new B$(r.getProvider("auth-internal")),new q$(o,r.getProvider("app-check-internal")),xU(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ui(LS,FS,e),Ui(LS,FS,"esm2020")})();var qS={};const or=typeof window<"u"&&window.__VITE_ENV__?window.__VITE_ENV__:void 0,Rt=typeof process<"u"&&qS?qS:void 0,Cn={apiKey:or&&or.VITE_FIREBASE_API_KEY||Rt&&(Rt.VITE_FIREBASE_API_KEY||Rt.FIREBASE_API_KEY)||"",authDomain:or&&or.VITE_FIREBASE_AUTH_DOMAIN||Rt&&(Rt.VITE_FIREBASE_AUTH_DOMAIN||Rt.FIREBASE_AUTH_DOMAIN)||"",projectId:or&&or.VITE_FIREBASE_PROJECT_ID||Rt&&(Rt.VITE_FIREBASE_PROJECT_ID||Rt.FIREBASE_PROJECT_ID)||"",messagingSenderId:or&&or.VITE_FIREBASE_MESSAGING_SENDER_ID||Rt&&(Rt.VITE_FIREBASE_MESSAGING_SENDER_ID||Rt.FIREBASE_MESSAGING_SENDER_ID)||"",appId:or&&or.VITE_FIREBASE_APP_ID||Rt&&(Rt.VITE_FIREBASE_APP_ID||Rt.FIREBASE_APP_ID)||""};let sa,hd,ag;const lg=!!(Cn.apiKey&&Cn.projectId&&Cn.appId);typeof window<"u"&&(window.__APP_ENV={firebaseConfigIsValid:!!(Cn.apiKey&&Cn.projectId&&Cn.appId),hasProjectId:!!Cn.projectId,hasApiKey:!!Cn.apiKey},console.debug("[env] app env probe:",{firebaseConfigIsValid:window.__APP_ENV.firebaseConfigIsValid,hasProjectId:window.__APP_ENV.hasProjectId}));if(Rt&&Rt.JEST_WORKER_ID){const t={};sa=t,hd=t,ag=t}else{const t=[];if(Cn.apiKey||t.push("VITE_FIREBASE_API_KEY"),Cn.projectId||t.push("VITE_FIREBASE_PROJECT_ID"),Cn.appId||t.push("VITE_FIREBASE_APP_ID"),t.length){const n=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?`Create a \`.env.local\` at the repo root with the missing values, for example:

VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_APP_ID=your_app_id

then restart the dev server (npm run dev).`:"Ensure your build injects the VITE_... variables (GitHub Actions: set repo secrets prefixed with VITE_ and forward them to the build job).",r=`Firebase config error  missing env: ${t.join(", ")}. ${n}`;console.error(r),sa={currentUser:void 0},hd={},ag={}}t.length||(S5().length||VP(Cn),sa=D$(),hd=new br,ag=_j())}function Zx(){const[t,e]=V.useState(null),[n,r]=V.useState(!0);return V.useEffect(()=>{if(!lg)return e(null),r(!1),()=>{};const o=I6(sa,a=>{e(a),r(!1)});return()=>o()},[]),{user:t,loading:n,signInWithGoogle:async()=>{if(!lg)throw new Error("Firebase not configured (see README)");await z6(sa,hd)},signOut:async()=>{lg&&await T6(sa)}}}var GE={},ug={};const Bj=Wr(xL);var WS;function jj(){return WS||(WS=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Bj}(ug)),ug}var zj=pv;Object.defineProperty(GE,"__esModule",{value:!0});var ek=GE.default=void 0;Gj(V);var qj=zj(jj()),Wj=j;function tk(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(tk=function(r){return r?n:e})(t)}function Gj(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=tk(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}ek=GE.default=(0,qj.default)((0,Wj.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const Kj=()=>{const{signInWithGoogle:t}=Zx();return j.jsx(fy,{display:"flex",alignItems:"center",justifyContent:"center",height:"76vh",children:j.jsx(A4,{sx:{width:420},children:j.jsxs(x4,{children:[j.jsx(jd,{variant:"h6",gutterBottom:!0,children:"Sign in"}),j.jsx(jd,{variant:"body2",color:"text.secondary",mb:2,children:"Sign in with Google to manage staff and templates."}),j.jsx(mi,{startIcon:j.jsx(ek,{}),variant:"outlined",fullWidth:!0,onClick:()=>t(),children:"Sign in with Google"})]})})})},Hj=V.lazy(()=>Kr(()=>import("./StaffList-aqbZSy7I.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(t=>({default:t.StaffList}))),Qj=V.lazy(()=>Kr(()=>import("./StaffEdit-DCXoojIz.js"),__vite__mapDeps([10,3,4,5,6,7,8])).then(t=>({default:t.StaffEdit}))),Yj=V.lazy(()=>Kr(()=>import("./StaffGroups-BnsAYkGy.js"),__vite__mapDeps([11,1,2,12,7,8,5,13,3,14,6,15,16,17,18,9])).then(t=>({default:t.StaffGroups}))),Jj=V.lazy(()=>Kr(()=>import("./TemplateEditor-BW1M517K.js"),__vite__mapDeps([19,2,20,4,5,6,7,8,9,14])).then(t=>({default:t.TemplateEditor}))),Xj=V.lazy(()=>Kr(()=>import("./EmailQueue-Cqr7G_8o.js"),__vite__mapDeps([21,2,4,5,9])).then(t=>({default:t.EmailQueue}))),Zj=V.lazy(()=>Kr(()=>import("./ComposeEmail-P2zWJ-G1.js"),__vite__mapDeps([22,20,6,7,8,5,18,13,9,15,16,23])).then(t=>({default:t.ComposeEmail}))),ez=V.lazy(()=>Kr(()=>import("./RulesList-CidTzlPG.js"),__vite__mapDeps([24,12,7,8,5,13,2,25,16,9,14])).then(t=>({default:t.RulesList}))),GS=V.lazy(()=>Kr(()=>import("./RuleEditor-TWEXSeZJ.js"),__vite__mapDeps([26,4,5,6,7,8,25,16,15,23,14])).then(t=>({default:t.RuleEditor}))),tz=V.lazy(()=>Kr(()=>import("./DevSetupBanner-BA67uire.js"),__vite__mapDeps([27,17,8,18,9])).then(t=>({default:t.DevSetupBanner})));function nz(){const t=Ka();return j.jsxs(py,{direction:"row",spacing:2,alignItems:"center",children:[j.jsx(jd,{variant:"h6",children:"Email Reminder  Demo"}),j.jsx(aP,{orientation:"vertical",flexItem:!0}),j.jsx(mi,{component:Io,to:"/staff",variant:t.pathname==="/staff"?"contained":"text",children:"Staff"}),j.jsx(mi,{component:Io,to:"/staff-groups",variant:t.pathname==="/staff-groups"?"contained":"text",children:"Staff Groups"}),j.jsx(mi,{component:Io,to:"/templates",variant:t.pathname==="/templates"?"contained":"text",children:"Templates"}),j.jsx(mi,{component:Io,to:"/compose",variant:t.pathname==="/compose"?"contained":"text",children:"Compose"}),j.jsx(mi,{component:Io,to:"/rules",variant:t.pathname.startsWith("/rules")?"contained":"text",children:"Rules"}),j.jsx(mi,{component:Io,to:"/queue",variant:t.pathname==="/queue"?"contained":"text",children:"Email Queue"})]})}const rz=()=>{const{user:t,loading:e,signOut:n}=Zx();return e?j.jsx("div",{children:"Loading"}):t?j.jsx(YF,{children:j.jsxs(U4,{maxWidth:"lg",sx:{py:4},children:[j.jsxs(py,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:3,children:[j.jsx(nz,{}),j.jsxs(py,{direction:"row",spacing:2,alignItems:"center",children:[j.jsx(jd,{variant:"body2",children:t.email}),j.jsx(mi,{onClick:()=>n(),children:"Sign out"})]})]}),j.jsx(fy,{children:j.jsx(V.Suspense,{fallback:null,children:j.jsx(tz,{})})}),j.jsx(fy,{children:j.jsx(V.Suspense,{fallback:j.jsx($4,{}),children:j.jsxs(zF,{children:[j.jsx(In,{path:"/",element:j.jsx(UI,{to:"/staff",replace:!0})}),j.jsx(In,{path:"/staff",element:j.jsx(Hj,{})}),j.jsx(In,{path:"/staff/:id/edit",element:j.jsx(Qj,{})}),j.jsx(In,{path:"/staff-groups",element:j.jsx(Yj,{})}),j.jsx(In,{path:"/templates",element:j.jsx(Jj,{})}),j.jsx(In,{path:"/queue",element:j.jsx(Xj,{})}),j.jsx(In,{path:"/compose",element:j.jsx(Zj,{})}),j.jsx(In,{path:"/rules",element:j.jsx(ez,{})}),j.jsx(In,{path:"/rules/new",element:j.jsx(GS,{})}),j.jsx(In,{path:"/rules/:id/edit",element:j.jsx(GS,{})}),j.jsx(In,{path:"*",element:j.jsx(UI,{to:"/staff",replace:!0})})]})})})]})}):j.jsx(Kj,{})},iz=_v({palette:{mode:"light",primary:{main:"#0b63ff"}},typography:{fontFamily:'Inter, Roboto, -apple-system, "Segoe UI", "Helvetica Neue", Arial'},components:{MuiButton:{defaultProps:{disableElevation:!0}}}}),sz=document.getElementById("root"),oz=aR(sz);oz.render(j.jsx(Ts.StrictMode,{children:j.jsxs(TL,{theme:iz,children:[j.jsx(q4,{}),j.jsx(rz,{})]})}));export{lg as $,B as A,fy as B,A4 as C,Qe as D,Ee as E,tr as F,At as G,wM as H,vM as I,Ps as J,NO as K,r4 as L,sP as M,Yf as N,Fm as O,Xn as P,lz as Q,LO as R,py as S,jd as T,qR as U,Hl as V,WR as W,ay as X,ap as Y,qf as Z,Kr as _,fP as a,Vn as a$,jL as a0,fv as a1,hz as a2,AO as a3,zR as a4,$4 as a5,p8 as a6,D$ as a7,me as a8,T8 as a9,Gx as aA,oc as aB,Sj as aC,ln as aD,Iz as aE,wr as aF,we as aG,dn as aH,sl as aI,ao as aJ,Ae as aK,$ as aL,Ir as aM,yj as aN,Uj as aO,Tt as aP,ol as aQ,Oc as aR,cd as aS,Bp as aT,Mc as aU,$p as aV,jE as aW,fn as aX,Up as aY,Pi as aZ,$j as a_,kL as aa,az as ab,Ts as ac,TI as ad,oR as ae,jR as af,bO as ag,RO as ah,c4 as ai,Fu as aj,kn as ak,CO as al,wL as am,tL as an,TO as ao,BR as ap,rP as aq,$u as ar,QM as as,zf as at,Ba as au,uz as av,cz as aw,Oz as ax,KS as ay,uv as az,ag as b,l8 as b$,Lj as b0,$v as b1,Ye as b2,Ws as b3,q as b4,mz as b5,$$ as b6,Fe as b7,b8,ae as b9,Qz as bA,qe as bB,Lc as bC,Pj as bD,t8 as bE,d8 as bF,f8 as bG,m8 as bH,g8 as bI,_j as bJ,A8 as bK,Mz as bL,Tz as bM,Wz as bN,Gz as bO,MS as bP,n8 as bQ,i8 as bR,r8 as bS,vj as bT,w8 as bU,I8 as bV,jz as bW,s8 as bX,o8 as bY,Dj as bZ,Mx as b_,pz as ba,$z as bb,Fz as bc,yz as bd,Mn as be,Q$ as bf,Zz as bg,e8 as bh,zz as bi,Dz as bj,Xz as bk,Rz as bl,Ez as bm,mj as bn,Rj as bo,C8 as bp,Vz as bq,bz as br,P8 as bs,kz as bt,a8 as bu,Sz as bv,Az as bw,Cz as bx,R8 as by,Yz as bz,mi as c,wz as c0,c8 as c1,y8 as c2,S8 as c3,fz as c4,u8 as c5,Hz as c6,Kz as c7,Jz as c8,xz as c9,Lz as ca,Pz as cb,gj as d,sa as e,_8 as f,h8 as g,vz as h,BS as i,j,x4 as k,v8 as l,CL as m,E8 as n,qz as o,jj as p,Uz as q,V as r,Nz as s,pv as t,dz as u,Fn as v,Bz as w,er as x,vn as y,be as z};
